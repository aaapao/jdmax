/*
活动名称：关注店铺有礼（超级无线）
活动链接：https://lzkj-isv.isvjcloud.com/prod/cc/interactsaas/index?activityType=10069&templateId=<模板id>&activityId=<活动id>&prd=cjwx
		https://lzkj-isv.isvjcloud.com/prod/cc/interaction/v1/index?activityType=10069&templateId=<模板id>&activityId=<活动id>&prd=cjwx
		https://lorealjdcampaign-rc.isvjcloud.com/interact/index?activityType=10069&templateId=<模板id>&activityId=<活动id>&prd=cjwx
环境变量：jd_lzkj_loreal_lkFollowShop_url // 活动链接
		jd_lzkj_loreal_lkFollowShop_opencard // 是否入会（true/false），默认不入会
        jd_lzkj_loreal_lkFollowShop_Notify // 是否推送通知（true/false），默认不推送
        jd_lzkj_loreal_lkFollowShop_break // IP被限制后继续执行，默认退出运行（true/false）

cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#关注店铺有礼（超级无线）
1 1 1 1 * jd_lzkj_loreal_lkFollowShop.js, tag=关注店铺有礼（超级无线）, enabled=true

*/

const $ = new Env('关注店铺有礼（超级无线）')
var iｉl='jsjiami.com.v7';const l1i1i=iii1II;if(function(I1I1li,l1i11,IlI1li,IlI1ll,ll11l,III111,liIll1){return I1I1li=I1I1li>>0x7,III111='hs',liIll1='hs',function(l1llli,iI1lII,ll11iI,l1i1I,l1llll){const I1lIIi=iii1II;l1i1I='tfi',III111=l1i1I+III111,l1llll='up',liIll1+=l1llll,III111=ll11iI(III111),liIll1=ll11iI(liIll1),ll11iI=0x0;const I1I1ll=l1llli();while(!![]&&--IlI1ll+iI1lII){try{l1i1I=-parseInt(I1lIIi(0x21c,'UBmZ'))/0x1+parseInt(I1lIIi(0x1d7,'UBmZ'))/0x2*(parseInt(I1lIIi(0x21a,'nuV8'))/0x3)+parseInt(I1lIIi(0x8a,'4c()'))/0x4*(parseInt(I1lIIi(0x286,'V((B'))/0x5)+-parseInt(I1lIIi(0x241,'8pnd'))/0x6+parseInt(I1lIIi(0x93,'V((B'))/0x7+parseInt(I1lIIi(0x8b,'ga@m'))/0x8*(-parseInt(I1lIIi(0x15a,'YhNL'))/0x9)+parseInt(I1lIIi(0x325,'j4aQ'))/0xa;}catch(lil1i){l1i1I=ll11iI;}finally{l1llll=I1I1ll[III111]();if(I1I1li<=IlI1ll)ll11iI?ll11l?l1i1I=l1llll:ll11l=l1llll:ll11iI=l1llll;else{if(ll11iI==ll11l['replace'](/[WUHIpLMtRgEfQkuyldwbh=]/g,'')){if(l1i1I===iI1lII){I1I1ll['un'+III111](l1llll);break;}I1I1ll[liIll1](l1llll);}}}}}(IlI1li,l1i11,function(liiiil,IIIIli,lllIi,lil1l,lllIl,Iliii,illlii){return IIIIli='\x73\x70\x6c\x69\x74',liiiil=arguments[0x0],liiiil=liiiil[IIIIli](''),lllIi=`\x72\x65\x76\x65\x72\x73\x65`,liiiil=liiiil[lllIi]('\x76'),lil1l=`\x6a\x6f\x69\x6e`,(0x16f62c,liiiil[lil1l](''));});}(0x6380,0x625f2,Iii11l,0xc9),Iii11l){}const jdCookie=require(l1i1i(0x337,'nTaT')),common=require('./utils/Rebels_jdCommon'),notify=require('./utils/Rebels_sendJDNotify'),getToken=require(l1i1i(0x170,'VXPr')),{wuxianDefense,getJdEnvInfo}=require('./utils/Rebels_H'),{loreal_savePrize}=require(l1i1i(0x229,'FHa^'));console[l1i1i(0x14d,'S%M0')](''),console[l1i1i(0x11e,'vmBJ')](l1i1i(0x1ae,'6(FM')+$[l1i1i(0xe8,'j4aQ')]+'变量说明=========='),console['log'](l1i1i(0x19d,'wzx4')),console[l1i1i(0x35f,'34Nc')](l1i1i(0x1cd,'q^qx')),console[l1i1i(0x94,'qdo[')](l1i1i(0x2b8,'8pnd')),console['log'](l1i1i(0x112,'Oaog')),console['log'](l1i1i(0x82,'s$gA')+$['name']+'提示结束=========='),console['log']('');const activityUrl=process[l1i1i(0x1d9,'fKTg')][l1i1i(0x314,'wzx4')]||process['env'][l1i1i(0x243,'J(1k')]||'',joinMember=process[l1i1i(0x2d6,'w]%W')][l1i1i(0xc0,'UBmZ')]==='true',isNotify=process[l1i1i(0x2e9,'q^qx')][l1i1i(0x328,'wzx4')]==='true',hotbreak=process[l1i1i(0x1d9,'fKTg')]['jd_lzkj_loreal_lkFollowShop_break']===l1i1i(0x303,'qdo[');let cookie='';const cookiesArr=Object[l1i1i(0x2d4,'20z1')](jdCookie)[l1i1i(0x20b,'q^qx')](llIIil=>jdCookie[llIIil])['filter'](llIIii=>llIIii);function Iii11l(){const Iliil=(function(){return[...[iｉl,'fHWgjsdMjiLIatmuiyk.hcWoQbm.yUyvR7wpEMHl==','aZtdQ8kIWOK','ySkLAq','tmk9kmo+WRa','W4JdL3FdOv/cGmoMwSkz','p8o3W4m','WPmXCIyRWR7cMW','WR0lWRS','5yU25yEn5BMp6zod5lYZ5zgJ5OUU5yIY','pgddQb1UfSojWPldI8k8mG','W5NcS8kchSk2WPpdNW','W57cKSoFbr3cT8kogmoC','DmoGWOpdN105W7THpW','WP0+EmoqvCoBD8kUsIldQbyOESkDW5dcQmkUg8kXW6CTW4hdSCo1WRKnc2DY','WPtdM8kvAfmVwq','cbLKWPDOWQ/dKG','WOBdM8kszwG8weu','nSorW7n8WP0UmLyWfqFdVcnjjCozg8k/WOldLW','BIFcISkMW4pdKaDqW5NcGa','rZfcW7pcRq','W4SDvHKTWRdcKa','W4CButK4WRBcGq/cTa','W5roW4lcK8ky','W4ewW6rEWR5Q','cSosWQ/cGe8','5P2B6ign6iY05y+755sz5OQp6yQe5P6j5l645OcM','Ea3dVmkJW5q','ggTBW4uB','EmojWQddKf7dOum','iCoLWQJcGW','WP/dG0ldN0tcQ17dSa3cVCo6e8kw','z8kyW6Gi','W4dcICovfdBcMmkcea','W4tcPmkyf8kYWQddGZxdQW','iJBdHSkBWQ7cN8oiua','W4xcNqNcJahdQq','WRxcVtnlWQmnAM0v','sJLN','W5WRW61pWOG','gvrZ','xu3dM8ow','WP3cO8kmd8kHdSo8WQdcNCkwW6i','W5CrW6TSWOb8lmolWOi','W5BdKx8+Ba','WQZcVsvlW5epAwagxG','W4arsWSGWRVcJa','WPXvv8kDW58','ECkhhG','W60JW5POWPBcJG','cfBdLta','fHD+WPrBWR3dMq','f2DCW4mI','8jwtJCkQ56Qj5Rkv','qmkpW5fxW6u','evPGqW','mwhdMY12','WQveE8kfW6eqt3LGWP3cPr7dMCkEtSoDFwhdNCoHlrO1W5eaW4FcI8ksWPmBW5tcJCoPaNZdMSkEW6VMMANLKjhPG6BNNlhVVRXaWRpcOezhimo7W6tdHmow772577YX6BUj6k2M5lQk6yke552L','pJddJW','WRFdJmkUFKm','fr0xCYDFECkb','WQZdMmkRtKG','44ch5lIq5lUi6lAW5y+f','tGZdSG','W4/dNM8ZEK8vpa','WPyfWPpcVdpcVrNdKG','WR3cQKahmmkWh3ldOq','W53cJSo7u8kOWRHdge/dU8ozj8o4W6dcVZm','m8oXW5lcMhddMauF','hfvWr8oh','W5rBW7tcGW','WQSlWQ3dOSoiprddGG','WPC6x8ozCG','WQlcQq9VWR0','egzlW6unW6RdQSoyFSkn','5RsU5yMa5Bg/5z6cW6u','WRldMmk1wNW','Cd5faCou','iSoXj8olcCo8WRWqAW','5lQJ5lQr5lM38yE0H++6PG','WQDfrCknW74jvG','5RAp5yM+5BoR5P2h5B+x5As/77625B2f5Awf5Pwx6zA577YK','aLD8Amoj','rqddUCkaW6avW6u','eSomW73cHMa','W7qZW41E','BbDIW6pcLmost8kBkmowW7u','n8oToa','o2RdPa','W5KmW6n1WPLGi8oE','DCoXWOldK0eOW7DckmkpWQhcIumd','772v5BwS5OQR5yMP6iEt5yIE55Iy6k+a5PE+6lso5z6r5z2eoci','B8kavmoPWOVdTSkOW6TqoCkEWP4DWP8','4P2QDUIeMUADPUI9IEIIIEMdN+wkVEs6PEMwMoITGmkc','yGhdJ8kDW7C7W67dTSkW','WPuGA8oqsCoCC8kP','W4bBW7tcISk4W4JdHmkf','W5/cMbpcMshdQaK','sSkwWO/dJL3cUgu','W6/dKNddNuO','W741W4beWO7cG8oRdtBdLW','WP3cSmkia8k5a8olWRBcPSkqW6VdHJe','Fr14W57cJCoqxSkm','qCorWR3dReK','W5ZcHCofdYFcLmkCeG','f8ozW7S','CSosWQi','fgxdN8oWW40','5P6E5B+w5As6','4PUTboITRUwhK+wSKEs7UUw/JEINOoEzKoEnIUwJJowpOUMeH+wqHowePUI8UoIHVoIeJUADRa','l3BdSJf2gW','zSkgW61DW5S','WQCgW64TW6hdHmoyWOe','zWFcH8kRW5y','W57cUSoXgZm','8kUSIM4','y8k5Aq','W4RcMGi','ECkhc8opWQtcTSk4W6CikCooW55sW49LWRFcO8octW','WOtdN8kvFvK+wKtcKa','W45cWONcVXVcHqW','wcfFW44','5Aww5zkd5Bsp5yYv5AYU','W6ZcIhxdKsBcNCoK','BsFcJSk3W4pdHaC','W5JcMXpcHWq','W5ZcOmo/qSkt','WQuoW64DW6hdGG','W7e/W5DgWRBcI8oYeq','WR1UACklwx8','W5RdHg3dSLNcNCoXtmkt','WQtdRCkjqw8','vSk0WRFdQW','W6POW4m','W6vVW5HCW7ddUWxdNW','q0ldKCooW6tcQNGD','iYRdPmkPWQW','8kYERCk5','egzlW4KvW6FdISoir8krjdi','qmkBhmoyWOVcU8k/W6y','lubb','WQlcOSocvrtcMW','WRVdR8k3sw4','W5ZcICo8pbe','ymoDWR3dOG','W6KNsJFdR8kHlW','W47cImo8ySkJWR5d','WQqSW7eAW7G','dgH1vSox','WRVcSSo8trVcG8oyr1NcLXdcIYpdJqFdJrbXW5LlWQRdQ8kbiNxcSKWpDhzu','W6tcPbxcVJi','W6KTsYRdJW','W5ZdK2RdRfNcU8obwa','5yQc5yAJ5BMv6zg05lYx5zgT5Aw36lwt77635REQ5yM45lI06zUQ5BQ86zog5lYZ5zo55y+25lIM5zchqq','fWOnEr17zmkaEq','WPddK8kE','W7RdPg/dMhy','owldQbu','gmoEW6Disq','g2PwW44QW6ddMmoE','56UL5Rgc8lksHq','W61bWPRcNr0','b2bMiN4XWQC','W6rVW6xcPmkI','WQqBW7iqW6ddImouWONdGq','WRNcS8ocrqtcMSob','WPVcHJFcVa3dVSk6dmkpW6lcH3fKWRK','W7yPrtpdS8kHla','6iY75y+xWPTKW6RdTaxdGNlLPP/OTOlVVy8','WRVcSSo8trVcG8oyr1NcLXdcIYpdJqFdJrbXW5LlWQRdQ8kbiNxcSKWpt2TmW53dH34','W7yTqsy','bCoXWPbSCa','WPeQW4WJW7q','BmoUWPFdNwu','4P2myUw+RUwkIEA2MEwiI+EWMEwEJU++OW','vSkPWQNdQ2m','W51FW7pcKCk3W47dJa','gMX7bxa9WQCZ','W5XvW6C','WQtcTKajbCkqh0ddOrJcKmkO','WQRcVv0XnmknfgFdUJlcHCk2xI1tlLOTEq','W4ZdN3W','gfFdVmoPW4xdKMue','WO/XHzwV','iCohW6nCW6dcNfJcNNhcHa','pCo/W4/cLW','WPGVFmoD','areC','W7pcIhxdKHJcMCoUWONcIq','5PYm6ikR6i635y6C55AX5OUY5RAJ5yIL54Qv5Oka','WRCnWQq','nSoSW5lcKvddMa','W6WStY/dLmkWj8kt','bxDsW4Kc','uCkBWOhdMNBcQ3VcPW','WP3cKrftWRK','W7FLVA/LPyVVVBxMM5tNGjBLHldMNORLKP9H','ndddHmkJWQ7cGW','xKpdMCohW78','W4pcHCofdbNcNSkk','W6zLW69FW67dUG4','WOKzvrO/W7JcNbtcS8koohOeeG','W7hcN2/dMclcTmoGWOdcIq','W6e9Cq','rKpdLq','h1r9tmo8W7/dHc8','WPq6Fmomt8kcoCo1','E8khW6jDW40','rCorWQBdUfi','W750W5v1W6VdUW','W7naW6BcQ8ks','WPe6W5uXW74','e2rmW4KaW4FdKmoxFa','4P+aiEAEKEIdJEAVPUEJSEwLPoEsQNi','WO/cQ8krfSkfeSoM','DUE5U+AEH++8TEs4OUASMUAuL+EaLoADO+wtJuW','W6mRva','umkJWRhdVLjynre','WOxdJSkuzgG6xeBcJa','W6zUW5jEW4hdUHm','WRxcLLaCiG','qKpdGCowW7/cR3al','W4dcNb0','C8o8WPJdMeq','W6bUW5W','zSo3WOxdN0u3W6z+d8kD','WObyACkSxW','5Rs75yUQ5lI46zQu5BI16zgz5l245zgD5y2P5lUI','WQn0ya','W6WCyaq6WP7cMXZcQa','aSoeW7fex8oFWPNcRca','W5ZcKG7cGr3dVaRdPa','W5JcUCkw','v8kQWO3dV10','W6FORk/MSilLK7BLUAHo','W5yrsZ4JWRZcKbq','WPWkW4ddHeRdMvBcNSkIwq','5RAi5yUl5Bw45lQvW7a','C8kbaq','W64MW7zOWQ4','44g65O+v56sV44ga6k+O5ysE6i215y6lF8ofoX0yWRW','W6WJW5DoWP3cMCoS','xIrkbCoE','WQlcQeWtfSkya3ddMWhcMq','WP3dMCk9bCoUW7zKffxdG8othW','oSo/oqb4ESkRWOmEtSkGWRC','WRO0WO7dN8o9','5Rs85yI85Bsd57ML5P2S772s57Mb5P2y5PAW6zsn77+Y','5Rw25yQm5BwR57Mi5P+u776/57UB5PY+5PsI6zsr772v','WQVcTYC'],...(function(){return[...['sCkYWPxdQ0m','W5NdGMxdUKJcNCoHuCkt','pSoSkq','WPvihvX7W6hdJaVcLSk+o1K+','tSkPWQu','W5LuW6pcJSkJW43dJmkt','zCkQW4jjW4e','W741W4b+WOZcI8oRaqW','W7enyqhdIa','WR1vsSkSW7uF','WR3cUCoe','W4NcHmoKwSk1WRL1oLpdNq','WP/cSSkDb8kJaG','6iYy5yY9W5ngWRpcOhi9v8oiW5ii5AA66lAS','WRenWQRdMmoKorhdIq','DmkXW6xdLsNdNHe8ECkGW7ihia','WPvieL58W6BdGZtcQSkUp2On','e+A2I+wiQ+wLG+wrS++9Gq','FGfCW5pcKq','y8khW64','nwZdRWb2hSoqWO4','e1jS','rSksWPRdIW','gmoEW7biq8om','cXCd','DCoFW6q','nmoQnG','5P236io+6iYR5y6I5RsJ5yUx57og5z2G','WQT6rSkCzW','5BQ96zow5zk/56ws776lW60','WQpcO8onza/cJa','W7qVsIyL','WPvcB8keBW','kmoiW4/cVxu','WO7cT0CjmmkxbtNdMGRcHCkJ','WO7cPCklfSkicSo7WR4','gND8k3OyWQmWwq','ggbMiua7WRe6','W68Trs3dOSk7jSkfkHXaW7S','W4RcHCoRrmkJWR5saLxdGW','bCoLWRPBua','crnW','aLP9vG','WO4RE8omy8ovzCk9','WR3cQKahmmk3ehNdQW','WQ7cNxtdJspdLCoIWO7dG0Dltf7dJ2BdTfqed8k9WR0','W45IW7zDW6C','n8oHWQ/cKKFcH1SR','F8kmjSogWR/cSCk4W5Whj8orW4TsW4PDWRxdPCo2q8oMjCkzW7dcI3HOwvddV8keg3iBwxpcUq','jCoIj8of','jCoCWRLnxeG','WP8IW5yFW54','5lMQ5AYG5z2m','y8kZFSke','jghdRdDZ','gw58iu0JWQW','5P6l5BY35As2','W4aiW6nRWOj7kW','W4VcJSovdqhcICkB','rCk6eSo6WO8','W4TyWPtcLZtcIW/dHG','W5ncWPpcVbNcGa','WRxcT8oxqa','WPeRE8opxCoFCW','DYpcLmkW','bb9JWO1/WQhdG3pcQmkC','W5VcO8kfk8k7WPxdNq','icRdHSkkWQ/cKa','jCoaWRDjz1RcK8oi','W4tcOSkUhCk+WPO','W4DjW6PyW4G','iXTAWRzR','W6JcK8oSDCkD','pSoxW5TcDW','5lUI5Awn6ycD55YR','D8o3WQ/cLxtcUMO','kSo1W5lcHMVdGW0','z1RdOmo7W54','W5ztW7G','WRT0BmkRwq','W5ecW4bSWPK','jmoDWRz8r18','W6vYWO/cSsm','efvWDSowW73dHq','WQBcUZrsWOOhCxaLsr8','W4lcMSoDfq','CYRcKSk0W6VdHW','n8olW4/cG2m','W4tdL2NdRq','iCojWRfn','W5euW45NWP0','WRVcVuCzmmkloha','q0ldGCohW6pcUG','W5tcIWlcKqVdPr/dUstcKmoZkCk3uftdPYTYsCorq8kHuSkPcvpcNSkNW5JdOmkVruxdSb0wWPZdHeFdIa','WQtcHCoBvdy','W6GNxZddGmkZjW','uhBdImooW7a','hNblW6ypW6/dMq','faGiAGW','W4egW7LRWO9JnSow','W6SNwYhdGmkNj8k1er4','WQGjWQRdHSo1iXS','mCoQW4/cHKRcJeXF','b15NuSoGW73dKY0','fSouWOJcLui','WRzizSk6xW','E8otWRm','vt5VoSoxWQtdTCoO','ASoXWOldHvi5W7C','gCovW6jjvmokWOm','5lQI6zIO5PEu55sR5OMp5y+W5lIe','W4VcISo8vW','W4H5WQNcTq4','WP00WRNdMmoI','W5ZcKGJcMHBdIbxdRq','WP0TFmoVsmozzmkUDYtdQ1W','F8kbW6DSW4ZcMflcMW','emotW7Der8orWOtcSW0WWOtcOG','bu5NsG','W7iZW4DEWPNcJCo6','fgTCW5iAW77dIG','5RwM5yQR5BwU5lU6oa','W5dcT8kfda','q0ldLSohW6K','imkjW7LrWOZcH1BcHNpdJJakW6JdQmodBgxcNCocWQ3cHxuFzSokW5euf2RcNCkEzSoJWRH0bCoWWPGSW4pcVgT9W5BcNrxdI8kiW7VcSCk1','sthcI8kqW43dIaDRWPy','nujLW5qt','q8kqWPRdR1BcRKlcQ33cHG','rvNdHSoKW73cR3O','WPJcOCkmbW','qGhdLCkFW7SzW6RdJ8kZeJ49WPJdKI7dGCkaWO/cH8oXWOxcTCkjW4NcPrRdT3brWRRcRJpdLSk9ju0GWPtcLUMBQ+wlOowsJUE7O+E4SEAlQ+IIKU+/Sc5WW6pcUrxcGCosW6XhWOhVVPi','qZHJomoGWRxdRa','Fmk/yhqNla','W47dL3ddQq','ybfLW7NcG8oCxG','WR4bW6KnW57dHSotWRVdL3tcLd0','WQbvumkVW7CAqG','uSkVWQZdMMjEiXG','gCoFW7bzx8ozWP3cRW','WPKiWO/dMCoI','5PYT552X5REk5yIE54Qf5OgFWRi','W63cGMe','bMPY','6i6F5y6ZWQRcG8oOhmouW7/cTbGIEowNIoI2M++9Sa','EJldPCk/W6G','WPFcJZfHWOK','B8kPEMi9kCkRWOuQ','D8orW65W','WQCDW6KdW6VdOCoCWOldNq','W53cJSo7rSkfWQnvnq','mZZdNmkBWRJcHmoi','dwbHbg06WPi8tSolormfWRZdPa','W58mW60','WRdcTCoxsbFcGCogywhcGrlcIW','a8ofW61Ox8oC','5lMu5A+g5z6t','isVdICk7WRtcHW','DmovW7bMW5m8ja','ysDZW6FcSa','WRimWQddMSosmHddNW','WRXWBSk+zw7dGq','W5WtW691WPnVn8ovWRldLSoz','h0BdIZP5','WPXXuSk9W5q','jeRdQSo+W7NdHW','ghb7fheY','DSofW7DtW546jG','m8oZpSoDbCorWRWjzZ5fgqVdK8o+DCoXWRZdKSkuetVdICkEW4HyWR91W4lcGr0Owq','WPRcQCka','sSkPWRhdUMnukXm','W4lcJSo7rCk7WQLd','u+AiO+s6LUwTQoEjKmkw','8kAFO++4Ma','W5yktbaPWPNcLbFcOG','qmkNWRhdQ1HhkG','bb9JWRD9WQNdG3/cKG','W5nsWO3cLrBcHW4','77Yq5PIY5lQo5y+c5P6E6iwb5P2T5PsC5O2d77Y06k6z6iog57k+5l266icp6l2U6kc45yYv6AwJ7764','W6frW5raW5W','CSojWP/dGKu','W6VcGM/dJatcLCoLWOG','kH1DWOTU','W6VcIvldJsZcN8oV','W7CNxZpdVSk5mCkh','FI5oW4ZcRG','t1y9W44JW6lcVq','WQmaW6SCW6a','ddne','egzlW7mxW6/dISoeya','iuVdVG','WOZcRMeoea','W4RcGCochG','W6n0W492W6NdVGC','mmobWQa','zSkbWPJdUN0','WRZcS8oquGdcJ8ox','tCoWWRtdMeuxW7XHkq','c2zHaMS3WRaPAmodorm','W7D/W5q','FmoEW6DbW5S2ja','WRFcRWjzWOq','iSoQimoLa8ozWRGt','qGL6z8o7W4NdKJS','W4FcTmkDwW','gCoeW7DDqSkcW5/dPq','W64IqG8O','WR1+Dmk+AhJdGhXU','hwPy','W5ZcMHtcVrZdTGldRW','5P2455665RAt5yMN54M35Oo1WO0','WPlcI8kXm8ko','oxnuW5e0','W4pdKx3dRhC','pSohWQTnr1RcK8oi','ymoXWP/dO3i','W4ZdL3qSxumF','qCk5AeGJ','Cb1Ih8oa','WRBcS8oxBatcM8obEvlcNq','W4jFW7pcKSkjW4tdMSkh','W7TGW5je','W4OctGa','WOldLCknAgG','fwrlW4e','xYPkW5qkW6ldJCkEqCknnJjQW6ldVa7dQHT/W5a','s0/dHSolW6FcP2KxW6VcQCk+oW','ECojWQHqbK/cN8oEBCofxN3cQmo4zJLZd8k+B8kPWO/cJv/dMaVdUCkHC3icW7PCWPm5W6GPfmoyWPO','ncGWDci','EmkjW6bm','W5pdKhW','WP9VD8k9','W6WSxYBdK8kG','W5/cISo6rCk/','lMBdSHbwemojWOldUmk3','uSkIWOddP3e','W4XsWO7cIHBcGW4','W4BcS8kchCkiWPNdIsi','WQaoW6Kn','W7v4W4jjWQJdKI3cGtBdISkhbSkpW54AW74','W7BdQNedya','nZzoWO5t','oMBdQcfQe8oTWORdRmkVm2mYF8oe','tr3dO8kh','WQuAW648W6ddIW','5P2N6ioz6iYU5y2n5RAW5yIB57gZ5z+Q','W4hdGLpdRxi','W4WhtHRdGa','5AEt5zkd5BEE5y6s5AYT','WRZcLConzs0','W7XZW5jkW6ddKqhdGtC'],...(function(){return['jmonWQTjDLBcJCok','WOekWRddLG','5Rwk5yIy5BwX57U+5P2U776057IJ5P6v5PAV6zA977+U','W6W+W5TDWRhcJG','WOGHy8ozuG','CCkjdCol','mgBdRWD5gmoy','W4tdN2FdO3lcQmoLwq','fXLKWPrwWQxdHg0','yCo9WOK','WPVdN8kvFMC6ua','W67cHGNcMbS','W5aDsW4PWQxcVb4','yshcICkTW5tdIHz8W77cNSob','W4tcPmkyf8kYWR3dLcpdOq','DmkBvKSp','r8kOWQhdVhrfmG','WPddNMSYo14kmmoSWRyFzCoRrtLtW6ddVblcRa','CY3cKmkH','WRVcSSo8trVcG8oyr1NcLXdcIYpdJqFdJrbXW5LlWQRdQ8kbiNxcSKWpDhzuWPtcJIGT5RA45yIB6zce5OYk','wupdN8oh','776V5lM15y+Y5Pwf5O2n','W44xvH4IWRBcMb8','W7iPxrVdJW','imoQWR/cKghcMLWCDCkd','5RAK5yU+5BkY5zYfW5G','W40gzHRdSa','W7ZcKmomjYX3h+w8OowKVUoaPos4U+s4LoI0KowpRa','oSkjcCodW6RcR8kHW6yzzCokW4bvW4KTWRddOmozwmoAimkyW5pcT3TIrW','WQtcTKOrimkDfgC','W4FdK3FdU13cRSoT','5P6z6ikE6iY95y+n55E45OI56yIX5P+Y5lYg5Ool7760','f2Xh','aM5wW5aXW7VdKa','tSkGWOVdH2O','e35wA8oS','WPhdJKFdLe7cOfRcVghdLq','W5ZcHCofdYFcMSkaeCoC','W7xdM141yMCwp8o5','ychdGmkQW5a','WQ3cVbruWPClAW','dX8EstK','WRO3F8oowa','WQncy8kWW7u','W4tcJ8oFetVcLSklea','pUs5R+s6Vos4K1q','WRXVDCkNwxZdHN5Y','WQNcVtDzWP0DyfWcvW','WPdcR8kF','pmoIi8ou','BbDIW6pcLmost8kBnmoa','s8kDWO3dHK3cRNpcSq','bHSquaXtEmksqSk9WQJcIG','kCoRWRS','hCoFW6q','iCoOj8obpSohWRm','r+oaTow4JUMrOEwsHUELG+oaMui','WPRdLCkbzgG','WQTbumki','WRimWRddK8oviG','BSoEWQpdOLm','WPXTrSklW6i','W6JcQdjuWPHbzMPFuH0gjSkYWPJcHYRcLvvhja','imoMpCobm8oFWQ4A','WRxcQMmYeG','W5ZcLCoyoHBcNq','aHLJWRf7WQtdP2VcK8kzt8kJW4TPma','FCoyWOVdUKJdQ07cT3u1W5bbDrOAnCosW7TsW4f1W5ddK1hcTK0UrXOOgCoHcf8fW4GhwmkhvUAyJowqREwfH+s8NE+8MmkjbCk0W4JdQCo6zCkgW4BcSE+/QE+8M+M4JEITSEs4QEwfU+s/Pq','eM5seLq','4PQ3WPZORkpLO73LHQVMORZLVkVMROVNOBFNM57LJBRPH6S','W47cM8o4u8k0WQPLpvldMCozo8o/','W7xdK04yxa','W7FcIgJdHIlcImoiWOK','sdDTlW','zmoiWQBdV1ZdP03cJMa','WO/LV6VLPypVVlRMMOdNGBFLHQVMNlFLKjVdKW','aLZdS8o6W6W','j8kBcSoDWQNcISkq','Dmo8WPddHfylW6fInmkWWOW','fmoEW7u','WOuEr8oxrq','pmohWRfxBv7cJq','5RwE5yUu5Bcn5P+o5BYj5Asd77675BYk5AsQ5Pso6zEw77+C','W4f/W4NcH8kt','WRhcVs5FWPKCtg0','W53cNSoMC8k0WQO','pu3dT8opW6tdMg0p','5lU65As56ykA556C','fvhdRCocW4u','WRhdV8kY','W7GoW7ajW73cGmouWOhdJhRcGZlcH8oQ','W57cLGNcMsZdSbtdPG','EEE5JEAFPo+/UUs4SUAUL+AwIUEdIEAEREwqJSoF','zSkagmoyWQdcJ8kHW6yzaCoh','umkJWRpdU2HgmG','AmoHWOxdSf8/W7u','W6VcGM/dJapcN8oY','W6fKW4HdW6tdUau','zSkafSoAWOVcU8k/W6y','W5JdK3FdUgpcPmo7wW','raRdRq','WQxNUPhMNBpVVy/KUQRMR7xMLQVNGzNMNiBLKzvy','aHyhCqfcFSk2F8k6','W6pcJhxdHXlcImoT','WP0TFmovsSorySkJDJ/dQG','W7hcJhldIINcM8oSWOG','ECozWQpdTfpdS0hcVwS2','8lw1P++4I8kO','W4JdL3FdRwNcU8oK','CYRcKSk0W6ZdGG9G','W79PW5raW4ZdUW','WR0aW6KxW4FdGCoBWOa','sZnZoCo4WQldVq','WPKJEmoirq','WRKoW60C','WRXpsCkm','rmo5W5rHvSorWP4','fSo1W7Lcrq','WPDDsSk6vq','W4lcJ8orpdDVqvpcSMtdJNW','W5ZLVy7LP4pVVRdMMABNGihLHPVMNR/LKiqZ','FmkaW6zpW6RcNLa','g8oFW6PdEmowWPBcPq','WQhcT04','kKhdRCooW7JdLNONWRVcIsnvWR9dW4xcJL8','W68KW51xWP3cPmo+grO','W5nsWO7cIsJcIrJdHa','AmknW717W4ZcNfZcNh3cTZ0nW5VdOG','bCoFW6HixW','ESoDWQq','rmkdWOddH14','zgBcMCo7W7NdHCopt2BdNSocCa','W5ldMMGODuKD','BbDIW4/cJmoFB8klemob','5BwD5Aka5z645z22','tYvel8o/WQddTSo+rSoaW5/dOq','qqVdQCkFW7qwW6xdOW','yrTX','W6NcUY/cMrS','FmkCW7TrW43cLf7cK2e','WQHfumk8W6KxDuD+WPpcUH7dJmkxyW','WP3cL3OP','sqBdVSkAW7CBW7tdQCkkdYa','iSoXj8olcCo7WRmByq','y2RcKCo4W7ddGmkutNtdKmoWAIW','mmoeWRDwwW','i8orsmkEW73dQ8kWW7iCc8oYW4u','zmkLz18nlCkS','gdJdRCk9WOq','q8kqWPRdUuZcQ2lcT2m','W5pcOCkifSkKsmoHWRFcVmkbW7ZdIsBcNG','W4BdMwm','FCkDW6D9W43cLW','W6eJwci','weNdGCosW47cO24j','p1hdT8oEW6xdLW','jmonWQHvsfJcMW','5AsX5zk55BAw5ywR6ykq5y+J5A6g5lMG77YA5lUF5Q+K5Psg54on5P+95zkvvq','6iYY5y6uDXFdJSk/j8kopUwLG+I0GW','i1TJW77cI8oxsmonl8obW7VdRCohbCkeWORcNvhcRCkMr1VdGmoa','WQHfumkQW7qutK9PWQtcTHFdJCkx','W4iWtYKi','BSklW71RW5FcKKpcGgS','WR7cO8oxzW3cICov','WPhcPCklfCk2amoT','W5CcW756','nCoXW5W','W5yktbaPWP7cMXZcQa','t8kwWP3dMvNcRxm','WQFLR5dNIAhdOq','56QR5Roc8lEIIq','fbmnCYPhza','WQBcUZrsWOOhCxa5xW','WPxcRSkBcSkIa8oTWQO','W5NcPCkw','pmoMoCotdCobWRGOFd0','aCo3W7/cTvu','W4nsW6/cKSkyW4JdHmkf','A8o7WPy','sbKuALDtACksF8kIWQddGbBdUCobqGOai2vd','esiRBsS','WR/cVvOncSkAhNddQW','44kG5O+Q56A644oZ6kYH5yEH6iYE5yY2e3GoyCkoWO4','W7Wqe8oDWQTke2HHWRFcOGRdKG','WPquWPhdUCo3','AIBcOSkOW5JdIaHAW4FcH8oRW5JdIt9hE8kSWOldRttdScHHWOW','WQz1zmkIqN/dIMS','WPNdISkdy0u8r0tcOeBdUW','W57cUCkya8kuWPVdNIa','WOddQCkNvuS','W4hcLGNcMHldUGi','k8oRW5xcS1FdKG','W77WPlYb','4PQkdoITHEwJIEweIoAJSUw8KUASJEEJKEEzLowmLUMgKq','WPqRACoywCokzq','rZv0i8oVWQZdRmo0D8o4W5/dRq','bLb9uSoTW6xdJG','5lUN6zQJ5PwE5yEz5Roq5BMD6zoS55EQ5OIN5yYH5lME5zcVWQK','WQjLsSkFW50','W5JdG2RdJvlcRq','W6NcMaRcHHq','W4LdWONcIqtdNKtcJa','leFdRCoYW73dMNWyWP3cGq','W4pdMhFdRu7cVq','WR3cUCoesa8','ndBdKa','hSoYWR9Ctq','A8o/WOBdVeC','vdnZoSogWQJdQ8oQ','ArvIW6S','6AcU6kw+5zU654Up77YM','jHn5WPbSWQBdGYFcTCkbuSkJ','z8kncSoAWPRcT8kHW6q','FSk4z0SSbSk+WP08','W71YW5LAW7W','WPSRFmoPt8oDzmkCtchdQLy1qmkCW5JdVa','W4ddMw3dPNxcP8oUuW','5AAz5zoH5zcP56sz776b','W5OnW6nVWObNk8oLWOJdJ8oqBW','wWJdMmkXW7q','WRmnWRddGSojnXJdIq','W5NdNw3dUg7cVmoM','kuxdRCo6','ovb3B8ot','BbDIW57cM8olxG','v8klsfOp','5PYZ5B6W5Awi','rSkNWRBdRW','W6ZcSmogfbK','W4acW7X+WPzHkCoDWOJdK8o8B8kwW4O','WO8Mz8omCSozE8k/','WQX0ACkOxNW','b056z8orW7q','4PQGyUISIUwIR+weU+AIN+w9REATPUEJHEEzQoMrK+AmKG','6i+g5y+th8oqcSoGW6RdNNJcJtP35As36lA0776I','WRtcNcH0WPe','kmoHWQ/cKxNcJu0','pJddJ8kMWQ8','W7K/W4W','CCovWQW','BFcwJjG','wW3dPCkdW4Gw','kSoQW5RcGKZdHq','BCo7WPJdMhaXW7zId8kxWO7cIa','WO0pWRBdLCok','W53cI8oFdYRcJmkb','8kUZT8ki56Q15Rov'];}())];}())];}());Iii11l=function(){return Iliil;};return Iii11l();};function iii1II(_0xb48773,_0x27ef58){const _0x1fe3a9=Iii11l();return iii1II=function(_0x536168,_0x23b95d){_0x536168=_0x536168-0x7a;let _0x3efd47=_0x1fe3a9[_0x536168];if(iii1II['RmfFTN']===undefined){var _0x57878d=function(_0x10c40a){const _0xe6ab19='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4269db='',_0x39fb36='';for(let _0x4b386b=0x0,_0x219285,_0x24116,_0x2f64d9=0x0;_0x24116=_0x10c40a['charAt'](_0x2f64d9++);~_0x24116&&(_0x219285=_0x4b386b%0x4?_0x219285*0x40+_0x24116:_0x24116,_0x4b386b++%0x4)?_0x4269db+=String['fromCharCode'](0xff&_0x219285>>(-0x2*_0x4b386b&0x6)):0x0){_0x24116=_0xe6ab19['indexOf'](_0x24116);}for(let _0x41ceb6=0x0,_0x28de18=_0x4269db['length'];_0x41ceb6<_0x28de18;_0x41ceb6++){_0x39fb36+='%'+('00'+_0x4269db['charCodeAt'](_0x41ceb6)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x39fb36);};const _0x10cfb7=function(_0x5e4146,_0x40ff5f){let _0x31296b=[],_0x38225b=0x0,_0x59871e,_0x20f463='';_0x5e4146=_0x57878d(_0x5e4146);let _0x478b6a;for(_0x478b6a=0x0;_0x478b6a<0x100;_0x478b6a++){_0x31296b[_0x478b6a]=_0x478b6a;}for(_0x478b6a=0x0;_0x478b6a<0x100;_0x478b6a++){_0x38225b=(_0x38225b+_0x31296b[_0x478b6a]+_0x40ff5f['charCodeAt'](_0x478b6a%_0x40ff5f['length']))%0x100,_0x59871e=_0x31296b[_0x478b6a],_0x31296b[_0x478b6a]=_0x31296b[_0x38225b],_0x31296b[_0x38225b]=_0x59871e;}_0x478b6a=0x0,_0x38225b=0x0;for(let _0x2cb942=0x0;_0x2cb942<_0x5e4146['length'];_0x2cb942++){_0x478b6a=(_0x478b6a+0x1)%0x100,_0x38225b=(_0x38225b+_0x31296b[_0x478b6a])%0x100,_0x59871e=_0x31296b[_0x478b6a],_0x31296b[_0x478b6a]=_0x31296b[_0x38225b],_0x31296b[_0x38225b]=_0x59871e,_0x20f463+=String['fromCharCode'](_0x5e4146['charCodeAt'](_0x2cb942)^_0x31296b[(_0x31296b[_0x478b6a]+_0x31296b[_0x38225b])%0x100]);}return _0x20f463;};iii1II['UgGKmW']=_0x10cfb7,_0xb48773=arguments,iii1II['RmfFTN']=!![];}const _0x7dbdd1=_0x1fe3a9[0x0],_0x2af072=_0x536168+_0x7dbdd1,_0x2f01a6=_0xb48773[_0x2af072];return!_0x2f01a6?(iii1II['JJhrXo']===undefined&&(iii1II['JJhrXo']=!![]),_0x3efd47=iii1II['UgGKmW'](_0x3efd47,_0x23b95d),_0xb48773[_0x2af072]=_0x3efd47):_0x3efd47=_0x2f01a6,_0x3efd47;},iii1II(_0xb48773,_0x27ef58);}!cookiesArr[0x0]&&($[l1i1i(0x2f3,'ga@m')]($[l1i1i(0x123,'t7yN')],l1i1i(0x86,'vmBJ')),process[l1i1i(0x182,'Oaog')](0x1));!(async()=>{const I1iI1i=l1i1i,Ii1I1i={'Ekpog':function(IIlIl,ili11l){return IIlIl===ili11l;},'pQNgY':I1iI1i(0x30e,'5sfn'),'ZbMCN':'⚠\x20请先定义必要的环境变量后再运行脚本','gTzqF':function(Iiilll,Iiilli){return Iiilll===Iiilli;},'fwQXP':'MvRYO','ybwta':I1iI1i(0xe5,'5sfn'),'NIJUY':I1iI1i(0x1cf,'q^qx'),'BHZzF':function(IIlIi,ili11i){return IIlIi<ili11i;},'lkwJt':function(iiIi1l,li11I){return iiIi1l+li11I;},'xNyaw':function(lliiII,iiIi1i){return lliiII(iiIi1i);},'mPopY':I1iI1i(0xed,'6(FM'),'NBzJe':function(liI1ll,ll1II){return liI1ll+ll1II;},'MUQDh':function(IllIii,liI1li){return IllIii*liI1li;},'JgErE':function(IllIil,ill1Ii,llIIl1){return IllIil(ill1Ii,llIIl1);}};if(!activityUrl){if(Ii1I1i[I1iI1i(0x252,'6(FM')](I1iI1i(0x101,'qB*i'),Ii1I1i['pQNgY']))liliI['log'](ll1lI+'\x20'+l1iii['resp_msg']),IIlli['message']['fix'](l1iil[I1iI1i(0x25a,'GQ8&')]),ii1l1[I1iI1i(0x355,'q$K5')]=!![];else{console['log'](Ii1I1i[I1iI1i(0x2bc,'gPAP')]);return;}}const llIIlI=common[I1iI1i(0x102,'6(FM')](activityUrl);if(!llIIlI){console['log'](I1iI1i(0x273,'J(1k'));return;}$[I1iI1i(0x1f2,'(eDe')]=activityUrl,$['activityId']=common[I1iI1i(0x127,'vmBJ')](activityUrl,'activityId'),$[I1iI1i(0x309,'VXPr')]=common[I1iI1i(0x1cc,'gho^')](activityUrl,I1iI1i(0x129,'wzx4')),$[I1iI1i(0xa4,'mRQ0')]=llIIlI['hostname'],$[I1iI1i(0x7d,'6(FM')]=llIIlI[I1iI1i(0x2df,'3w[J')];let Ii1I1l='';if($[I1iI1i(0xa4,'mRQ0')]){if($['hostname'][I1iI1i(0x12f,'qB*i')](I1iI1i(0x2f5,'UBmZ')))Ii1I1i['gTzqF'](I1iI1i(0xdd,'KEWN'),Ii1I1i['fwQXP'])?Ii1I1l=I1iI1i(0x1e4,'%opT'):IlI1Il[I1iI1i(0x35f,'34Nc')]('❓'+l1il1l+'\x20'+liIil[I1iI1i(0x1d4,'q^qx')](IllI1I));else $[I1iI1i(0x139,'qdo[')][I1iI1i(0x237,'q$K5')](Ii1I1i[I1iI1i(0x1c6,'q^qx')])&&(Ii1I1l=$[I1iI1i(0x2bf,'Fx$3')][I1iI1i(0x226,'L4^v')](/\/index$/,''));$['baseUrl']=I1iI1i(0xf6,'qV[B')+$[I1iI1i(0x165,'L4^v')],$[I1iI1i(0xf4,'9W8o')]=I1iI1i(0x15c,'fKTg')+$[I1iI1i(0x266,'qB*i')]+Ii1I1l,$['origin']=$[I1iI1i(0x1f6,'j4aQ')];}if(!$[I1iI1i(0x236,'fS3d')]||!Ii1I1l||!$['hostname']){if(I1iI1i(0x1b5,'8pnd')!==I1iI1i(0x2b7,'mRQ0'))Iii11I['log'](I1iI1i(0x11c,'SY@6')+Iil1II[I1iI1i(0x14c,'VXPr')]),iIIl1I[I1iI1i(0x32f,'3w[J')][I1iI1i(0x1aa,'VXPr')]('未知活动状态\x20'+I1iIli[I1iI1i(0x122,'ga@m')]),lI1Ill[I1iI1i(0x350,'34Nc')]=!![];else{console['log'](Ii1I1i['NIJUY']);return;}}notify[I1iI1i(0x271,'pdIB')]({'title':$[I1iI1i(0x1d3,'GQ8&')]}),console[I1iI1i(0x11d,'*e4e')]('活动入口：'+$[I1iI1i(0xe4,'fS3d')]);for(let l1i1Ii=0x0;Ii1I1i['BHZzF'](l1i1Ii,cookiesArr['length']);l1i1Ii++){$[I1iI1i(0x31d,'fKTg')]=Ii1I1i[I1iI1i(0x259,'SY@6')](l1i1Ii,0x1),cookie=cookiesArr[l1i1Ii],common['setCookie'](cookie),$[I1iI1i(0x30a,'UBmZ')]=Ii1I1i[I1iI1i(0x35b,'3!Jc')](decodeURIComponent,common[I1iI1i(0x209,'nTaT')](cookie,I1iI1i(0xd5,'nBNr'))),$['UA']=common[I1iI1i(0x166,'SY@6')]($[I1iI1i(0x335,'S%M0')]),$['UUID']=common['genUuid'](Ii1I1i[I1iI1i(0x142,'34Nc')]),$['te']=Ii1I1i[I1iI1i(0xea,'20z1')](Math[I1iI1i(0x21b,'L4^v')](Ii1I1i[I1iI1i(0x30d,'gPAP')](Math[I1iI1i(0x2fe,'%opT')](),0x2328)),0x3e8),$[I1iI1i(0x1b0,'Fx$3')]=Ii1I1i[I1iI1i(0x21e,'nuV8')](getJdEnvInfo,$['UA'],$['activityUrl']),$['message']=notify[I1iI1i(0x9c,'q$K5')]($[I1iI1i(0x29b,'VXPr')],$['UserName']),$[I1iI1i(0x191,'j4aQ')]='',console['log'](I1iI1i(0x1a5,'gPAP')+$[I1iI1i(0x10b,'KEWN')]+'】'+($[I1iI1i(0x2ff,'20z1')]||$['UserName'])+I1iI1i(0x149,'gho^')),await Main(),common['unsetCookie']();if($[I1iI1i(0xd2,'nBNr')]||$[I1iI1i(0x1df,'4c()')])break;}isNotify&&notify[I1iI1i(0x16a,'wzx4')]()&&(notify[I1iI1i(0x2e4,'q$K5')]('\x0a【活动地址】'+$[I1iI1i(0x218,'Oaog')]),await notify[I1iI1i(0x106,'YhNL')]());})()['catch'](l1iI1=>$['logErr'](l1iI1))[l1i1i(0x2ad,'V((B')](()=>$['done']());async function Main(){const l1i1l=l1i1i,lliiI1={'daARP':l1i1l(0x240,'3w[J'),'dHjCD':l1i1l(0x220,'q$K5'),'smRBu':'dadpq','nkOdN':'rXQNA','sZXFL':function(IiiI1,lilII,IIIiI){return IiiI1(lilII,IIIiI);},'XFMtb':function(iii1i1,IllIll){return iii1i1===IllIll;},'cFnQU':l1i1l(0x26b,'ga@m'),'nUtuZ':l1i1l(0x228,'9W8o'),'ctsOt':l1i1l(0x1a9,'DXf]'),'SAzgC':l1i1l(0x299,'fKTg'),'RJYjZ':l1i1l(0x29f,'L4^v'),'uSxuW':function(i1lllI,llIIi1){return i1lllI(llIIi1);},'fEBIS':'follow','XutYN':l1i1l(0x18b,'3w[J'),'ySath':function(iI1IlI,l1i1Il){return iI1IlI(l1i1Il);},'PhvPU':l1i1l(0xc5,'w]%W'),'aVMiZ':'1006','OtpVG':l1i1l(0x288,'L4^v'),'OlQDD':function(ill1I1,l1i1II){return ill1I1(l1i1II);},'IEbYa':l1i1l(0x277,'nuV8'),'GxdCG':l1i1l(0x2fd,'4c()'),'tiwdt':'加入店铺会员失败，活动仅限店铺会员参与','fGCBo':function(ili111,Ii1I11){return ili111!==Ii1I11;},'OCnbh':l1i1l(0x2e2,'j4aQ'),'FgMRb':function(IllIli,ii1Ii){return IllIli!==ii1Ii;},'OVsbW':'xDKbT','BEWNa':l1i1l(0x33c,'GQ8&'),'ybpCk':l1i1l(0x1c8,'fS3d'),'mXSnB':l1i1l(0x117,'%opT'),'HDJYQ':function(ii1Il,l1iII){return ii1Il!==l1iII;},'vZOnS':function(iI1Ill,lilI1){return iI1Ill===lilI1;},'eqOTA':function(IIIi1,i1llli){return IIIi1(i1llli);},'tOMBi':function(i1llll,iI1Ili){return i1llll===iI1Ili;},'YftRa':l1i1l(0x1b7,'gho^'),'VhEKM':l1i1l(0x233,'(eDe'),'PRkPJ':l1i1l(0x17e,'34Nc'),'suJYs':function(llIIiI,iI1111){return llIIiI===iI1111;},'YUQTu':l1i1l(0x320,'s$gA'),'SustD':l1i1l(0x275,'fS3d'),'Vmucm':l1i1l(0x187,'9W8o'),'Fywrd':'saveFollowInfo','ZYhJX':l1i1l(0x24f,')xF8'),'wlhJv':l1i1l(0xfe,'knfw'),'zQXzF':'ylSYK','pwBbx':l1i1l(0xb1,'qV[B')};try{if(lliiI1[l1i1l(0x265,'Oaog')]!==lliiI1['nkOdN']){$[l1i1l(0x24e,'YhNL')]=![],$['token']='',$['pinToken']='';if($['runEnd']||$['outFlag'])return;$[l1i1l(0x1b2,'fS3d')]=await lliiI1[l1i1l(0x148,'FHa^')](getToken,cookie,$['baseUrl']);if(!$[l1i1l(0x347,'34Nc')]){if(lliiI1[l1i1l(0x200,'pdIB')](lliiI1['cFnQU'],l1i1l(0x2ea,'S%M0'))){console['log'](l1i1l(0x327,'34Nc')),$[l1i1l(0x116,'FHa^')][l1i1l(0x285,'qV[B')](lliiI1[l1i1l(0xe7,'qV[B')]);return;}else iiilii[l1i1l(0x2cf,'8pnd')][l1i1l(0x345,'KEWN')]=li1i1i[l1i1l(0x32e,'qdo[')];}await sendRequest(l1i1l(0x1c3,'gPAP'));if($['runEnd']||$[l1i1l(0x2f7,'s$gA')]||$[l1i1l(0x2b2,'gho^')])return;if(!$['token']){console['log'](lliiI1['ctsOt']),$[l1i1l(0x248,'6(FM')][l1i1l(0x285,'qV[B')](lliiI1['SAzgC']);return;}await $[l1i1l(0xe9,'L4^v')](0x1f4);if($[l1i1l(0x144,'*e4e')]){switch($[l1i1l(0x34c,'YhNL')]){case lliiI1[l1i1l(0x180,'gho^')]:$[l1i1l(0x18d,'20z1')]&&(await lliiI1[l1i1l(0xee,'wzx4')](sendRequest,lliiI1[l1i1l(0x20c,'qdo[')]),await $[l1i1l(0x17d,'%opT')](0x1f4));break;case lliiI1[l1i1l(0x1e2,'S%M0')]:await lliiI1[l1i1l(0xf9,'pdIB')](sendRequest,l1i1l(0x344,'nuV8')),await $['wait'](0x1f4),await sendRequest(l1i1l(0x256,'wzx4'));if($[l1i1l(0x2ed,'mRQ0')]||$['outFlag']||$[l1i1l(0xc7,'vmBJ')])return;await $[l1i1l(0xba,'YhNL')](0x1f4);break;case lliiI1[l1i1l(0x29a,'Oaog')]:case lliiI1[l1i1l(0x8c,'qB*i')]:if(joinMember){const ii1ii=await common['joinShopMember']($[l1i1l(0x317,'j4aQ')]);if(ii1ii){console['log'](lliiI1['OtpVG']),await sendRequest(lliiI1[l1i1l(0x1ad,'YhNL')]),await $[l1i1l(0xba,'YhNL')](0x1f4),await lliiI1['OlQDD'](sendRequest,lliiI1[l1i1l(0x186,'9W8o')]);if($['runEnd']||$[l1i1l(0x150,'34Nc')]||$[l1i1l(0x1c1,'w]%W')])return;await $[l1i1l(0x30f,'q^qx')](0x1f4);}else{if(lliiI1['GxdCG']!==lliiI1[l1i1l(0xd8,'4c()')])lIli1I['data']={'ecyText':II1il[l1i1l(0x19a,'qdo[')]({'actId':lllI11['activityId'],...I1lIll},I1lIli[l1i1l(0x160,'6(FM')],II1ii['te'])};else{console['log'](l1i1l(0x318,'qdo[')),$[l1i1l(0x1fa,'GQ8&')][l1i1l(0x2f4,'6(FM')](lliiI1['tiwdt']);return;}}}else{if(lliiI1['fGCBo'](l1i1l(0x1dd,'3w[J'),lliiI1[l1i1l(0x361,'pdIB')])){console['log']('活动仅限店铺会员参与哦~'),$['message'][l1i1l(0x84,'UBmZ')](l1i1l(0x362,'J(1k'));return;}else llIIll['activityType']=IillIi(lii[l1i1l(0x1c4,'8pnd')]?.[l1i1l(0x126,'nuV8')]||'');}break;default:console['log']($['joinDes']),$[l1i1l(0x28f,'gho^')][l1i1l(0x357,'9W8o')]($['joinDes']);return;}if($[l1i1l(0x249,'qV[B')]||$[l1i1l(0x118,'8pnd')]||$[l1i1l(0xc7,'vmBJ')])return;}else{if(lliiI1[l1i1l(0xd7,'gho^')]('hSrkd',lliiI1[l1i1l(0x298,'6Hk[')])){if($[l1i1l(0x183,'%opT')]||$[l1i1l(0x29c,'q^qx')]||$[l1i1l(0x235,'knfw')])return;console[l1i1l(0x92,'w]%W')](lliiI1[l1i1l(0x132,'mRQ0')]),$[l1i1l(0x13a,'4c()')][l1i1l(0x31a,'gPAP')](lliiI1[l1i1l(0x34f,'SY@6')]);return;}else lilIl1[l1i1l(0x238,'nBNr')](i1l1ii['name'],lliiI1[l1i1l(0xac,'pdIB')]),i1l1['exit'](0x1);}if($['hostname'][l1i1l(0x244,'pdIB')]('lzkj')&&$[l1i1l(0x290,'gPAP')][l1i1l(0x306,'KEWN')](lliiI1[l1i1l(0xc6,'mRQ0')])){if('sLmjp'===l1i1l(0x1d1,'Fx$3'))IiilIi=IiilIl['pathname']['replace'](/\/index$/,'');else{await sendRequest(lliiI1['mXSnB']);if(!$[l1i1l(0x2ef,'%opT')]){if(lliiI1[l1i1l(0x1b1,'Oaog')](l1i1l(0x2e6,'SY@6'),l1i1l(0x32b,'%opT')))I1ilIi['pinToken']=IiiiI?.[l1i1l(0x268,'S%M0')]?.[l1i1l(0x159,'w]%W')],llIlli[l1i1l(0x1f0,'knfw')]=llIlll?.[l1i1l(0xa6,')xF8')]?.[l1i1l(0xb7,'4c()')];else{console[l1i1l(0x8f,'fS3d')](l1i1l(0x11f,'Oaog')),$[l1i1l(0x190,'mRQ0')][l1i1l(0x151,'L4^v')](l1i1l(0x9d,'4c()'));return;}}await $['wait'](0x1f4);}}if($[l1i1l(0x135,'vmBJ')]||$[l1i1l(0x1e9,'SY@6')]||$[l1i1l(0x1c1,'w]%W')])return;if(lliiI1[l1i1l(0x23e,'knfw')]($[l1i1l(0x2ab,'Fx$3')],0x1)){await lliiI1[l1i1l(0x313,'YhNL')](sendRequest,'basicInfo');if($['runEnd']||$['outFlag']||$[l1i1l(0x130,'pdIB')])return;switch($[l1i1l(0x24d,'GQ8&')]){case'10069':break;case'':console['log'](l1i1l(0xab,'mRQ0')),$[l1i1l(0x153,'wzx4')]['fix'](l1i1l(0x184,'S%M0')),$[l1i1l(0x12a,'fKTg')]=!![];return;default:console['log'](l1i1l(0x32d,'J(1k')+$['activityType']+l1i1l(0x141,'t7yN')),$[l1i1l(0x32f,'3w[J')][l1i1l(0x334,'j4aQ')]('活动类型（'+$['activityType']+l1i1l(0x19f,'V((B')),$[l1i1l(0x1cb,'5sfn')]=!![];return;}if($['runEnd']||$[l1i1l(0xf1,'VXPr')])return;await $[l1i1l(0xd0,'J(1k')](0x1f4);}if($[l1i1l(0x2c4,'YhNL')]===0x1){$[l1i1l(0x198,'nBNr')]=[],await lliiI1[l1i1l(0x2c8,'fS3d')](sendRequest,'drawPrize'),await $[l1i1l(0x2a8,'KEWN')](0x1f4);if($[l1i1l(0xd3,'nuV8')]||$[l1i1l(0x22d,'wzx4')]||$['skipRun'])return;const IIIlI1=$[l1i1l(0x219,'w]%W')][0x0]?.[l1i1l(0x13d,'V((B')],i1lIiI=$['prizeInfo'][0x0]?.[l1i1l(0x301,'j4aQ')],IiiIl=$[l1i1l(0x319,'knfw')][0x0]?.[l1i1l(0x310,'9W8o')];let ii1l1l=IiiIl>=0x1,l1lli1=''+IIIlI1+(lliiI1[l1i1l(0x98,'9W8o')](i1lIiI,0x5)?lliiI1['YftRa']:i1lIiI===0x3?lliiI1[l1i1l(0x2cc,'GQ8&')]:'')+'，'+(IiiIl>=0x1?'剩余'+IiiIl+'份':'已发完');console[l1i1l(0x282,'ga@m')](($[l1i1l(0x341,')xF8')]?l1i1l(0xad,'KEWN')+$[l1i1l(0xfb,'GQ8&')]+'\x0a':'')+'店铺链接：https://shop.m.jd.com/?venderId='+$['venderId']+l1i1l(0xa1,'t7yN')+l1lli1+'\x0a'),notify[l1i1l(0x1d0,'4c()')](($[l1i1l(0xd4,'L4^v')]?l1i1l(0x1c2,'S%M0')+$[l1i1l(0x1ec,'UBmZ')]:'')+'\x0a【活动奖品】'+l1lli1);const IiiIi=$['time'](lliiI1[l1i1l(0xcb,'UBmZ')],$[l1i1l(0x155,'vmBJ')]),ii1l1i=$['time'](lliiI1[l1i1l(0x31b,'j4aQ')],$[l1i1l(0x2c9,'VXPr')]);switch($[l1i1l(0x13f,'gho^')]){case 0x0:const l1iIl1=Date['now']();if($['actStartTime']&&l1iIl1<$[l1i1l(0x1be,'knfw')]){if(lliiI1[l1i1l(0xa2,'FHa^')]('Lvgdj',lliiI1[l1i1l(0x283,'UBmZ')])){console['log']('活动将在\x20'+IiiIi+l1i1l(0x343,'%opT')),$[l1i1l(0x22e,'q$K5')][l1i1l(0xa5,'YhNL')](l1i1l(0x1dc,'gho^')+IiiIi),$['runEnd']=!![];return;}else i11il1={'ecyText':ii1iiI[l1i1l(0x113,'GQ8&')]({'actId':lllilI[l1i1l(0x1bc,'FHa^')],...ilil11},illlI1[l1i1l(0x2c6,'qB*i')],IIIl11['te'])};}if($[l1i1l(0x20f,'FHa^')]&&l1iIl1>$['actEndTime']){if(lliiI1[l1i1l(0x1a4,'9W8o')](lliiI1[l1i1l(0x2ae,'8pnd')],l1i1l(0x164,'j4aQ'))){console['log'](l1i1l(0x109,'mRQ0')+ii1l1i+l1i1l(0x1e6,'qV[B')),$[l1i1l(0x321,'vmBJ')][l1i1l(0x2be,'Oaog')](l1i1l(0x18c,'fKTg')+ii1l1i),$[l1i1l(0x2ed,'mRQ0')]=!![];return;}else!IiiliI&&(IlllIl[l1i1l(0x110,'KEWN')]=!![],II11lI[l1i1l(0x28a,'nBNr')]&&Ilil1l[l1i1l(0x2fb,'J(1k')][l1i1l(0x304,'34Nc')](iIIiii));}break;case 0x1:console[l1i1l(0x7a,'pdIB')](l1i1l(0x2ca,'UBmZ')+IiiIi+l1i1l(0x202,'(eDe')),$[l1i1l(0x346,'5sfn')][l1i1l(0x33a,'knfw')](l1i1l(0x2d0,'nBNr')+IiiIi),$[l1i1l(0x2b0,'20z1')]=!![];return;case 0x2:console[l1i1l(0x35d,'6(FM')]('活动已于\x20'+ii1l1i+l1i1l(0x356,'L4^v')),$[l1i1l(0x232,')xF8')][l1i1l(0x287,'qB*i')](l1i1l(0x8d,'SY@6')+ii1l1i),$['runEnd']=!![];return;default:$[l1i1l(0x21f,')xF8')]&&(console[l1i1l(0x1ee,'Oaog')](l1i1l(0x161,'nuV8')+$[l1i1l(0x295,'V((B')]),$[l1i1l(0x190,'mRQ0')][l1i1l(0x151,'L4^v')]('未知活动状态\x20'+$['actStatus']),$['runEnd']=!![]);break;}if(!ii1l1l){if(lliiI1['tOMBi']('SQvTO',l1i1l(0x133,'8pnd'))){console['log']('奖品已全部发完了，下次早点来吧~'),$[l1i1l(0x232,')xF8')][l1i1l(0xde,'3w[J')](lliiI1[l1i1l(0x27e,'qB*i')]),$[l1i1l(0xae,'wzx4')]=!![];return;}else lllii['log']('❓'+iI11Ii+'\x20'+iIII1l[l1i1l(0x215,'nTaT')](lllil)),iI11Il[l1i1l(0xf5,'qB*i')]=!![];}}await sendRequest(l1i1l(0x206,'S%M0')),await $[l1i1l(0xc1,'w]%W')](0x1f4);if($['runEnd']||$[l1i1l(0x136,'t7yN')]||$[l1i1l(0xc9,'DXf]')])return;$['followShop']?(await sendRequest(lliiI1[l1i1l(0x1b4,'(eDe')]),await $[l1i1l(0x174,'nTaT')](0x1f4)):(console[l1i1l(0x2b9,'nuV8')](lliiI1[l1i1l(0xb0,'pdIB')]),$[l1i1l(0x1a8,'j4aQ')]['fix'](lliiI1[l1i1l(0x2d1,'YhNL')]));}else lI1Iil=lliiI1[l1i1l(0x22b,'V((B')];}catch(I1I1l1){lliiI1[l1i1l(0x199,'ga@m')]===lliiI1[l1i1l(0x158,'fS3d')]?l1lIlI['log']('❌\x20脚本运行遇到了错误\x0a'+IiiIl1):console['log'](l1i1l(0x2dc,'GQ8&')+I1I1l1);}}async function handleResponse(i1lIii,III11i){const I1iI1l=l1i1i,i1lIil={'quLfm':I1iI1l(0x25d,'gho^'),'RWoLi':'不存在','JNpIy':I1iI1l(0xeb,'3!Jc'),'PWqZu':I1iI1l(0x24b,'KEWN'),'kzfkV':I1iI1l(0x274,'VXPr'),'pYIyU':I1iI1l(0x16d,'V((B'),'OaJog':I1iI1l(0x316,'9W8o'),'xrJOG':function(III11l,llIl1i){return III11l===llIl1i;},'SYHUY':'qeEAC','Oxjag':I1iI1l(0xe0,'20z1'),'CzfID':function(llIl1l,IiiII){return llIl1l!==IiiII;},'IjTyE':I1iI1l(0x14e,'3!Jc'),'BcMmb':'XNgxX','lSemR':function(Iiil,IIIli){return Iiil!==IIIli;},'pZGdK':'wjDVv','HvkqW':function(ii1i1,Iiii){return ii1i1===Iiii;},'nKIUY':I1iI1l(0x168,'ga@m'),'HZged':I1iI1l(0x247,'gPAP'),'yPOky':function(llIl11,IIIll){return llIl11(IIIll);},'KRFpY':I1iI1l(0x11b,'qB*i'),'qSOaK':function(I1I1il,l1llii){return I1I1il===l1llii;},'sCqcv':I1iI1l(0x1ff,'fKTg'),'SPTwZ':I1iI1l(0x2eb,'nBNr'),'OmXiJ':'getUserFollowInfo','DErHT':'Wwkgg','QkCmH':function(liII1,I1I1ii){return liII1!==I1I1ii;},'VKbUY':I1iI1l(0x2b5,'nTaT'),'eFuHn':function(l1llil,IIIlIi){return l1llil!==IIIlIi;},'Busqh':function(llIl1I,i1lIl1){return llIl1I&&i1lIl1;},'TUeFt':I1iI1l(0x2ce,'3w[J'),'thinw':I1iI1l(0x269,'YhNL')};try{switch(i1lIii){case i1lIil[I1iI1l(0x145,'gho^')]:if(III11i[I1iI1l(0x1af,'5sfn')]===0x0&&III11i[I1iI1l(0x18f,'UBmZ')])$[I1iI1l(0x20a,'fKTg')]=III11i?.['data']?.['token'],$[I1iI1l(0x31e,'VXPr')]=III11i?.[I1iI1l(0x111,'q$K5')]?.['joinInfo'],$[I1iI1l(0x131,'DXf]')]=$['joinInfo']?.['openCardUrl'],$[I1iI1l(0x1f8,'34Nc')]=III11i?.[I1iI1l(0x223,'9W8o')]?.[I1iI1l(0xe6,'J(1k')],$[I1iI1l(0x1de,'fS3d')]=common[I1iI1l(0x181,'mRQ0')]($[I1iI1l(0x245,'gPAP')],I1iI1l(0x1d2,'*e4e')),$[I1iI1l(0x23b,'3w[J')]=III11i?.[I1iI1l(0xce,'wzx4')]?.['shopName'],$[I1iI1l(0x9e,'qB*i')]=$[I1iI1l(0x2c3,'qV[B')]?.[I1iI1l(0x27d,'SY@6')]?.[I1iI1l(0x246,'nBNr')],$[I1iI1l(0x35a,'34Nc')]=$[I1iI1l(0x2d8,'DXf]')]?.[I1iI1l(0xb6,'9W8o')]?.[I1iI1l(0x1db,'L4^v')];else III11i['resp_msg']?i1lIil[I1iI1l(0x1ca,'3!Jc')](i1lIil[I1iI1l(0x32a,'L4^v')],i1lIil[I1iI1l(0x1d6,'S%M0')])?iI1liI[I1iI1l(0x251,'j4aQ')]=!![]:(console[I1iI1l(0x331,'3w[J')](i1lIii+'\x20'+III11i['resp_msg']),$[I1iI1l(0x13a,'4c()')][I1iI1l(0x138,'q$K5')](III11i[I1iI1l(0xf3,'DXf]')]),$[I1iI1l(0x326,'9W8o')]=!![]):I1iI1l(0xb8,'L4^v')!==I1iI1l(0x1c7,'8pnd')?(ilI1li[I1iI1l(0x15f,'VXPr')](IIliI+'\x20'+ilI1ll['resp_msg']),Iillii[I1iI1l(0x28a,'nBNr')][I1iI1l(0x278,'20z1')](IlI1iI[I1iI1l(0x125,'4c()')]),Iillil[I1iI1l(0x27f,'5sfn')]=!![]):console['log']('❓'+i1lIii+'\x20'+JSON[I1iI1l(0x28c,'SY@6')](III11i));break;case'follow':if(III11i[I1iI1l(0x33b,'*e4e')]===0x0){}else III11i[I1iI1l(0xb3,'q$K5')]?i1lIil[I1iI1l(0x351,'3w[J')](I1iI1l(0x1ce,'vmBJ'),I1iI1l(0x2cb,'gPAP'))?(console[I1iI1l(0x331,'3w[J')](i1lIii+'\x20'+III11i[I1iI1l(0x208,'s$gA')]),$[I1iI1l(0x194,'gPAP')]['fix'](III11i[I1iI1l(0x1ed,'j4aQ')]),$[I1iI1l(0x1ab,'VXPr')]=!![],[I1iI1l(0x26c,'t7yN'),'结束',I1iI1l(0x12b,'qV[B'),'不在'][I1iI1l(0x19e,'KEWN')](IIIlI=>III11i[I1iI1l(0xbf,'6Hk[')][I1iI1l(0x1bd,')xF8')](IIIlI))&&($[I1iI1l(0xae,'wzx4')]=!![])):(IilIll['actStartTime']=lI11Ii['data']?.['startTime'],Iiill['actEndTime']=l11i1i[I1iI1l(0x10a,'nBNr')]?.[I1iI1l(0xe3,'YhNL')],lI11I1[I1iI1l(0x97,'20z1')]=l1il11[I1iI1l(0x22f,'DXf]')]?.[I1iI1l(0x122,'ga@m')],!IiI1[I1iI1l(0x129,'wzx4')]&&(lIII11[I1iI1l(0x171,'KEWN')]=IiilI(ii1I11[I1iI1l(0xff,'4c()')]?.[I1iI1l(0x26a,'FHa^')]||''))):I1iI1l(0x293,'FHa^')!==I1iI1l(0x96,'nTaT')?console[I1iI1l(0x8f,'fS3d')]('❓'+i1lIii+'\x20'+JSON[I1iI1l(0x7c,'fKTg')](III11i)):iil1ii[I1iI1l(0x282,'ga@m')](I1iI1l(0x354,'34Nc')+IlIlli+I1iI1l(0x80,'fS3d')+(il1i1i[I1iI1l(0x12d,'t7yN')]||lil111));break;case I1iI1l(0x264,'DXf]'):if(i1lIil[I1iI1l(0x88,'GQ8&')](III11i['resp_code'],0x0)&&III11i[I1iI1l(0x18f,'UBmZ')]){if(i1lIil['CzfID'](i1lIil['IjTyE'],I1iI1l(0x2ba,'gPAP')))Illl1I[I1iI1l(0xa3,'nTaT')]('❓'+lliiiI+'\x20'+lilil['stringify'](ll1ll));else{III11i=JSON[I1iI1l(0x178,'4c()')](III11i[I1iI1l(0x338,'qV[B')]);if(III11i[I1iI1l(0x23f,'3!Jc')]===0x0&&III11i['data'])$[I1iI1l(0x119,'qdo[')]=III11i?.['data']?.[I1iI1l(0x104,'nTaT')],$['encryptPin']=III11i?.['data']?.[I1iI1l(0x1a2,'6Hk[')];else{if(III11i[I1iI1l(0x2f6,'gPAP')]===0x3e8)console[I1iI1l(0x1c0,'fKTg')](i1lIii+'\x20'+III11i[I1iI1l(0x224,'KEWN')]),$[I1iI1l(0x2fa,'*e4e')][I1iI1l(0xa5,'YhNL')](III11i[I1iI1l(0x18a,'L4^v')]),$[I1iI1l(0xdc,'qV[B')]=!![];else III11i[I1iI1l(0x1e5,'6(FM')]?I1iI1l(0xd6,'34Nc')==='pEFXF'?ll1il[I1iI1l(0x225,'S%M0')]=!![]:(console['log'](i1lIii+'\x20'+III11i[I1iI1l(0xbb,'(eDe')]),$['message']['fix'](III11i[I1iI1l(0x25e,'UBmZ')]),$[I1iI1l(0x2e0,'6(FM')]=!![]):i1lIil['xrJOG'](i1lIil[I1iI1l(0xbe,'34Nc')],I1iI1l(0x340,'VXPr'))?Iil1li[I1iI1l(0x17b,'s$gA')][I1iI1l(0x138,'q$K5')](Iiilil):(console[I1iI1l(0x175,'Fx$3')]('❓'+i1lIii+'\x20'+JSON[I1iI1l(0x323,'%opT')](III11i)),$[I1iI1l(0x267,'j4aQ')]=!![]);}}}else i1lIil[I1iI1l(0x1ac,')xF8')](i1lIil[I1iI1l(0x2f1,'5sfn')],I1iI1l(0x242,'qB*i'))?console[I1iI1l(0x1ba,'q$K5')]('❓'+i1lIii+'\x20'+JSON['stringify'](III11i)):(delete lI1lli[I1iI1l(0x16f,'VXPr')],delete Ill1l[I1iI1l(0xfd,'fKTg')][i1lIil[I1iI1l(0x307,'nuV8')]]);break;case I1iI1l(0x284,'j4aQ'):if(III11i[I1iI1l(0x2f6,'gPAP')]===0x0&&III11i[I1iI1l(0x25b,'FHa^')]){if(i1lIil[I1iI1l(0x163,'VXPr')](i1lIil[I1iI1l(0x162,'q$K5')],'Lubua'))IiiIi1[I1iI1l(0x2af,'UBmZ')](l1ii1+'\x20'+ii1ll[I1iI1l(0x16b,'3w[J')]),IliI1l[I1iI1l(0x1eb,'34Nc')][I1iI1l(0x2e8,'fKTg')](lliiil[I1iI1l(0x17c,'nBNr')]),lliiii[I1iI1l(0xc9,'DXf]')]=!![],[I1iI1l(0x26c,'t7yN'),'结束',i1lIil['RWoLi'],'不在'][I1iI1l(0x19c,'J(1k')](I1I1iI=>IIli11['resp_msg'][I1iI1l(0x212,'Oaog')](I1I1iI))&&(IllIII[I1iI1l(0x297,'DXf]')]=!![]);else{$[I1iI1l(0x103,'(eDe')]=III11i[I1iI1l(0x29d,'6Hk[')]?.[I1iI1l(0x91,'j4aQ')],$[I1iI1l(0x10f,')xF8')]=III11i['data']?.[I1iI1l(0x157,'t7yN')],$[I1iI1l(0x22c,'nTaT')]=III11i[I1iI1l(0x111,'q$K5')]?.['actStatus'];if(!$['activityType']){if(i1lIil[I1iI1l(0x15d,'V((B')]===i1lIil[I1iI1l(0x258,'L4^v')])$[I1iI1l(0x105,'fKTg')]=i1lIil[I1iI1l(0x1da,'(eDe')](String,III11i[I1iI1l(0x339,'(eDe')]?.[I1iI1l(0x311,'4c()')]||'');else{iIIl11[I1iI1l(0x1bf,'6Hk[')](I1iI1l(0x227,'knfw')),l1l1I1[I1iI1l(0x1eb,'34Nc')]['fix'](I1iI1l(0x2f9,'J(1k')),I1iIll[I1iI1l(0x300,'pdIB')]=!![];return;}}}}else{if(III11i[I1iI1l(0x1ed,'j4aQ')])console[I1iI1l(0xb9,'gho^')](i1lIii+'\x20'+III11i[I1iI1l(0x358,'qdo[')]),$[I1iI1l(0xef,'9W8o')]['fix'](III11i[I1iI1l(0x2e7,'5sfn')]);else{if(i1lIil[I1iI1l(0x12e,'FHa^')](I1iI1l(0x2b3,'VXPr'),i1lIil[I1iI1l(0x2d3,'qV[B')]))console[I1iI1l(0x9a,'wzx4')]('❓'+i1lIii+'\x20'+JSON[I1iI1l(0x7c,'fKTg')](III11i));else{IiilI1[I1iI1l(0x34b,'KEWN')](I1iI1l(0x2ec,'S%M0'));return;}}}break;case I1iI1l(0x2aa,'DXf]'):if(III11i[I1iI1l(0x33b,'*e4e')]===0x0)$[I1iI1l(0x2c1,'3!Jc')]=III11i?.[I1iI1l(0x2b6,'YhNL')]?.['prizeInfo']||[];else{if(III11i['resp_msg'])i1lIil['qSOaK'](i1lIil[I1iI1l(0x312,'%opT')],I1iI1l(0x2f0,'J(1k'))?(console[I1iI1l(0xa3,'nTaT')](i1lIii+'\x20'+III11i['resp_msg']),[i1lIil[I1iI1l(0xf8,'6Hk[')],'结束',i1lIil[I1iI1l(0xaf,'V((B')],'不在']['some'](ili1Il=>III11i[I1iI1l(0x208,'s$gA')]['includes'](ili1Il))&&($[I1iI1l(0x99,'8pnd')]=!![]),$['message'][I1iI1l(0x2d7,'mRQ0')](III11i['resp_msg'])):(I1l1Ii[I1iI1l(0xdf,'pdIB')]=I1i11i?.[I1iI1l(0x14f,'5sfn')]?.[I1iI1l(0x34e,'nTaT')],I1i11l[I1iI1l(0x1f9,'%opT')]=llIlii?.[I1iI1l(0x115,'j4aQ')]?.[I1iI1l(0x262,'j4aQ')],llIlil['openCardUrl']=IIlil[I1iI1l(0x204,'fKTg')]?.['openCardUrl'],ilI1lI['shopId']=IiiIll?.['data']?.[I1iI1l(0x18d,'20z1')],IIlii[I1iI1l(0x196,'V((B')]=IlI1il[I1iI1l(0x216,'8pnd')](IilliI[I1iI1l(0x89,'3!Jc')],i1lIil['JNpIy']),IlI1ii[I1iI1l(0x1f7,'J(1k')]=lIIiii?.[I1iI1l(0x31c,'mRQ0')]?.[I1iI1l(0x270,'(eDe')],iI1lli[I1iI1l(0xcc,'s$gA')]=ll1iI['joinInfo']?.['joinCodeInfo']?.[I1iI1l(0x1b6,'5sfn')],iI1lll[I1iI1l(0x1ea,'*e4e')]=l1lIll['joinInfo']?.['joinCodeInfo']?.[I1iI1l(0x21d,'ga@m')]);else{if(I1iI1l(0x17a,')xF8')===I1iI1l(0x315,'6(FM')){iii1Il[I1iI1l(0x1ba,'q$K5')](i1lIil[I1iI1l(0x121,'fS3d')]);return;}else console['log']('❓'+i1lIii+'\x20'+JSON[I1iI1l(0x1b8,'pdIB')](III11i));}}break;case i1lIil['OmXiJ']:if(III11i[I1iI1l(0x15e,'pdIB')]===0x0&&III11i[I1iI1l(0x18f,'UBmZ')])$['followShop']=III11i[I1iI1l(0x29d,'6Hk[')]?.[I1iI1l(0x9b,'4c()')];else{if(III11i[I1iI1l(0x2bb,'knfw')])i1lIil['DErHT']!==i1lIil[I1iI1l(0xe2,'s$gA')]?i1i1Il['runEnd']=!![]:(['未开始','结束',i1lIil[I1iI1l(0x120,'Oaog')],'不在'][I1iI1l(0x329,'9W8o')](iIi1I=>III11i[I1iI1l(0x1c9,'w]%W')][I1iI1l(0x95,'3w[J')](iIi1I))&&($[I1iI1l(0xe1,'L4^v')]=!![]),console['log'](i1lIii+'\x20'+III11i['resp_msg']),$['message'][I1iI1l(0x33a,'knfw')](III11i['resp_msg']),$['skipRun']=!![]);else{if(i1lIil[I1iI1l(0x281,'nuV8')](I1iI1l(0xd9,'fKTg'),i1lIil[I1iI1l(0x169,'GQ8&')])){li1Il[I1iI1l(0x23c,'SY@6')](i1lIil[I1iI1l(0x32c,'SY@6')]),li1Ii[I1iI1l(0xfc,'SY@6')][I1iI1l(0x257,'nuV8')]('获取[pinToken]失败');return;}else console[I1iI1l(0xa9,'t7yN')]('❓'+i1lIii+'\x20'+JSON[I1iI1l(0x359,'gPAP')](III11i)),$['skipRun']=!![];}}break;case'saveFollowInfo':if(i1lIil['HvkqW'](III11i[I1iI1l(0x2a4,'fS3d')],0x0)){if(i1lIil['eFuHn'](I1iI1l(0x260,'34Nc'),'qsbjy'))IlI1Ii[I1iI1l(0x231,'V((B')]=i11I1I?.['data']?.['prizeInfo']||[];else{const liIIi=III11i['data'];if(liIIi)switch(liIIi[I1iI1l(0x2a1,'nBNr')]){case 0x1:console[I1iI1l(0x205,'3!Jc')](I1iI1l(0x308,'S%M0')+liIIi[I1iI1l(0x189,'34Nc')]+'\x20🐶'),$['message']['insert'](liIIi[I1iI1l(0x207,'20z1')]+'🐶');break;case 0x2:console['log']('🗑️\x20优惠券'),$['message']['insert']('优惠券🗑️');break;case 0x3:const IilllI=III11i[I1iI1l(0x25b,'FHa^')]['addressId'],iI1lIi=liIIi[I1iI1l(0x25f,'ga@m')];console[I1iI1l(0x7e,'nBNr')]('🎉\x20恭喜获得实物~'),console['log'](I1iI1l(0x263,'8pnd')+iI1lIi);if(liIIi[I1iI1l(0x167,'Fx$3')])console[I1iI1l(0x230,'qV[B')](I1iI1l(0x25c,'j4aQ')+liIIi[I1iI1l(0x203,'nTaT')]);const l1lllI={'baseUrl':$[I1iI1l(0x28e,'gPAP')],'newbaseUrl':$[I1iI1l(0x292,'J(1k')],'cookie':cookie,'ua':$['UA'],'token':$[I1iI1l(0x18e,'(eDe')],'prizeName':iI1lIi,'orderCode':IilllI,'activityUrl':$[I1iI1l(0x289,'mRQ0')]},llliIi=await loreal_savePrize(l1lllI);i1lIil[I1iI1l(0x195,'6(FM')](!isNotify,llliIi)&&await notify[I1iI1l(0x179,'mRQ0')]($[I1iI1l(0x1fc,'%opT')]+I1iI1l(0x1e1,'%opT'),'【京东账号'+$['index']+'】'+$['nickName']+I1iI1l(0x13b,'qV[B')+iI1lIi+I1iI1l(0x2da,'qV[B')+$[I1iI1l(0x2a9,'q$K5')]);$[I1iI1l(0x12d,'t7yN')][I1iI1l(0x1c5,'qB*i')](iI1lIi+'('+(llliIi?I1iI1l(0x210,'4c()'):'未填地址')+I1iI1l(0x24a,'%opT'));break;case 0x4:case 0xb:console[I1iI1l(0x221,'j4aQ')](I1iI1l(0x1f5,'j4aQ')+liIIi[I1iI1l(0xb4,'vmBJ')]+'\x20🎟️'),$['message'][I1iI1l(0x134,'S%M0')](liIIi[I1iI1l(0x349,'*e4e')]+I1iI1l(0x13c,'gho^'));break;case 0x5:console[I1iI1l(0x2a5,'GQ8&')]('🗑️\x20专享价'),$[I1iI1l(0x276,'6Hk[')][I1iI1l(0xec,'KEWN')](i1lIil[I1iI1l(0x322,'3w[J')]);break;case 0x6:console[I1iI1l(0x230,'qV[B')](I1iI1l(0x2f2,'w]%W')+liIIi[I1iI1l(0x28b,'5sfn')]+I1iI1l(0x336,'4c()')),$[I1iI1l(0x107,'20z1')][I1iI1l(0x2a3,'6(FM')](liIIi[I1iI1l(0xbc,'3!Jc')]+'🧧');break;case 0x7:case 0x8:case 0x9:case 0xa:case 0xc:console[I1iI1l(0x128,'DXf]')]('🎉\x20恭喜获得'+liIIi[I1iI1l(0x124,'%opT')]+I1iI1l(0x27a,'S%M0')),$['message'][I1iI1l(0xa7,'fKTg')](liIIi[I1iI1l(0x2cd,'w]%W')]+'🎁');!isNotify&&await notify['sendNotify']($[I1iI1l(0x1bb,'w]%W')]+I1iI1l(0xda,'pdIB'),I1iI1l(0x2bd,'q^qx')+$[I1iI1l(0x2ee,'nTaT')]+'】'+$[I1iI1l(0x2a0,'5sfn')]+'\x0a抽中\x20'+liIIi[I1iI1l(0xbc,'3!Jc')]+'\x0a\x0a'+$[I1iI1l(0x2d5,'FHa^')]);break;case'':console[I1iI1l(0xa3,'nTaT')](I1iI1l(0x2b4,'Oaog')),$[I1iI1l(0x346,'5sfn')][I1iI1l(0x177,'9W8o')](I1iI1l(0x234,'wzx4'));break;default:console[I1iI1l(0x213,'FHa^')](liIIi);break;}else console[I1iI1l(0xa8,'knfw')](I1iI1l(0x280,'nuV8')),$[I1iI1l(0xcf,'(eDe')][I1iI1l(0x255,'j4aQ')](I1iI1l(0x31f,'20z1'));}}else{if(III11i[I1iI1l(0xf7,'YhNL')]){console[I1iI1l(0x331,'3w[J')](i1lIii+'\x20'+III11i['resp_msg']);if([i1lIil[I1iI1l(0x173,'knfw')],'结束',i1lIil[I1iI1l(0x302,'gPAP')],'不在'][I1iI1l(0x1fd,'8pnd')](i1lIli=>III11i[I1iI1l(0xb5,'vmBJ')][I1iI1l(0x1a7,'3!Jc')](i1lIli))){if(i1lIil[I1iI1l(0x35e,'SY@6')]!==i1lIil[I1iI1l(0x2fc,'6(FM')]){if(I1iIl1[I1iI1l(0x35c,'KEWN')][I1iI1l(0x305,'34Nc')]('lorealjdcampaign-rc'))i1iliI=I1iI1l(0x348,'V((B');else lI1Il1['hostname'][I1iI1l(0x237,'q$K5')](i1lIil['pYIyU'])&&(I1iIii=IllII1[I1iI1l(0x1f3,'*e4e')]['replace'](/\/index$/,''));IliI1I[I1iI1l(0x1f1,'*e4e')]=I1iI1l(0x34d,'(eDe')+lI1Iii[I1iI1l(0x35c,'KEWN')],i1li[I1iI1l(0x1b9,'fS3d')]=I1iI1l(0x253,'s$gA')+li1II[I1iI1l(0x1a0,'V((B')]+IliI11,i1ll['origin']=i1l1lI[I1iI1l(0x13e,'qdo[')];}else $[I1iI1l(0x114,'ga@m')]=!![];}$[I1iI1l(0x2d2,'Oaog')][I1iI1l(0xaa,'w]%W')](III11i[I1iI1l(0x147,'9W8o')]);}else console[I1iI1l(0x92,'w]%W')]('❓'+i1lIii+'\x20'+JSON['stringify'](III11i));}break;}}catch(ll11ii){console[I1iI1l(0x33d,'qB*i')]('❌\x20未能正确处理\x20'+i1lIii+'\x20请求响应\x20'+(ll11ii[I1iI1l(0x20e,'Fx$3')]||ll11ii));}}async function sendRequest(liIlii){const illlil=l1i1i,llii1l={'qpBEV':illlil(0xc4,'knfw'),'EHUph':'login','qWCwe':'/api/task/followShop/follow','XiDCl':'initPinToken','mEnvF':illlil(0x1a6,'UBmZ'),'ZJfuT':illlil(0x23d,'knfw'),'ymWal':'drawPrize','uPdKT':illlil(0x19b,'Fx$3'),'ktWeN':function(llii11,Iillli){return llii11===Iillli;},'mCnDL':illlil(0xbd,'*e4e'),'wkqXn':function(ll11l1,ll111){return ll11l1!==ll111;},'zZzla':illlil(0x296,'3w[J'),'agcXZ':illlil(0x100,'s$gA'),'euKTw':illlil(0x28d,'(eDe'),'hgzJA':'cors','DGZtp':illlil(0xc3,'%opT'),'ulOqP':illlil(0x30b,'vmBJ'),'CThcp':illlil(0xb2,'3!Jc'),'FUUHp':function(llliII,iiIiIl){return llliII>iiIiIl;},'ZIQhE':'mYQKD','kzIkP':illlil(0x26e,'5sfn')};if($[illlil(0xcd,'s$gA')]||$['outFlag'])return;let liIlil=$[illlil(0x1f4,'q^qx')],llii1i=null,ll11il=null,iI1lIl=null,iiIiII=illlil(0x176,'8pnd');switch(liIlii){case llii1l[illlil(0x214,'6(FM')]:liIlil+=illlil(0x291,'t7yN'),llii1i={'status':'1','activityId':$[illlil(0xd1,'gho^')],'tokenPin':$[illlil(0x146,'*e4e')],'source':'01','shareUserId':$[illlil(0x1d8,'SY@6')]||'','uuid':$[illlil(0x2b1,'mRQ0')],'client':illlil(0x14b,'gho^'),'clientVersion':common[illlil(0x333,'3!Jc')](),'osVersion':common['getLatestIOSVersion'](),'model':'iPhone16,2','userAgent':$['UA']};break;case'follow':liIlil+=llii1l['qWCwe'],llii1i={};break;case llii1l[illlil(0x23a,'qV[B')]:iiIiII=illlil(0x156,'3w[J'),liIlil+=llii1l[illlil(0x250,'8pnd')],iI1lIl={'status':'1','activityId':$[illlil(0x1bc,'FHa^')],'jdToken':$[illlil(0x146,'*e4e')],'source':'01','shareUserId':$[illlil(0x1e7,'UBmZ')]||'','uuid':$[illlil(0x2f8,'FHa^')],'clientTime':Date['now'](),'shopId':$[illlil(0x27b,'Oaog')]};break;case illlil(0x353,'VXPr'):liIlil+=llii1l['ZJfuT'],llii1i={'activityId':$['activityId']};break;case llii1l['ymWal']:liIlil+=llii1l['uPdKT'],llii1i={};break;case illlil(0x261,'(eDe'):iiIiII=illlil(0x1e3,'gPAP'),liIlil+=illlil(0x172,'L4^v');break;case illlil(0x26f,'DXf]'):iiIiII=illlil(0x34a,'V((B'),liIlil+=illlil(0x10c,'nTaT');break;default:console[illlil(0x2a7,'YhNL')]('❌\x20未知请求\x20'+liIlii);return;}const Iili=llii1l[illlil(0x2c7,'(eDe')](iiIiII,illlil(0x217,'3!Jc'))&&$['pathname'][illlil(0x12f,'qB*i')](llii1l[illlil(0x188,'wzx4')])&&wuxianDefense[illlil(0x211,'GQ8&')](liIlil[illlil(0x140,'s$gA')]($[illlil(0x239,'w]%W')],'')[illlil(0xf2,'knfw')]('?')[0x0]);if(Iili){if(llii1l['wkqXn'](llii1l[illlil(0xf0,'KEWN')],llii1l['agcXZ']))ll11il={'ecyText':wuxianDefense[illlil(0xca,'5sfn')]({'actId':$[illlil(0x254,'S%M0')],...llii1i},$[illlil(0x81,'V((B')],$['te'])};else{IIII1I['log'](illlil(0x1a3,'20z1')+Iii111+illlil(0x1d5,'4c()')),l1l1II[illlil(0x194,'gPAP')]['fix']('活动尚未开始，开始时间：'+Iil1I1),Ii1iII[illlil(0x222,'nTaT')]=!![];return;}}const iIi11={'url':liIlil,'method':iiIiII,'headers':{'Accept':illlil(0x137,'w]%W'),'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':illlil(0x2db,'UBmZ'),'Connection':illlil(0x2ac,'fS3d'),'Content-Type':llii1l[illlil(0x143,'q^qx')],'Cookie':illlil(0x10d,'J(1k')+$['jdToken']+($[illlil(0x1e0,'S%M0')]?';pToken='+$[illlil(0x2a2,'nuV8')]:'')+($['te']?illlil(0x15b,'q$K5')+$['te']:''),'Host':$[illlil(0x11a,'fKTg')],'Origin':$[illlil(0x33e,'qV[B')],'Referer':$[illlil(0x197,'J(1k')],'Sec-Fetch-Dest':illlil(0x1fb,'(eDe'),'Sec-Fetch-Mode':llii1l[illlil(0x1b3,'knfw')],'Sec-Fetch-Site':'same-origin','User-Agent':$['UA']},'params':iI1lIl,'data':Iili?ll11il:llii1i,'timeout':0x7530};$[illlil(0x154,'SY@6')]&&(iIi11[illlil(0x324,'wzx4')][illlil(0x2d9,'SY@6')]=$[illlil(0x2dd,'Oaog')]['data'],iIi11['headers']['reserveJsVersion']=$['JdEnvInfo']['version']);if($[illlil(0x14a,'%opT')]){if(llii1l[illlil(0x1a1,'9W8o')](llii1l[illlil(0x152,'qdo[')],llii1l[illlil(0x10e,'VXPr')])){Iliill[illlil(0xfa,'q^qx')](illlil(0x83,'DXf]')+IIII11+illlil(0x1ef,'9W8o')),i1illi[illlil(0x294,'V((B')][illlil(0x193,'SY@6')](illlil(0x8e,'S%M0')+i1illl),I1llil[illlil(0xd3,'nuV8')]=!![];return;}else iIi11[illlil(0x2e1,')xF8')][illlil(0x16e,'gPAP')]=$['token'];}iiIiII===llii1l[illlil(0x7f,'qdo[')]&&(delete iIi11['data'],delete iIi11[illlil(0x324,'wzx4')][llii1l['CThcp']]);const Iil1=0x3;let ll11lI=0x0,llliI1=null,liIII=![];while(ll11lI<Iil1){llii1l[illlil(0x352,'%opT')](ll11lI,0x0)&&await $[illlil(0x16c,'34Nc')](0x3e8);const llii1I=await common[illlil(0x1e8,'qdo[')](iIi11);if(!llii1I[illlil(0x87,'20z1')]&&llii1I[illlil(0x30c,'wzx4')]!==0x22b){llliI1=liIlii+'\x20请求失败\x20➜\x20'+llii1I['error'],ll11lI++;if(llii1I[illlil(0xc2,'L4^v')]){if(llii1l[illlil(0x185,'j4aQ')](llii1I[illlil(0x12c,'nuV8')],0x1f4)&&Iili)illlil(0x17f,'Fx$3')===illlil(0x2a6,'DXf]')?l1iII1[illlil(0x26d,'qdo[')]={'ecyText':iiill1['encrypt']({'actId':lIli1i[illlil(0x1bc,'FHa^')],...IIIII1},I1lIlI[illlil(0x2e5,'FHa^')],ii1ill['te'])}:iIi11[illlil(0x2c5,'3w[J')]={'ecyText':wuxianDefense[illlil(0x108,'VXPr')]({'actId':$[illlil(0x360,'SY@6')],...llii1i},$[illlil(0x330,'vmBJ')],$['te'])};else[0x193,0x1ed][illlil(0x33f,'9W8o')](llii1I[illlil(0x27c,'qV[B')])&&(liIII=!![]);}continue;}if(!llii1I['data']){llliI1=liIlii+'\x20请求失败\x20➜\x20无响应数据',ll11lI++;Iili&&(llii1l[illlil(0x342,'fS3d')]!==llii1l['kzIkP']?iIi11[illlil(0x31c,'mRQ0')]={'ecyText':wuxianDefense['encrypt']({'actId':$[illlil(0x2e3,'20z1')],...llii1i},$[illlil(0x2e5,'FHa^')],$['te'])}:(iIiIi['headers']['reserveEnvInfo']=iil1ll[illlil(0x7b,'V((B')][illlil(0x31c,'mRQ0')],iiilil[illlil(0x24c,'(eDe')][illlil(0x2c2,'4c()')]=iil1li['JdEnvInfo']['version']));continue;}const iiIiIi=common['getResponseCookie'](llii1I);switch(liIlii){case illlil(0x332,'3!Jc'):const liIlli=common[illlil(0x22a,'8pnd')](iiIiIi,'te');liIlli&&($['te']=liIlli);break;}await handleResponse(liIlii,llii1I['data']),liIII=![];break;}ll11lI>=Iil1&&(console[illlil(0x92,'w]%W')](llliI1),liIII&&(!hotbreak&&(llii1l[illlil(0x90,'qdo[')]('aejgX','Goxfj')?(i11I11[illlil(0x34b,'KEWN')](l1llIl+'\x20'+ii1I1l[illlil(0xf7,'YhNL')]),[illlil(0xc8,'s$gA'),'结束',llii1l[illlil(0x85,'20z1')],'不在']['some'](Iillll=>lllii1['resp_msg'][illlil(0x2de,'(eDe')](Iillll))&&(liIli[illlil(0x272,'YhNL')]=!![]),llliI['message'][illlil(0x279,'q^qx')](iI1li1[illlil(0x192,'gho^')])):($['outFlag']=!![],$['message']&&$[illlil(0x116,'FHa^')][illlil(0xde,'3w[J')](llliI1)))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
