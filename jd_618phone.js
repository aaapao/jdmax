/*
活动名称：卡点618赢手机

cron:1 1 1 1 *
*/

const $ = new Env('卡点618赢手机')
var iｉl='jsjiami.com.v7';const lIli1l=iii1II;(function(lIli1I,II1il,lllI11,I1lIll,I1lIli,II1ii,IIIIII){return lIli1I=lIli1I>>0x3,II1ii='hs',IIIIII='hs',function(lillII,ii1ilI,lI1ll1,iIiI1,liil1I){const llI1II=iii1II;iIiI1='tfi',II1ii=iIiI1+II1ii,liil1I='up',IIIIII+=liil1I,II1ii=lI1ll1(II1ii),IIIIII=lI1ll1(IIIIII),lI1ll1=0x0;const i11ii1=lillII();while(!![]&&--I1lIll+ii1ilI){try{iIiI1=-parseInt(llI1II(0x227,'F5At'))/0x1+-parseInt(llI1II(0x2c7,'cPsa'))/0x2*(-parseInt(llI1II(0x2b3,'CZcT'))/0x3)+parseInt(llI1II(0x23d,'cPsa'))/0x4*(parseInt(llI1II(0x1ff,'BHZH'))/0x5)+parseInt(llI1II(0x2d0,'nKMX'))/0x6+-parseInt(llI1II(0x2cc,'o1%m'))/0x7*(parseInt(llI1II(0x22c,'6Kop'))/0x8)+parseInt(llI1II(0x229,'FP#$'))/0x9+-parseInt(llI1II(0x2ca,'D)6n'))/0xa;}catch(IlIliI){iIiI1=lI1ll1;}finally{liil1I=i11ii1[II1ii]();if(lIli1I<=I1lIll)lI1ll1?I1lIli?iIiI1=liil1I:I1lIli=liil1I:lI1ll1=liil1I;else{if(lI1ll1==I1lIli['replace'](/[ELfgkRFhQwYNWUnPSeKM=]/g,'')){if(iIiI1===ii1ilI){i11ii1['un'+II1ii](liil1I);break;}i11ii1[IIIIII](liil1I);}}}}}(lllI11,II1il,function(l1iII1,iiill1,lIli1i,IIIII1,I1lIlI,ii1ill,II1iI){return iiill1='\x73\x70\x6c\x69\x74',l1iII1=arguments[0x0],l1iII1=l1iII1[iiill1](''),lIli1i=`\x72\x65\x76\x65\x72\x73\x65`,l1iII1=l1iII1[lIli1i]('\x76'),IIIII1=`\x6a\x6f\x69\x6e`,(0x16d6c3,l1iII1[IIIII1](''));});}(0x5e8,0x87cce,Iii11l,0xbf),Iii11l)&&(iｉl=0xc7d);const jdCookie=require(lIli1l(0x1c9,'D][Y')),common=require('./utils/Rebels_jdCommon'),notify=require('./utils/Rebels_sendJDNotify'),getToken=require(lIli1l(0x290,'D)6n')),isNotify=![];let domains=lIli1l(0x1d0,'UU$r'),cookie='',originCookie='';function iii1II(_0x5a38a3,_0x2c30ba){const _0x3dc023=Iii11l();return iii1II=function(_0x2a93b0,_0x51f9c2){_0x2a93b0=_0x2a93b0-0x16e;let _0x4e1ca7=_0x3dc023[_0x2a93b0];if(iii1II['MyAXDc']===undefined){var _0x422ece=function(_0x4c1c2c){const _0x26f694='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x255674='',_0x253359='';for(let _0x251b0d=0x0,_0x4cc626,_0x38fe4a,_0x3f8db9=0x0;_0x38fe4a=_0x4c1c2c['charAt'](_0x3f8db9++);~_0x38fe4a&&(_0x4cc626=_0x251b0d%0x4?_0x4cc626*0x40+_0x38fe4a:_0x38fe4a,_0x251b0d++%0x4)?_0x255674+=String['fromCharCode'](0xff&_0x4cc626>>(-0x2*_0x251b0d&0x6)):0x0){_0x38fe4a=_0x26f694['indexOf'](_0x38fe4a);}for(let _0x30eb2c=0x0,_0x12086b=_0x255674['length'];_0x30eb2c<_0x12086b;_0x30eb2c++){_0x253359+='%'+('00'+_0x255674['charCodeAt'](_0x30eb2c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x253359);};const _0x4a1b92=function(_0x568ef6,_0x2a21e7){let _0xd59bc3=[],_0x92636a=0x0,_0x30a7ba,_0x283e1b='';_0x568ef6=_0x422ece(_0x568ef6);let _0x271f42;for(_0x271f42=0x0;_0x271f42<0x100;_0x271f42++){_0xd59bc3[_0x271f42]=_0x271f42;}for(_0x271f42=0x0;_0x271f42<0x100;_0x271f42++){_0x92636a=(_0x92636a+_0xd59bc3[_0x271f42]+_0x2a21e7['charCodeAt'](_0x271f42%_0x2a21e7['length']))%0x100,_0x30a7ba=_0xd59bc3[_0x271f42],_0xd59bc3[_0x271f42]=_0xd59bc3[_0x92636a],_0xd59bc3[_0x92636a]=_0x30a7ba;}_0x271f42=0x0,_0x92636a=0x0;for(let _0xd5211=0x0;_0xd5211<_0x568ef6['length'];_0xd5211++){_0x271f42=(_0x271f42+0x1)%0x100,_0x92636a=(_0x92636a+_0xd59bc3[_0x271f42])%0x100,_0x30a7ba=_0xd59bc3[_0x271f42],_0xd59bc3[_0x271f42]=_0xd59bc3[_0x92636a],_0xd59bc3[_0x92636a]=_0x30a7ba,_0x283e1b+=String['fromCharCode'](_0x568ef6['charCodeAt'](_0xd5211)^_0xd59bc3[(_0xd59bc3[_0x271f42]+_0xd59bc3[_0x92636a])%0x100]);}return _0x283e1b;};iii1II['oFjcmD']=_0x4a1b92,_0x5a38a3=arguments,iii1II['MyAXDc']=!![];}const _0x4e3516=_0x3dc023[0x0],_0x3c7d93=_0x2a93b0+_0x4e3516,_0x460886=_0x5a38a3[_0x3c7d93];return!_0x460886?(iii1II['arkhlM']===undefined&&(iii1II['arkhlM']=!![]),_0x4e1ca7=iii1II['oFjcmD'](_0x4e1ca7,_0x51f9c2),_0x5a38a3[_0x3c7d93]=_0x4e1ca7):_0x4e1ca7=_0x460886,_0x4e1ca7;},iii1II(_0x5a38a3,_0x2c30ba);}const cookiesArr=Object[lIli1l(0x1fc,'xgx*')](jdCookie)['map'](iIII1i=>jdCookie[iIII1i])[lIli1l(0x2a0,'Ynl!')](iil1i1=>iil1i1);function Iii11l(){const lI1lil=(function(){return[...[iｉl,'kEhFjUsYSjfPiaWmweiNLM.NFcgLokm.Rnv7wQUK==','ENpcMqnoWPGc','sgddNwBcNWzZWP1v','W5qFdWFcRHughq','iSoay1ddHu/cIuC','DJRdVwvwW6dcTL9w','zCoRWR3dK8olzSoNoa','W5pdU2VcVhOSr3S','fr5XrW','zxFcLW','AhVcHcXOWPqCW7G','BCkXW6HSW4O','x8ostaeI','emoLW58','WQ3cL3iwW7Xl','sx7dUKBcQW','cComW4BcUa','WRxORQ3MSj3LPBpOTlxcLEkDG8ks','WPFcTvmyW7a','n10ra8k0','W6pdT8orW7uV','sgddJN0','dSonW4BcNSkfW7SxWRS','ymkCDwtcPvNdMG','WPldTvpdUG','t2BdNSkYhq','W7aEnGXr','6i+W5y+5wc3cVSofWOBcQGhLPlFOTi/VVle','WRaUrcu','5P606ikt6i6a5y+q55AR5OUy6yIT5P6u5l+f5Oc5','WPpcKCo8nwy','WO3cLa9iW5m','WOFcQgbsAmkFhJa','B8oeqcCE','W6hdQNxcJg8','m3RdQujTW5pcIwK','ErvcWOVcHHqRsCoNDCoQjSoy','uvxcJd8','jCkutN/cULNdHSom','kXDhySoT','pSolfJJdVqRcGCoeW4NcICo6nqW','k0aF','WQhdMSktwG','5RAh5yQJ5zgL56AY77Yj5yYy54klC8kXCoI3IUAlIUACIa','W6SzWO7dQmkBzh7dISorfG/cRmoQ','WONdU10','8jAPKCkC','y0dcTqvz','bSkPW6q','vmkvW5fD','C3pcLZfj','xhhdM1dcHbj/WOLZaSoottm','rSktCXK','dCoZW4uUW4X7','EmkXka','gguEW7tdQfxcVW','W4q4kGX2','r8oFWP0','W5yiWPhdJ8kQ','c8oKWPi','aW8MW4G','c8kuW5pcQuO','z8onW5JcKmoVWQjQbX88vbm','W4BdUwZcIfe5xM3dQW','je4mgSk5','FuFdT8kajW','gCkYW7hcSxyGW4aBiq','p8ora8kksW','W6rkcYPI','W4pdSCojW7mGbCkOW5ne','WRiGtG','z8oEW4VcMCo1WRjubXK4x1ldO8kpW4BdVK7cPG/cRSkoWQddOsGaWPyWC8kSWQFcGghcL8o0W6GiWPxdHmobWPVcPmklWPJcJSoie8kv','fgddJNZcMJ52WPjFhW','o8k5kKddTaVcLreaW6LaWOHKdW','eCoZW5mFW5e','DSkxrqVcHG','FSoSW6VcT8or','FmkQo0tdMetdIvSkW59hWPr3cwBdHWXadmkUW4CWrSk3ySoWWRXBmmoOWONdRJG1g8oMW5iYEsNcVtpdLIRdSMu9','ba1Wq8or','WRRdJSkuD8k2ENO','igFcPmktWQ3cUGFcMsDAW4OFxa','BSoAW4/cHCoVW6SAxaaLxHNdVSouWP/dPbFdOq3dR8kFWQlcOxiFWPS5CCoGWQNcH3dcMSk5W65pWQ3dM8oCWOJcLSo7WOVcICoTz8oRW54xxfRdTSoXsWmEWQnWFcdcUSo8w1dcRCoGeIv/wxVcVcm2','wCkGWPT/WO0HW73cM1pdTehdQCoP','DSo4WRxdKa','W5/dSmopW5WIa8kM','W6ldSrnFW6TQvha','rSodWP0','tLpdIgVcGG','z8klrG','Cmk5DqT+','WQxdICkjs8k/','4PYlWO7MNk3NN6RORzxMSAZdHa','WR5LW77cGIvN','W4zOWO8zW5KcrahdIa','CSopW4JcNG','qSkvEXrIW5O','WOWnxHFdQW1qeMm','WRldNSkozmkB','W49/ctzMcG','aw8gW6ldP23cRLuNW48','WO7cV3jwwSkmfa','gCowW4ZcHmkmW74','aCkAFYFcNqes','DIxdPNXQW7lcSq','i8ohdCkW','WRxcL34','s8ozWO5Y','W6K0dGdcOG','44g35O2B56Ep44oA6k2r5ywd6i+B5y+GW5ddR8oDwXyr','frzVsCor','W7WoWPpdJCklshxdMCoJgG','5OIz5AEL6i2+5BYU77+r8jYaQtlNQldMS7m','WRn6W6K','W4JdNmkU','eSoJW4KwW4XYWR7cMG','aSo5WOFcPmou','zfVdUW','EUISOUAYNUwrNUw6Hxy','aMXM','BxFcNHy','bSo4W7i6W5S'],...(function(){return[...['5AY+5OIz5lIh5yUtW50','WR/dRw7dQXu','bmoQWOhcQmoovbHxW6ddQW','WRVcQ0m3W5e','omkaWRpdNKa','W6KpxNi','DtBdPmoa','WRKQxr9PW6j8wCo2W43cKGHs','WQ3dKSkoq8kVCJddN8k9la1GhZ3cVSoXW6JcVSo4vmolvKZdSa','WRpcGwauW6y','aSoKW44OW4X2','W4HKaYD9','fSkdWQCFWQpdN8kx','W7aBwG','gCo5W5BcOW','W6yTEMpdGa','CI/dPNG','dIZcLZFdHvzaWP5oi8oNzq','smoNuq','bxuEW68','BCoUWR7dKmo8','h8kfW5lcIh0','rmo3qGmHWRukkSoRWPBdTq','W5ZdQSoC','g8o/W4a','5OIX5AsQ6i2n5BYG77+08jQIS8ky56U05RgR','vwhdGG','bXOUW44','cWhdVqRcQq','uSkQrIlcUHSivSkxW6y','kfOmp8k9W4/cHa','u8kvW5DDW45u','emkcWP0xWRZdKG','W4pdRxdcL28','WRtcNwOaW7mrka','W7K1oa','l8opDf/dKeFcILzwW4nAFCkjreS','cmoLW7qIW51Q','W4ZdKSk6W6NcUwtdR2ylWOqbW57dRmkpWRq','ACkUusXf','qCkGwqRcSvu','cCo3W4VcRq','W57dTmkQW5hcNG','ASobW5W','bCo3W58O','cGldPZhcRa','WQD0W4VcKta','WOpcPmoRc0pcR00','aXqQW58','W6GccrNcLraocW','5P2b6igE6iYv5yYx55Ek5OQT6yIo5P6D5lYi5Ogk772H','zSkxrG','BCkDvvtcU0/dKCohW67cUCoFjc8','WOKKwqjL','cSoaW5BcNSkwW6mkWRS','WPlOR77MSR7LPypOTQnw4P6Huq','svxcGq84xSoPWOldHG','hrldN0FcRq','A8oDW5W','xLhcGs0','WRn6W7RcVsvSWRS','W5xdQ8oFW4uPa8kSW5a','WQ06sX9OW7bQqa','WQtcQdT8W6q','qcX0ySo+W4aYW7BcGsRdH8kfFSoWWPazW6j+pKO','o8k+WRKbWQC','WQ3cKw0FW7C','qCoUW7GryfSVAmo8W7OpW6hdKW','WOlcVCoEleS','W7VcOrPoW4PFCuS','fCo3W5GI','imopcCkHAa','bhucW7pdQa','44gT5O2g56Ac44ox6k6/5yEr6iYW5y2OW53dJbpdNYy+','qCoMvX0eWQGriW','WP7cVu0','jSoZW4NcHSkM','v1xcHJ82vSoN','zSk+CafJ','W6GoWPVdGmk9y3tdIa','bXzUwmogWQq','fCkuWQWBWQ3dGW','Ed7dN8oBW54','WRjWW73cUIf5WQC','fqZdOq','j8kQW6lcOwS','W4pdSCoAW647eq','tCoXvW4YWQ4n','z8oSWR7dLCoZ','W64CxNZdPG','WRldNSkuBSkVAhJdHmkrm01VaW','WQOUwITdW71WwmoD','ymkXjfhdHshcKG0cW5m','pSoJfmkxDa','pa7dSatcJ8oxWOK','AhhcHdqH','CCoRWRxdNSo9','WOvhxf3dRKntbcn4WOXjW54','4PYtx+ACJoIaQEAULUEGLEwLMUEqVCkK','WOXekdRcIqS3fG','WRtcMwKaW7SriW','ntBdO2tcUq','pSk6WOpdP3aLsW','hhmYW6ZdReS','WRBcGmo8kLO','5yYX5lQQ5OQu5Asw','bNupW5JdVvpcQuC','bMWlW6JdRq','z8owuqSZ','omojaW','c8o3W5tcSY3cPmkXWO/cPSkfd8oDkdux','ys/dU20','cWVdTeJcSs4laSoE','W48mqKJdPq','v3VdIa','W5XGWP8zW4Gxubq','EEAlRowkIa','oCovaW','Fmk/WRJdJgi5vqO5cmkPWQBcIW','bmo/cL/dPLWyxSkuW5tcLsm','ghmk','W5vLdcDR'],...(function(){return['wdO4jSkUWP5XWRlcLWVdG8kmFa','DCkUp1JdGH3cHWaBW5LhW4LOeYtdGfmwvSkIW4WYa8kKySo+WQbrmSkRW4ZcRd0','m8kwWOpdJCkOW6zVfHiFDJm','mmosWP7cU8o8','W7ahvg3dJCkonmkY','yIpdSCovW6RdUW','CSkCnJRcMXBdLg5vW6PgvSkx','mmopBNS','vmkrW5viW7iCWQO','4P++kEIhPUADNUI9LUIGUUMbUUwjGEs4Q+MuG+IVSwW','CSobW5dcKmoYWO5bcGaY','WQNcKLmAW5G','sNFcNGD5WOmyWRaLWQjUWPu','cmomW4/dR8kiW7muWRNcJuOoWQyHW55aW7FdRJbtvs8','nCofb8kHACkoWPXEg0RdN8kg','eSoIW5KGW5z0WQtcL14','eCkcWOadWQNdNCkC','W4j7WPuiW6mPuXddGh8','pb5sWRFcNsqQwSo3EW','WR3cL0yhW7mfjG','W4FdTMZcHNOwwhhdTfms','W4NdGmkU','eSoIW4O9W41G','DtZdPNzDW5JcTLDjya','cbXXWQpcRa','6i+T5y6XW4uXWOZdKmkvW7pcGUwMToI0GW','amo1W58wW4XQWR3cLa','m0athmk/','W6vAWPy6W68','erGZW5mpkCkSgSk2FWO','EMZcGHPYWOOfW7Si','b8kJW7dcQ3KGW4W','vL/cKG','5A2V5OUk5lU65yQeya','5OQ05Aw+6iYR5B2Y772t','t3xdNgtcRG1ZWOHy','zCopW4/cLSo0WO5beGm8','WRNcTHi','eCoZW5BcOtZdSq','WRNdLmkh','dmozW4VcSCooWROEWRVcJ0KbWRvQWPmqW6xcSG','W4BdS3VcSgG','cKvBz8ob','W4X5atH2','WR8Sxr9OW6HPtG','WQhcJSonm1m','kSkNWRxdQxqjtHK3ca','CN7cHb4/','WQXHW6/cVtvT','eSo9W4i5W6PMWQm','oXbiWRhcQHGXtSoQza','AshdQa','bmoeW6hcLmkx','W6qiWO7dH8kDlttcL8o2fG/cUmoWW4PjecBdK1FcLcVdVSkdWOScibG9WR01W6zL','l8oAC3/dKrtdIW1VW4LarSkssWNdJmk0WOpcRJb0WR7dRhqKyCobWRlcKSoXjCok','i8k+WR3dLx4','y8owW5lcGq','W4qIjcZcGq','gmkvWPihWPVdJSkwW44','fgSSvCozWOa7WRhdQd7cMmoqpmk6W6mOW6m4dNDEswRdVatcS2ejubqyvCkSxCot','nWBdPJRcGmouWOxdS8kR','W60Ew2/dTW','WQOGqIvYW45TuSozW4e','5yYX5lQQ546a5RM45OIt','gmkZW63cNxyJ','W5/dVwZcKg8YuG','nGJdUq','sSkFW49lW4eoWQe','nmooW4aLW5y','zuFdUW','wmojWOP2WOddN8kJ','W7W0oYDO','W4NdScSpeCobEW','lSk6WRFdTN8','WRyUwHbUW7H3x8oOW4FcIcDtW5rf','4PYld+ADKUIcHoAUSUEJGowNP+EtGGe','dSkPW5ZcRhK0W4i','WRpcNe0CW7KtiW','EvRdTCkFla','WOS8tdjsW7b0tG','WRFdLmkesa','vXNdKSo2W4S','cSo3W5hcSG','W4tdQSoqW78GpCk1W4XnW7y','W5y0kGLe','WQXHW6/cUZrbWQu9ECkz','kSkaaq','dCo5W4W','WOJdP10','kHxdTX/cHG','WPdcQSoDcW','m8o0W6NcRWy','d8kxWQOIWOy','b8omW4u','hbqZW44CmSkH','eSoIW4O7W4XmWQRcKeRdHq','aMX1ySoYW544','5P216ikc6i6r5yYc55ED5OMm6yIQ5P245l2L5Og/','gXldQG3cJmojWPNdP8k+W7fpW7BdUG','cCkPW63cVNeG','rCozWO5CWO3dNCkH','W5eEcW','5OMy5AEc6i6n5BYz772z','bCotmmkPFW','FtJdTW','l8k2WRBdGmoBFCoNiZJcQG','t3VdHgRcNW','5Rwl5yUt5zgk56wk772J5yYH54gHvCosnEI0HoAjMUAFLqK','zmoDWO/dSSoS','k8obya','jtBcRW','yaRdPKj5','ga8ZW4OkESo3tmkBzaHJWPPQWRO7j2WVWOhdQCoiWRC6W4RcMSkCW45himoJW4S','lSopWPFcQSol','CSoTWQ7dJCo2DCoHlIG','mmknWPNdPvq','W7BcNxCxW40rlg4CW5mMvSklxmkvW5y9WOFdLCoS','8lAyMmoP','mbLtBCof','d8ocW5BcOa'];}())];}())];}());Iii11l=function(){return lI1lil;};return Iii11l();};!cookiesArr[0x0]&&($['msg']($['name'],lIli1l(0x243,'I3(B')),process['exit'](0x1));!(async()=>{const lillIi=lIli1l,il1i11={'jlttD':lillIi(0x224,'@9CO'),'MPkGD':'phone-618-api','vObcf':'HGJl6oxR','spYRN':function(IlIll1,IlIII){return IlIll1<IlIII;},'pjJiJ':'pt_pin'};$[lillIi(0x266,'e%&3')]=il1i11['jlttD'],$[lillIi(0x17a,'FP#$')]=il1i11[lillIi(0x29c,'jQ2n')],$['appKey']=il1i11['vObcf'],notify[lillIi(0x1c3,'yNtx')]({'title':$['name']});for(let ilil1l=0x0;il1i11[lillIi(0x1bc,'J0L*')](ilil1l,cookiesArr[lillIi(0x20c,'FP#$')]);ilil1l++){$['index']=ilil1l+0x1,cookie=cookiesArr[ilil1l],originCookie=cookiesArr[ilil1l],common[lillIi(0x288,'xgx*')](originCookie),$[lillIi(0x281,'CZcT')]=decodeURIComponent(common['getCookieValue'](cookie,il1i11[lillIi(0x2d5,'*W&d')])),$['UA']=common[lillIi(0x238,'K6@6')]($[lillIi(0x1af,'jVId')]),$[lillIi(0x17f,'yNtx')]=notify[lillIi(0x25a,'FP#$')]($[lillIi(0x2c9,'Hz&m')],$['UserName']),$[lillIi(0x2c3,'E(WX')]='',console[lillIi(0x24d,'D)6n')]('\x0a******开始【京东账号'+$[lillIi(0x1a7,'!8YI')]+'】'+($[lillIi(0x2ce,'wrq@')]||$['UserName'])+lillIi(0x1a8,'grrd')),await Main(),common[lillIi(0x174,'I2k!')]();if($[lillIi(0x226,'K6@6')]||$[lillIi(0x1a0,'yNtx')])break;await $[lillIi(0x1ef,'gSKx')](0x3e8);}isNotify&&notify[lillIi(0x26d,'cPsa')]()&&(notify['appendContent']('\x0a【活动地址】'+$[lillIi(0x17d,'UU$r')]),await notify[lillIi(0x263,'Mupu')]());})()[lIli1l(0x217,'GV&3')](illlIi=>$['logErr'](illlIi))[lIli1l(0x2ae,'#NK)')](()=>$[lIli1l(0x25e,'CeEf')]());async function Main(){const illIi1=lIli1l,I1lIii={'bUoMQ':function(IiI1I,illlIl,i11ill){return IiI1I(illlIl,i11ill);},'RqlJk':illIi1(0x1f2,'GV&3'),'JPvMI':'auth','HSTNr':'vFxjp','WcWwY':illIi1(0x282,'jQ2n'),'BBgad':function(IIIIIi,IIIIIl){return IIIIIi(IIIIIl);},'zGchU':illIi1(0x20a,'ibg)'),'pmNmZ':'task_list','JKTTj':function(I1lIil,IIIl1i){return I1lIil>=IIIl1i;},'TEbky':function(liiII1,IIIl1l){return liiII1===IIIl1l;},'UDaqb':illIi1(0x1f1,'!8YI'),'ZtkxD':illIi1(0x237,'CZcT'),'jeTCV':function(lllll,i11ili){return lllll*i11ili;},'ykaFo':function(iil1l1,lllli){return iil1l1(lllli);},'evjSi':function(iiili1,ill11i){return iiili1!==ill11i;},'QoQAI':'zkgBU','FEyLq':function(lllill,ill11l){return lllill(ill11l);},'GYJqo':function(I1lIiI,lllili){return I1lIiI(lllili);},'UepkK':function(IliiiI,Ill11){return IliiiI(Ill11);},'TGwpD':function(liiIII,li1i11){return liiIII>li1i11;},'xiahl':illIi1(0x2bb,'Mupu'),'GVozd':'UuXJx'};try{$['skipRun']=![],$[illIi1(0x1dd,'D][Y')]=![],$[illIi1(0x2b4,'*W&d')]=![],$[illIi1(0x25c,'J0L*')]='';if($[illIi1(0x23c,'jQ2n')]||$[illIi1(0x22b,'*7hT')])return;$[illIi1(0x1ee,'BHZH')]=await I1lIii[illIi1(0x254,'oaij')](getToken,originCookie,domains);if(!$[illIi1(0x1ee,'BHZH')]){console[illIi1(0x273,'!8YI')](I1lIii['RqlJk']),$[illIi1(0x20e,'Mupu')][illIi1(0x268,'CeEf')](illIi1(0x179,'#NK)'));return;}await sendRequest(I1lIii[illIi1(0x1f8,'e%&3')]);if($['runEnd']||$['outFlag']||$['skipRun'])return;if(!$[illIi1(0x17b,'GV&3')]){if(illIi1(0x26c,'#NK)')!==I1lIii['HSTNr']){console['log'](I1lIii[illIi1(0x178,'ftY^')]),$[illIi1(0x170,'J0L*')]['fix'](illIi1(0x1c1,'ftY^'));return;}else I1iIl1['log']('❌\x20脚本运行遇到了错误\x0a'+i1il);}$[illIi1(0x203,'uWDo')]='',await I1lIii[illIi1(0x29e,'7ukS')](sendRequest,I1lIii[illIi1(0x27a,'Mzwr')]);if($[illIi1(0x23c,'jQ2n')]||$['outFlag']||$[illIi1(0x2d2,'0FOT')])return;await $['wait'](0x3e8);!$[illIi1(0x1aa,'jVId')]&&($[illIi1(0x274,'nKMX')]=!![],console['log']('活动名称：卡点618赢手机\x0a'),notify['appendContent']('活动名称：卡点618赢手机'));$['task_list']=[],await I1lIii[illIi1(0x2bc,'e%&3')](sendRequest,I1lIii[illIi1(0x28f,'6Kop')]);for(let il1i1l of $[illIi1(0x2ab,'jVId')]||[]){if(I1lIii[illIi1(0x1e2,'0FOT')](il1i1l[illIi1(0x192,'ftY^')],il1i1l[illIi1(0x19c,'#NK)')]))continue;for(let IlIlll of(il1i1l?.['item_list']||[])[illIi1(0x236,'7ukS')](IIIl1I=>IIIl1I[illIi1(0x24e,'AkOT')]==0x0)){if('Enpgu'===illIi1(0x1e6,'ibg)'))lilIlI[illIi1(0x276,'Mzwr')]=!![],iIIIIi[illIi1(0x273,'!8YI')](illIi1(0x1cb,'UU$r')),iii1I1['appendContent'](illIi1(0x202,'Hz&m'));else{$[illIi1(0x1df,'Ynl!')]=il1i1l,$[illIi1(0x2ba,'Mupu')]=IlIlll;if(il1i1l[illIi1(0x234,'E(WX')]==0x5){if(I1lIii[illIi1(0x230,'7ukS')](illIi1(0x1cf,'RaeB'),I1lIii['UDaqb'])){const IlIlli=I1lIii[illIi1(0x211,'uWDo')][illIi1(0x19d,'wrq@')]('|');let il1i1i=0x0;while(!![]){switch(IlIlli[il1i1i++]){case'0':if(il1i1l[illIi1(0x244,'Ynl!')])await $[illIi1(0x1b2,'CeEf')](I1lIii['jeTCV'](il1i1l[illIi1(0x297,'z)Jl')],0x3e8));continue;case'1':await I1lIii[illIi1(0x197,'oaij')](sendRequest,illIi1(0x252,'I3(B'));continue;case'2':await $['wait'](0x3e8);continue;case'3':await sendRequest(illIi1(0x1ac,'yNtx'));continue;case'4':await $[illIi1(0x23f,'z)Jl')](0x3e8);continue;}break;}}else IIli1[illIi1(0x1a5,'%sss')]('❓'+II1liI+'\x20'+IlI1i1[illIi1(0x16f,'FP#$')](l1lIl1));}await sendRequest(illIi1(0x2b6,'oaij')),await $[illIi1(0x260,'RaeB')](0x3e8);}}}await I1lIii['BBgad'](sendRequest,I1lIii['zGchU']);if($['runEnd']||$['outFlag']||$[illIi1(0x23e,'RaeB')])return;await $[illIi1(0x255,'wrq@')](0x3e8),$[illIi1(0x26a,'ibg)')]=$['get_user_info']['coins'],console[illIi1(0x2bd,'z)Jl')](illIi1(0x19f,'jVId')+$['num']+'次');while($[illIi1(0x25d,'wrq@')]-->0x0){I1lIii[illIi1(0x294,'nhnT')](I1lIii['QoQAI'],illIi1(0x209,'AkOT'))?(i1lI['token']=IlI1l['body'][illIi1(0x215,'o1%m')],lilIil[illIi1(0x19e,'jVId')]=i1l11[illIi1(0x20b,'7ukS')]['token_type']):(await I1lIii[illIi1(0x18d,'nhnT')](sendRequest,illIi1(0x1bf,'FP#$')),await $[illIi1(0x22a,'D][Y')](0x3e8),$[illIi1(0x2b7,'Mupu')]&&(await I1lIii[illIi1(0x291,'J0L*')](sendRequest,illIi1(0x1ed,'jQ2n')),await $[illIi1(0x2d1,'nKMX')](0x3e8)));}await I1lIii['UepkK'](sendRequest,I1lIii['zGchU']);if($['runEnd']||$[illIi1(0x26e,'GV&3')]||$[illIi1(0x1d8,'AkOT')])return;await $[illIi1(0x26b,'UU$r')](0x3e8),$[illIi1(0x1ec,'ibg)')]=Math['floor']($[illIi1(0x203,'uWDo')][illIi1(0x213,'UU$r')]/0x64),console['log'](illIi1(0x2b9,'jVId')+$['star']+'次');while(I1lIii['TGwpD']($['star']--,0x0)&&!$[illIi1(0x29a,'e%&3')]){I1lIii['xiahl']!==illIi1(0x277,'7ukS')?(await sendRequest(illIi1(0x1be,'UU$r')),await $[illIi1(0x1ba,'nhnT')](0x3e8)):i1III[illIi1(0x183,'ibg)')]=Ii1iIi[illIi1(0x201,'K6@6')];}}catch(llllI){I1lIii[illIi1(0x242,'CZcT')](I1lIii['GVozd'],illIi1(0x27e,'vIwK'))?(I1iIil['skipRun']=!![],lI1Iil['log']('❓'+lilIiI+'\x20'+i1l1I[illIi1(0x2c0,'l)s*')](IiilIi))):console[illIi1(0x2bd,'z)Jl')](illIi1(0x2d3,'E(WX')+llllI);}}async function handleResponse(iil1il,ilil1I){const ii1ili=lIli1l,i11il1={'WYkpZ':ii1ili(0x299,'CeEf'),'JhENN':function(ii1iiI,lllilI){return ii1iiI===lllilI;},'RAqxv':ii1ili(0x18a,'D)6n'),'zFzku':ii1ili(0x259,'*W&d'),'xBPBM':ii1ili(0x241,'5^BK'),'uGgds':ii1ili(0x216,'I2k!'),'lwbtd':ii1ili(0x184,'o1%m'),'dwRhL':function(ilil11,illlI1){return ilil11!==illlI1;},'QbuNf':ii1ili(0x2a5,'yNtx'),'aRPqR':'CslzN','iiOzA':'pgpnm','ebixH':ii1ili(0x1b5,'vIwK'),'MIeEf':function(IIIl11,I1lIi1){return IIIl11!==I1lIi1;},'pKSFH':ii1ili(0x199,'CZcT'),'jEpSn':function(liiIIi,lil11I){return liiIIi!==lil11I;},'QuTme':function(Iliii1,iIiIi){return Iliii1!==iIiIi;},'CgTwR':ii1ili(0x1c0,'D)6n'),'zYLGS':function(iil1ll,iiilil){return iil1ll!==iiilil;},'yhDuZ':ii1ili(0x194,'jQ2n'),'IuFXq':function(iil1li,lillIl){return iil1li===lillIl;},'tZHJD':ii1ili(0x1f9,'I2k!')};try{if(i11il1[ii1ili(0x1fe,'Ynl!')](i11il1[ii1ili(0x2af,'xgx*')],ii1ili(0x25f,'wrq@')))Illl1i?.[ii1ili(0x18b,'Hz&m')]['length']!==0x0?IiiIli[ii1ili(0x180,'xgx*')](ii1ili(0x1c6,'gSKx')+iillli?.[ii1ili(0x1b9,'#NK)')][ii1ili(0x245,'uWDo')]+ii1ili(0x1ce,'RaeB')+I1l1Ii?.[ii1ili(0x1ae,'%sss')]['prize_info'][ii1ili(0x298,'Mupu')]):I1i11i['log'](ii1ili(0x246,'Mzwr'));else switch(iil1il){case'get_user_info':if(ilil1I)$[ii1ili(0x2aa,'K6@6')]=ilil1I;else ilil1I[ii1ili(0x262,'e%&3')]?i11il1[ii1ili(0x1e3,'e%&3')]!=='jyygt'?ii1lI[ii1ili(0x2a7,'e%&3')][ii1ili(0x1c2,'#NK)')]=I1ilIl[ii1ili(0x1b3,'*7hT')]+I11iII[ii1ili(0x1ca,'ibg)')]:console[ii1ili(0x240,'*W&d')](''+ilil1I[ii1ili(0x2a4,'l)s*')]):'EzDTA'!==ii1ili(0x18f,'xgx*')?($['skipRun']=!![],console[ii1ili(0x200,'GV&3')]('❓'+iil1il+'\x20'+JSON[ii1ili(0x219,'yNtx')](ilil1I))):ll1ii[ii1ili(0x207,'yNtx')]('❓'+IIli11+'\x20'+IllIII[ii1ili(0x1d2,'D][Y')](ii1li));break;case i11il1[ii1ili(0x223,'o1%m')]:if(ilil1I&&ilil1I[ii1ili(0x2a6,'*7hT')]===0x0)$['token']=ilil1I['body'][ii1ili(0x16e,'z)Jl')],$[ii1ili(0x2d4,'o1%m')]=ilil1I[ii1ili(0x1e7,'jQ2n')][ii1ili(0x2ac,'@9CO')];else ilil1I[ii1ili(0x24b,'%sss')]?console[ii1ili(0x1bd,'jQ2n')](''+ilil1I[ii1ili(0x2c5,'z)Jl')]):($[ii1ili(0x191,'FP#$')]=!![],console[ii1ili(0x21d,'jVId')]('❓'+iil1il+'\x20'+JSON[ii1ili(0x1dc,'RaeB')](ilil1I)));break;case i11il1[ii1ili(0x22e,'ibg)')]:if(ilil1I)$['task_list']=ilil1I[ii1ili(0x279,'CeEf')];else ilil1I['msg']?console[ii1ili(0x247,'vIwK')](''+ilil1I['msg']):console[ii1ili(0x204,'gSKx')]('❓'+iil1il+'\x20'+JSON[ii1ili(0x1d9,'ibg)')](ilil1I));break;case i11il1[ii1ili(0x264,'D][Y')]:if(ilil1I){}else ilil1I['msg']?console[ii1ili(0x283,'BHZH')](''+ilil1I[ii1ili(0x22f,'BHZH')]):console[ii1ili(0x200,'GV&3')]('❓'+iil1il+'\x20'+JSON['stringify'](ilil1I));break;case ii1ili(0x173,'*W&d'):if(ilil1I)console['log'](ii1ili(0x181,'grrd')+$[ii1ili(0x235,'o1%m')]['title']+ii1ili(0x2c4,'7ukS'));else ilil1I[ii1ili(0x28a,'o1%m')]?i11il1['dwRhL'](i11il1[ii1ili(0x2c1,'wrq@')],i11il1[ii1ili(0x20f,'!8YI')])?Iiili[ii1ili(0x1cd,'nKMX')](ii1ili(0x205,'0FOT')+IilIli+ii1ili(0x1e8,'!8YI')+li1[ii1ili(0x24a,'I3(B')]):console['log'](''+ilil1I[ii1ili(0x210,'5^BK')]):i11il1[ii1ili(0x214,'yNtx')]!==i11il1[ii1ili(0x2a2,'F5At')]?console[ii1ili(0x1b7,'FP#$')]('❓'+iil1il+'\x20'+JSON[ii1ili(0x21c,'*7hT')](ilil1I)):(iIli1I[ii1ili(0x19a,'J0L*')]=!![],Iiil1[ii1ili(0x248,'Mzwr')](''+iiilli[ii1ili(0x27c,'FP#$')]['message']));break;case i11il1['ebixH']:if(ilil1I)i11il1[ii1ili(0x2b5,'l)s*')](ii1ili(0x2b8,'nhnT'),i11il1['pKSFH'])?$[ii1ili(0x2a1,'J0L*')]=ilil1I?.[ii1ili(0x1a6,'5^BK')](/"/g,''):lI1Ill[ii1ili(0x22d,'5^BK')]('❓'+lI1Ili+'\x20'+IliilI['stringify'](i1II1));else ilil1I[ii1ili(0x1b8,'gSKx')]?console[ii1ili(0x212,'I3(B')](''+ilil1I[ii1ili(0x185,'6Kop')]):console[ii1ili(0x24d,'D)6n')]('❓'+iil1il+'\x20'+JSON['stringify'](ilil1I));break;case ii1ili(0x28d,'*7hT'):console['log']('❓'+iil1il+'\x20'+JSON['stringify'](ilil1I));if(ilil1I)i11il1[ii1ili(0x2ad,'z)Jl')](ii1ili(0x1bb,'CeEf'),ii1ili(0x1d1,'I3(B'))?i11il1[ii1ili(0x1c7,'z)Jl')](ilil1I?.['prize'][ii1ili(0x270,'J0L*')],0x0)?console[ii1ili(0x193,'RaeB')](ii1ili(0x182,'%sss')+ilil1I?.[ii1ili(0x231,'K6@6')][ii1ili(0x171,'E(WX')]+ii1ili(0x1b6,'BHZH')+ilil1I?.[ii1ili(0x2a9,'wrq@')][ii1ili(0x177,'RaeB')]['quota']):console[ii1ili(0x1c5,'CZcT')]('抽奖获得：💨\x20空气'):(lilIl1['msg'](i1l1ii[ii1ili(0x1f3,'jVId')],i11il1[ii1ili(0x2cd,'I3(B')]),i1l1[ii1ili(0x198,'o1%m')](0x1));else ilil1I[ii1ili(0x2c8,'Mupu')]?console[ii1ili(0x283,'BHZH')](''+ilil1I['msg']):console[ii1ili(0x187,'K6@6')]('❓'+iil1il+'\x20'+JSON['stringify'](ilil1I));break;case i11il1['CgTwR']:if(ilil1I)ilil1I?.[ii1ili(0x1ea,'GV&3')][ii1ili(0x186,'CeEf')]!==0x0?console[ii1ili(0x267,'*7hT')]('抽奖获得：'+ilil1I?.[ii1ili(0x2b0,'D][Y')][ii1ili(0x18e,'oaij')]+'\x20x\x20'+ilil1I?.['prize']['prize_info'][ii1ili(0x271,'I2k!')]):ii1ili(0x1d3,'oaij')===ii1ili(0x206,'AkOT')?console['log']('抽奖获得：💨\x20空气'):l1iiI['log'](ii1ili(0x1ab,'GV&3')+ll1li+'\x20请求响应\x20'+(Illl1I['message']||lliiiI));else ilil1I[ii1ili(0x175,'Mzwr')]?i11il1['zYLGS'](ii1ili(0x265,'yNtx'),i11il1['yhDuZ'])?console[ii1ili(0x27b,'o1%m')](''+ilil1I['msg']):IllIIi[ii1ili(0x240,'*W&d')]('抽奖获得：💨\x20空气'):console['log']('❓'+iil1il+'\x20'+JSON[ii1ili(0x17e,'AkOT')](ilil1I));break;}}catch(i11iil){i11il1['IuFXq'](ii1ili(0x1eb,'*7hT'),i11il1[ii1ili(0x1f5,'nhnT')])?console[ii1ili(0x1cd,'nKMX')](ii1ili(0x2b2,'ftY^')+iil1il+ii1ili(0x24c,'oaij')+(i11iil[ii1ili(0x23b,'grrd')]||i11iil)):I1llil[ii1ili(0x187,'K6@6')](ii1ili(0x250,'E(WX')+I1llii[ii1ili(0x296,'FP#$')][ii1ili(0x292,'*W&d')]+']成功');}}async function sendRequest(ii1iil){const liil1i=lIli1l,lllI1l={'CXwdY':'未能获取用户鉴权信息！','NMJkb':'auth','gnYsc':liil1i(0x257,'jVId'),'FNBWT':'GET','XAchq':'task_list','tkdSf':liil1i(0x172,'ftY^'),'kwgNQ':'start_game','emYfr':liil1i(0x28c,'vIwK'),'eDSVt':liil1i(0x258,'K6@6'),'ZyTeV':liil1i(0x188,'jQ2n'),'fubqk':liil1i(0x19b,'D)6n'),'qvvSJ':liil1i(0x228,'o1%m'),'bSZDC':function(lI1lll,iIiII){return lI1lll===iIiII;},'kLtFb':liil1i(0x2d6,'AkOT'),'YQzYm':function(iil1lI,iiiliI){return iil1lI===iiiliI;},'PeyTO':liil1i(0x221,'FP#$'),'CnuKT':function(li1i1I,illIii){return li1i1I===illIii;}};if($['runEnd']||$[liil1i(0x1c4,'5^BK')])return;let i11iii=liil1i(0x195,'uWDo'),llI1Ii='',lllI1i='POST';switch(ii1iil){case lllI1l[liil1i(0x1e9,'*W&d')]:i11iii+='/auth/jos',llI1Ii=liil1i(0x1e5,'*W&d')+$[liil1i(0x1ad,'*W&d')]+liil1i(0x2c6,'oaij');break;case lllI1l[liil1i(0x24f,'FP#$')]:lllI1i=lllI1l[liil1i(0x1f0,'%sss')],i11iii+='/'+$[liil1i(0x1e1,'AkOT')]+liil1i(0x220,'@9CO');break;case lllI1l[liil1i(0x21b,'Hz&m')]:lllI1i=lllI1l[liil1i(0x1b1,'F5At')],i11iii+='/'+$[liil1i(0x1e1,'AkOT')]+liil1i(0x21f,'ibg)');break;case lllI1l[liil1i(0x189,'I2k!')]:i11iii+='/'+$['act_type']+'/catch_task',llI1Ii=liil1i(0x26f,'0FOT')+$[liil1i(0x28e,'jVId')][liil1i(0x25b,'Hz&m')];break;case liil1i(0x27f,'nhnT'):i11iii+='/'+$[liil1i(0x18c,'jVId')]+liil1i(0x295,'6Kop'),llI1Ii=liil1i(0x278,'cPsa')+$[liil1i(0x249,'FP#$')]['token']+liil1i(0x1fb,'ftY^');break;case lllI1l[liil1i(0x21a,'z)Jl')]:i11iii+='/'+$['act_type']+'/start_game';break;case liil1i(0x1db,'nKMX'):i11iii+='/'+$[liil1i(0x286,'jQ2n')]+liil1i(0x1d4,'*W&d'),llI1Ii=liil1i(0x2be,'CeEf')+$[liil1i(0x275,'FP#$')];break;case lllI1l[liil1i(0x289,'l)s*')]:i11iii+='/'+$[liil1i(0x1de,'I2k!')]+liil1i(0x1fd,'BHZH');break;default:console[liil1i(0x204,'gSKx')](liil1i(0x232,'nKMX')+ii1iil);return;}const li1i1l={'url':i11iii,'method':lllI1i,'headers':{'Host':lllI1l[liil1i(0x1cc,'D][Y')],'Accept':liil1i(0x2cb,'@9CO'),'Accept-Encoding':lllI1l[liil1i(0x251,'gSKx')],'App-Key':$[liil1i(0x233,'vIwK')],'Accept-Language':lllI1l[liil1i(0x2a8,'D][Y')],'Content-Type':liil1i(0x21e,'o1%m'),'Origin':liil1i(0x196,'nKMX'),'Referer':lllI1l['qvvSJ'],'User-Agent':$['UA'],'X-Requested-With':liil1i(0x2d7,'jQ2n')},'body':llI1Ii,'timeout':0x7530};$[liil1i(0x1a9,'oaij')]&&(li1i1l['headers']['Authorization']=$[liil1i(0x23a,'Mupu')]+$[liil1i(0x218,'%sss')]);lllI1l[liil1i(0x253,'*W&d')](lllI1i,liil1i(0x29b,'*W&d'))&&(delete li1i1l[liil1i(0x1b0,'K6@6')],delete li1i1l['headers'][lllI1l['kLtFb']]);const II1i1=await common['request'](li1i1l);if(lllI1l[liil1i(0x1f6,'6Kop')](II1i1[liil1i(0x176,'FP#$')],0xc8))liil1i(0x17c,'E(WX')===liil1i(0x285,'jVId')?IiilII[liil1i(0x284,'BHZH')]=IliI1I:handleResponse(ii1iil,II1i1[liil1i(0x28b,'xgx*')]);else{if(II1i1[liil1i(0x239,'Hz&m')]===0x1a6)['终点'][liil1i(0x208,'0FOT')](lI1llI=>II1i1[liil1i(0x2bf,'RaeB')][liil1i(0x1a3,'0FOT')]['includes'](lI1llI))&&($[liil1i(0x29f,'uWDo')]=!![],console[liil1i(0x1c8,'F5At')](''+II1i1[liil1i(0x256,'F5At')][liil1i(0x2a3,'vIwK')]));else{if(II1i1[liil1i(0x2cf,'F5At')]===0x1a6){if(lllI1l[liil1i(0x27d,'#NK)')]!==liil1i(0x1a4,'FP#$'))['终点'][liil1i(0x280,'UU$r')](illIil=>II1i1[liil1i(0x1d7,'jQ2n')][liil1i(0x1a1,'I2k!')][liil1i(0x1da,'CZcT')](illIil))&&(lllI1l[liil1i(0x1b4,'!8YI')](liil1i(0x1d6,'Ynl!'),'rkOpF')?l1l1II[liil1i(0x22d,'5^BK')](''+Iil1I1[liil1i(0x1e4,'CeEf')]):($[liil1i(0x1f7,'grrd')]=!![],console[liil1i(0x1e0,'AkOT')](''+II1i1['data'][liil1i(0x29d,'xgx*')])));else{II11Ii[liil1i(0x20d,'@9CO')](lllI1l[liil1i(0x222,'cPsa')]),II11Il[liil1i(0x272,'*W&d')]['fix'](liil1i(0x1f4,'wrq@'));return;}}else{if(lllI1l[liil1i(0x253,'*W&d')](II1i1['status'],0xcc)){}else II1i1[liil1i(0x190,'vIwK')]&&('UxMcN'==='iHkfp'?IlI1il[liil1i(0x2c2,'ibg)')](liil1i(0x269,'uWDo')):console[liil1i(0x1a2,'#NK)')](liil1i(0x1d5,'Mzwr')+ii1iil+liil1i(0x287,'E(WX')+II1i1[liil1i(0x225,'Ynl!')]));}}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
