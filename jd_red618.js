/*
活动名称：红包618
环境变量：jd_red618_url // 活动链接
        jd_red618_ids // 分享码，多个用英文逗号，@，换行分割（一般是链接后面的s=xxx参数，5个字符）
        jd_red618_threads // 控制并发线程数（正整数），默认1，最大5，尽量使用默认值，否则请开启代理运行
        jd_red618_interval // 自定义运行间隔时长（整数，单位毫秒），默认2000
        jd_red618_notify // 是否推送通知（true/false），默认不推送
        jd_red618_pinFilter // 账号pin过滤，多个用@进行分割
        jd_red618_maxdraw // 开红包次数（正整数），默认3

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:59 59 11,23 * * *

*/

const $ = new Env('红包618')
var iｉl='jsjiami.com.v7';const i11iIi=iii1II;(function(lI111I,IlilI,llIi1,IliIII,II1l,liiiiI,II1i){return lI111I=lI111I>>0x1,liiiiI='hs',II1i='hs',function(illli1,I1lII1,Ill111,I1iI11,II11){const l11iIl=iii1II;I1iI11='tfi',liiiiI=I1iI11+liiiiI,II11='up',II1i+=II11,liiiiI=Ill111(liiiiI),II1i=Ill111(II1i),Ill111=0x0;const l1ilII=illli1();while(!![]&&--IliIII+I1lII1){try{I1iI11=-parseInt(l11iIl(0x1a5,'8K5q'))/0x1+-parseInt(l11iIl(0x158,'v4uL'))/0x2*(-parseInt(l11iIl(0x16b,'K2Q&'))/0x3)+-parseInt(l11iIl(0x10e,')i&d'))/0x4+-parseInt(l11iIl(0x22b,'Nd17'))/0x5+parseInt(l11iIl(0x1c0,'MlaI'))/0x6+parseInt(l11iIl(0x2a2,'orzF'))/0x7*(-parseInt(l11iIl(0x1b6,'8K5q'))/0x8)+parseInt(l11iIl(0x23b,'zn]e'))/0x9*(parseInt(l11iIl(0x1c2,'y(Ne'))/0xa);}catch(ii1II1){I1iI11=Ill111;}finally{II11=l1ilII[liiiiI]();if(lI111I<=IliIII)Ill111?II1l?I1iI11=II11:II1l=II11:Ill111=II11;else{if(Ill111==II1l['replace'](/[eTJyQDpLlXRKdghAEq=]/g,'')){if(I1iI11===I1lII1){l1ilII['un'+liiiiI](II11);break;}l1ilII[II1i](II11);}}}}}(llIi1,IlilI,function(iliIll,llliIl,iliIli,illliI,ii1III,i11iIl,ll11ll){return llliIl='\x73\x70\x6c\x69\x74',iliIll=arguments[0x0],iliIll=iliIll[llliIl](''),iliIli=`\x72\x65\x76\x65\x72\x73\x65`,iliIll=iliIll[iliIli]('\x76'),illliI=`\x6a\x6f\x69\x6e`,(0x16e0e0,iliIll[illliI](''));});}(0x186,0x6a199,Iii11l,0xc5),Iii11l)&&(iｉl=`\x31a`);const jdCookie=require(i11iIi(0x2b2,'6jRk')),common=require('./utils/Rebels_jdCommon'),notify=require(i11iIi(0x239,'m^Ln')),{H5st,jsTk}=require(i11iIi(0x1a0,'fb*h'));let red618_url=process[i11iIi(0x295,'1ziR')][i11iIi(0x161,'K2Q&')]||'',redshareId=(process[i11iIi(0x174,'KMXx')]['jd_red618_ids']||'')['split'](/[,@\n]+/g)['map'](liI1il=>liI1il[i11iIi(0x159,'6jRk')]())[i11iIi(0x16c,'RMq*')](Boolean),maxdraw=process[i11iIi(0x226,'8K5q')]['jd_red618_maxdraw']||'3',taskThreads=process[i11iIi(0x18e,'fAvu')][i11iIi(0x287,'%1Nr')]||'1';const runInterval=process[i11iIi(0x108,'m^Ln')][i11iIi(0x2a5,')i&d')]||i11iIi(0x255,'M(ch'),isNotify=(process['env'][i11iIi(0x12c,'#]I]')]||process[i11iIi(0x21d,'irk2')][i11iIi(0x25a,'GxJY')])===i11iIi(0x172,'jm!$'),pinFilter=(process[i11iIi(0x146,'K2Q&')][i11iIi(0x2c1,'GxJY')]||'')['split']('@'),endTime=0x19036605000,maxThreads=0x5;let cookiesArr=Object['keys'](jdCookie)[i11iIi(0x278,'orzF')](llIlIi=>jdCookie[llIlIi])['filter'](llIlIl=>llIlIl);!cookiesArr[0x0]&&($[i11iIi(0x26a,'N7A6')]($[i11iIi(0x117,'fb*h')],i11iIi(0x1e1,'m^Ln')),process['exit'](0x1));const prize_map={0x1:i11iIi(0x24d,'DF]M'),0x3:i11iIi(0x28e,'c97['),0x6:i11iIi(0x138,'orzF'),0x11:i11iIi(0x1e0,'K2Q&'),0x13:i11iIi(0x27f,'DF]M')};!(async()=>{const IIIIll=i11iIi,II11I={'ovodO':function(il1i1,lIIiIi){return il1i1===lIIiIi;},'dRoFt':'KEwHR','UwcaF':IIIIll(0x1a6,'r$Zg')};notify[IIIIll(0x24e,'m^Ln')]({'title':$[IIIIll(0x21a,'gIzt')]}),await Main(),isNotify&&notify[IIIIll(0x197,'P6Rh')]()&&(II11I['ovodO'](II11I[IIIIll(0x22e,'oQ^#')],II11I[IIIIll(0x2b8,'hR)C')])?l1iIIl=iiilll['split'](','):await notify[IIIIll(0x12a,'P6Rh')]());})()['catch'](iI1Il1=>$[i11iIi(0x20f,'hR)C')](iI1Il1))['finally'](()=>$['done']());function Iii11l(){const lI1Ii1=(function(){return[...[iｉl,'XppjQRgsjiAdaymKig.XcDJoThLme.Tv7QAgEElq==','W4ngWR8dWRm','W6NcI8kiwq','t8kFWR09FW','W60VWQW','yCk4WQCdBmofzG','WOZdGI/dQrK','nmotbH7cLq','uv/dMe/cO8og','WQtcVCoZW4xdRre','6zg55O2p5zoR6z2E55Ml5AYy56+15B+m6Acz5lUuW6lKVQdLR6JNRAi','W7Oca8oKva','W6aICSkTDq','WR7dSJBdHq','W5OPamonsW','5REV5yID5BwU5lUlW7G','WOZdV8oSWRra','WQFdVG1fWQbZWQdcNbj1fsRcOmkkWQS7WPRdKCkPiLCGWQ9YksLM','4P6fWRpOHyxMNP3OVRZOOkNPGQJLIB3KUl3PLitOR6VdTq','W7RdSJm','W6ldM8kZWPq','W43dQCkfuG','WR3dGSoMWP9U','WOFdQ8odWQPaxSkpWRhdIwKjmsS6W54+','WQJcMM/cO2m','D8kswetdLCknzCkWh8obWO7cOh5vW57dHSkAo8o2WOaPFSkckCoOa3PMW6tdU0hdOItcN0dcUG','8jckKCkw','WRW3DmoZW71+WQW','Cc0dW7amW5RcPmozW5aRW4BcRSkmmCoaW4afWP4Fy8oK','W6NcHCks','6yk96k+n56k3eSo3','WR5TWQr4W5e','W51PWRK','E8oeF8k0WPC6','BSkwWQCMwq','W7xMIOFMIQ/LIzDP','W4ZcIeVdTSkhWO7cLcVdISo9WPKfW6HYyW','WQFINBBdHq','W7NdQSkAWPFcOG','W7ulmCoMW5vV','ASohWP0cW54','zSols8o/Dq','WPyUB8o2W58','W7VcQMBcIfvwW50NW79mACknWRy','kLn0Cu5R','EdGFW5uX','q8kAW5ZdGNNdOmkhit3cSq','WQtdMSoS','WQTkWQTIW6K','WOCjuq','W7ziW78','ySo8W7NdJG','WPpMN7lNNBJNS5NLNji','WQJdV15RW6S','W7XEW6ZcKaZcMqddMrpdNmkcW7T7gmoJiJnJxa','WPVdVtJdLYS','W5CEdmopW6K','W5RdJJL/WQW','uvxdKq','WR0JECo0W7DG','WQtcT8o6','WQRdOMbmW6zM','W6KSD8kNzcO','W5JcT8kRW60Da8otW7pcT2CFla','W6WcWOJdQSkh','WOpcT0pcQvq','WO3cIJK','pSoOW6iOw8oryxSl','orlcQWq','W4FcGKi','ESovFCk5WOW','B8keh3pdIG','WPVdQXZdMtO','zCkZWRCCEmogzNi','W43dHb4','WOFdGSo0bSkk','WOGdEbneyCo4cCkuDSonrfm','W5RcU2qBrSoMWRuC','W4/dVJ9EWQi','5yI75lQr56k3eSo3','WRWYE8o5W6W','W4lcSvKiqmoN','ofHIW5L/kG','WRRcVCoTW4FdUa0','je5SDvGJfq3cHSk+rtH0W5LoW6FdRghcVSoP','4P+gtUIhVEAEQEI8PEIJKUMdOowlRUs5JUMvToIUVmkQ','W5nEe1axtmk8DSoFsSo6','zmomW6xcQ2FcTa','sc0bW58t','WOyovajoCmkGta','W7xcH8kGa8o5','WRlcQbj9WOO','DSk1W7KtyW','WQZdPxTS','CMpdOutcUW','WPNcMfS','W6lcV8kTjmoDW7O','fSovsYGA','W57cO8kxzmk2','WRNdHSo7','ofvlCvLWveu','BCkOWQayySoqqg4Iqa','5Ps46zw/5QEv','W6apkW','W4xcJgVdOCkj','CWNcQxievmos','j0PR','WQ8DBcLV','bmoxktVcHW','WRVcVqXwWOO','fSkQiqqC','EmkKWQqv','W47cUmkFjmon','FmoGAW','4P6uWRFMNktOG7tMR6VNOAZLP4FNK5Pw','W45+WRnsWQm','WQRdHSkLECkE','WOmjWPjBWQXnWOj5','W7RdNCk5','gcxcSq0b','yZtdH8o6BCo5WO/cIhiouJ3cGq','WPxcSvW','WPFcUL7cG0/dVmorkdtdHf9kimoN','DdaoW7SWW5JcQ8oxW4KrW6BcQG','WOxdU8oOWQHwamkwWQ/cGuqiCdj9W5iJEutcPNSrwCkqW4hcHYdcGtv4fSkKWOJdVmkFAuBcP8o1WRlcMKRcMSkJWRldSqVdHCkRd2vRaSoeffqwWObEWPeDxIO3rriDW6H6WOBcUWG','W7/cOmkVvCk5','W6q5WQG3WRhcUq','W5mqmSotW48','W6pdMmkMWOVcJW','BmoaW6ZcU1dcOXBcGSk8pZBcNeZdICkLf8kpW6VcJcJcGW','W5RdUCkcD8oIWPKXEmkxW4G','kZ7cL2OHqG','W4nGWQddTL3dTY/dVX3cSmk1WOGgWRvWwa','5RgU5P2Q6i6a5y6p5yII6lAY6lYT6zkE5OYl','WRRcUCoZW4BdTHq','WQGgqXP9ndepW4aK','WRtdSMbUW7XQ','W5VcVK8vtG','W6yFk8oQW5vWWQSMzmoM','WQNdHCkqsmkMi8kGjJdcI8k3WOJdKZDBja','WORdVdhdHqKlWPTGW69KDmkA','W6rsBCkWW5S','W55YWRCGWO4W','fxpcJSkHhG','WR58tvBdK8kCuInQnSoxW5u','ieX6thK','6kY+5Ao45yEg5Q+s56cc55UH6zcr5O+O','ASoaW6JcU2FcTaG','WOT1WRr+W6DsmSo7WOHouCkOxGWoW7/dPfTXj8kdq1eJqIzZzetcHSo6W7lcUxChyKpdV21fW710W7tcJ3HLWQWctXFcIqnfWOL/xCkmW4RdTSk1W6iuyCkXiCoVtSoRqwzHWRBdQSo0W64qWQ3dLdGZWOVdMuuHW7STW75YFKBcSSkaW6Sljf7dUK3dIruTobjuW7ajs8o0EmoqW603x1nyWRhcKcRcVSoNW4FcR8kcW7Wkb8ovtqNdI8knvwe9WQC7W6tdNmk/mCoeg17cSCoJxuVcTaxcRhZdGSoCWQ8TWQ1DWQiMl8oJEtJdNCorfthcVG8jW48/hG','W6pcMXOLbSk/W6PkW7/dGq','WRJdKmoYiSkSvq','WRNcNbP/WQq','5Rc35P6u6i+J5y+c5yUZ6lEi6l6y6zcP5O6p','FCkOWRSeBa'],...(function(){return[...['WQNcRCoPW4RdTGVcRh9YxW','o11cW5v8','W7pcHCkWtmk/kSkHsGpcNCkW','WRJdMSo7','WQKpwdzG','W7qEpSo2W5i/W5P5jSoTu1NcMSk+BCkOCr9vkmoNW7xdVIFdO8k3aCoHW6JdSdbigCkid8oRW6fZW7ldI0BcMLVdUdeZE1r4DJVdRXRdJ1XuCGZcUNWLW5FdMNqJCCoBsffZc3GSCSkGWQbXBmkRW44LW4lcOJpcUCogxrPLqSklgrZdPJVdSCoNWOtcJ8oqFSoOw0D3W4hdHWqrW6lcPg04jmoxoCoCW7lcP8oUhCoEWQ3dUIFdKmo+WR3dK1KQWONdG1JdO8kkbSoYWOShW6WbiCo5WOztW4xcTgddUCoktdRcKSkLWRldRtH1W7O1gc47W4LmBCkZhCkZW4LQf8kJrCk6q8o5mmo2eCkPESoHWR3cI8klr8knl8k2W7xcJCkqD1VcLujvy8obWPFcTHddIs7dJSkdWPhdIW7cUbZcK8kYyCo8WR7cPhWXBJHEjqlcTSoWBCoThWZdKbxdQfnKW7pdKSobdmkzWRbcv8o0AZpdQ3SmWODxW694WO5nWQy1WRBdOftdI8kDDmo9BLC9W4ucibaKj8kVWPyNDCo5gKXFBSocW69bW6FcOmkbAKpcUmk0aJ4ZtJWpW4ZdTfFdPG7cICkHoh/cUeZcRCkaD8kbW60HWPG7W7ddMcivbmkdoHeermoRW5ldV8kAW5tdGCopWOPHhmkJogvxB0FdVgDpCbNcO8ogW6nqfh/dIsRcLgDeW5fol8k7w3fhamkjWOVcQb15r8ofjv7dIvnBWPCbW6aFWR8XWR3cQCoXmCkOlCo8pfNdV8o8WRFcGXJdTSoGW5hdGSoNB0ldR8oDcmonESo0W4tcKSocWQRdJG/cO8o+W53dLSkTFCk8gSkFWPHuWORcLxJcOCozWRifWRzzwSkfCmo/l8oVWRTIv8oFueJcSW9lWQBcRu/cLSoauSoblGVcUSkUW5TNW5dcQbZdUmotW67cGbtdJCk+WPFcMCknoCkczsmZo8kWk15OW4meW6GSwCkcWPZcJq','WQhdGCofWRXU','WRPWtJhcQCo0wrrQ','W6n/WQNdH2O','DcCpW7O','dWNcJW','WOtcPLRcQG','pwRcISkkmW','W5TXWOLSWRK','WR7dMSo1kW','WQxdVdG','eSkbdWuxBCoix8o7WO9YWOBdG20mW6G','WR3cHSouW6/cIcOHW77dP8otyZbF','ymolCSk8WO0ZW6VcKq','W7zsdMaICsa1W40tk3G','gCkbfsSnAq','jL41z0P7x07cNSo5','W6HlW7tcTrK','WQuTFSo+','W4CPCmkQta','W6/dISkUWP7cLG','W7tcMSkjvCk7','W4OfjCoRW5zUWOLMnCkTaG/dMSoQcCo0oavez8k3W5FdNbpcRSkTBmoeW67dNraLemoPsSkJWPHcWPtdKZpcIN7dUZu/fNnYyfxdIGJdNuSPg37cG2u+W5VdQuz0xmoRzdqPyH5lDCohW7SwkSonW5eSWQpcOsVdL8kaFYDpeSoLcH3dOX3dNCkhW5FcKmoyxSowA3biWOFcUv52WRVdHH1shSoBnCo7WQ7cM8kzFSkhWQhcOxZcGCktWQ3dU0WcWPBdRbZcJ8oYEmkWW5KuW6CVhmkvW7DsWQldRHFcTmk2dK/dI8oqW7a','WOHFiq','W7DEW7BcUXNcHq','W6VKVjdMGkhLIRXL','W5lcVgZdRCkb','ASoTW6FcTu4','k8okbX7cLCoRj8o1','jdNcKq','F8oWq8kOWOO','W6ZcUSkTiCoP','W7q/WR8/WQVcU8k8ety','kttcLxWfumoFWRNcSNeOWQbxBSoBW40','smoxWPOFW68','6zg55O2p5AEu6lsz','A8olW6RcS3FcOH7cNG','W57dUHHNWRK','WQemqa17lcq','uSklW57dJ33dSmkIncdcV8ovzSoFq3hdKGCZzCkEWQjSW4ddKCoEWRJdJmkNDCouWRBcTSofyeCgWRJdQSk1n8kMkrFcKqqiWR0','WQbKW4FcTGNcJLG','oIZcTfuH','W4lcU1a','WPddHgboW6q','WRNNQQZLH6JLIzL8','44cJ5OYR56Au44kY6k+J5yEB6i205y6wcSk/W5qIW44l','W4/dUCkgvSoMWOKN','W73dMCkeWR3dMG','WRpdKmoObSk3smoYWPJdQdm','CmoqWRSwW5OQWR4','v8o5oevc','WOxcJJLGWP4','W5voWOrPWPPfWOT/W6/cJq','4PMVq+IhNEwVG+s5M+I+KEIGJEMwLoMyUUAwOEMuOEIUJEE/QEMvOoITSG','WPZdOqe3ySo8WRKbWP8','W5H+WQKa','W6ilWOBdOCkqW6ZdLa','w8oSA8kCWRC','W55AWQjdWRq','vCoJW6VcKNS','WRrtgMaa','p0P0Bf8','WODykKeAW7K','8l6RGx8','W4lcG0hdGCkEWQ/cLG','WOJcP1lcT1JdO8oapKRdIezglCk5WPddHb0aWRzavdGJWRVcPbnXWP/dMKNcOa','W4bIWRCcWPq8','CSokW7K','W4pcVLtdSmkP','W6mQWRK3','W7mynSoV','W4j9WQ/dGvBdHG','WRJdPJddHq0','v17dLa','CmoRjfni','W7FcN8kwva','qCkEW4RcLsxcQ8kGlY3cTq','W5tdGCkuWPJdUG','WQuqyZz5jc8','W6iKpSohyG','WOdcLcrXWQW','W6RdTSkpWRtdLG','W6xdGSkYWPJcGq','W55IWR1tW5fSW5X+l8oG','BCkmqa','vmkEW5RdT33dVSkM','iuNcSmkHnW','W5NcKSkjoSoF','W4iIWPq/WRa','x8kuW4K','WPRcSepcOq','uvxdKw3cPCoC','A8o4W77dNbJcJ8o7','F8kTWRGzEq','E8orWRCwW4OVWRvN','WONcKsPaWP0UW5XhCHGLgmkfmxZcGsHjWRtdGwmNW64UW6tdGCoJW6O+WQBcQYKiW5/cJmoPWOhdGHOQWQehhSktdZpcRLj+bLhdJSkaWRJdSvldSSkMpMq0tYBdRKfmWPtcV8oHu8k+','W4FcHuxdSHRcTraAtxxcVa','WRNcRCoYW5BdUa','WPxcSZX6WQu','W4mJWQesWRy','6zg/5O2Y5zoc6zY055Iy5A+z566p5B+y6AcY5lIOWOdKV63LRzJNRQu','W4tdSr0','FmoEWRKF','n2lcISkinCk4W4/cQgGs','oCovW7VcUL3cTr7cNSk5mXRcNr4','W68aWPe','rmkAW4FdL0ddUSkUjq','W4bOWR4','W6xcTSk4nW','W7CSWQy9WRu','amoMpG','bMHCBeO','W7KRdW3cJW','W63dK8kLBG','W64Qda','44oF6lwK5y+G','WQBdKmo4C8oPbCoDWOldTcW','W5v6WRpdQ0O','W6RcI8kv','WPpdMXxcK8oFW5xcLWldJCoaWPuG','W63cSSkImCoOW6y','smk1WRG0FG','WQ3dGtddTXG','CJOLW6WW','xeVdJgNcLq','hCkSfsy1','DmoOW6pdQHFcJa','W7eVDmk2','kqNcSaWMW68','WRf7WQDJW59xpSkX','W6/ORPtMSBxLKPtLUOzH','pvHLW4LelIpcTa','W4KnWP7dQCkr','hCouW5VdL33dV8kWBXVcTCozlmolhvNdLHvWz8k7WPrpWOldKmofWRldKa','W7RdL8kWWPBcGCo4','zZxcNmkra8k3W7xcRG','W4zEWPq3W4qpWQT/W6/cJq','cSosiZdcMa','W4uDjmobtW','pgJcMq','W73cP34FEq','uaq0W6u2','vCkefNddMW','WQddMSopmCkQvmoSWPa','W593WRumWPq','WOFdPt7dLGS','W5pcPSkKsCkS','i8ochHy','W6fOW6hcRdK','ymkiW6FdK1K'],...(function(){return['WR3cH8o1W43dTX7cJxf5','W6LEW7ZdQLZdLtRdNXxdSq','WPpcGc5CWO93WPy','s+E4REwmICos','umkuW4ddHx3dTa','W7tNUABMN4pVVyNKU5pMRjZMLAVNGy7MN6pLKACi','W7NdLmkeWQRdQ3D8W5q','W6C5WPBdQSkm','A8olW63cUNRcIr0','W53cPfSgqa','W7HHWOFdOxS','e8kExbO','WOJcIZ1CWPTWWPyB','F8k6kvldMW','W7npW6ZcRb7dL0RcHqBdRCkBWQvau8o7nxrVxCo9WQSxW7dcLa','bmojWP7cLshdQSkQlIJcPmo8','DcW5W6y7W5VdV8khWP4rW4VcRSkxm8opW5W','l8orbG','b8krfqKxzq','vftdGeNcU8ohtG','WPlcLtjzWPO','W6hcHSkku8k9','WO3WRAcUDUI8LEIIKoE4HUAFQ0u','zmoifK5g','W4uhdmoiW5q','W4FcHeJdJCksWRpcHdy','WOpcRI1MWRO','W6/cT0uvyq','WQ3dUIZdKGmqWOe5','w8o/W53cQga','WOFcItfFWPW','W4zOWRal','W7VdRJm','A8ojWQmlW4S','WRyAtIa/daXnW4OZFNVdJ0pdSmoX','WQFcMuJcGLK','W6SUWQmXWRhcTa','W6Sfoa','W6eGjq','WPtdPCkx','W6SKWQO','WRddLSoWlmkb','W4hcTL0kv8o7','6k+L5Aou5ywn5QYz56or55Up6zcU5O6X','W6RcI8krx8kN','W57cH8kWtSkC','W4pcTuC','hCo7obhcHq','W6antSkkqG','FCkTaf7dGW','W67dHqz+WPa','BCogFCk5WQe','W4G3WOxdVCkp','s+I0IUw4JUwpRLO','WRrGWOXAW4O','W58RWPtdOCkX','W5ZcRSkAdmoDWOe2v8k9W7X7Fa','zSoVAmk9WRq','qmo/W4pcT0y','WP5FWOT7W4G','W5RcIdXrWRf5WOybzLC','W7ZdLSkbWOpcKmo0WPVdQmopFunJW6XtW7SDjW','WPZdQ8kevG','WR0grIX3mJu','aNzkDem','W6ldNCknWOxcH8o5W4pcVG','6yc26k6A6zk25OYnaua','BSoaW6FcUhBcRG','WP3KVilMGk7LIk/dLG','W6SEEmk3zq','BtGkW70Q','WP7cKh/cPem','WPBcKK4','u8oBkLbT','WR9LdgSF','WRhdM8oQ','W5qIemo7W5q','tColaK1BWOW','WPZdNmoEpCku','W4qmjSomva0','WPtcGLNdSqhdVfDtsdRdQYldGCoqCSkaWQC','tmoqW7FdGIK','W6aEgZRcQq','zgJdTwVcUW','tu/dHua','WOJdV8kdxW','WPVdMIxdVsm','t8obg35gWONcSa','WPNdPGDzaCo2WRivWRpcHmoo','W6brWPjqWR0','W6uBkCoaW5m','WOVcGqfcWOTWW4vzoJuJwmkCEMtcK2Dg','mtxcKSo9amkMW4VcIuSWcg8','k8omdq','WO7cL0pdPr3cQW','WPNcSuNcO1xdV8oDnq','r8oca0vD','W6qlWOldOCkNW7VdISkXWR4iemopW5v2B8oli8odFtRcVa','kLz3ALK','C8oNBCo9rKu','tNZdPxNcLa','dXFcUhmt','zmoFW6FdHJe','W4SRWQddLSk8','y0/cQa0gW7qpW5qWta','WRecu0XIASkHu8ofta','fWNcNhWbcW','W6KUWQGYWPFcUCk4gdNdOb0wWObOW5VdUSonmSowW7/cLa','gGVcLsaH','t0/dMg3cUCok','Ae3dLuNcKq','W6dcGh03FG','Emk4lfy','WRVdTI/dNq0gWOO','W4VcSKJcRN/dQmoriLO','W6BOR63MSOZLPkBOTQ4E4P+pW7tMLz3LKQ3LU7xML7JMJjG','W5NdK24hW5CHWPqUAaqYyq','tCk+WOCLyW','aSoqbGtcTW','DcW5W6y7W5VdV8khWP4rW7xcQmknhmoaW4K4WPuj','WQRdVdVdLa','WOZdUIxdTZK','W4RdVCkFtSotWOmVFa','W7iHsmkYDZVcVNCbWQ1V','WPZcUKtcQftdSW','W5xMI6BMIBxLI6BdOG','DSkAxKBdL8oXiCojvmkBWQ0','WONdV8kFq8k7','W4hcGKZdIG','AsmQW5CT','Emo0of1n','WPdNU5VMNP7VVOJKUlpMROpMLQJNGk/MNjFLK7NcIa','pGZcQWOG','odNcHG','WQ/cVCoZW7FdMa','WOjzpG','wCkmaN7dVG','EmoEWOy4W74','vSkvW5G','W7m5WQq7','W63dMSkyWQ7dKhbDW5JdOmoi','WPlcJt9cWOTbWP0bBqqjwCkDB3NcIW','W6LEW6NcQqJcNHe','W5HTWQddOf3dKdi','W5pdNgCjW5CNW4ecrJSNrmk6','zmowDG','6AcO5yYc5lI96zI/','W6OipSoDW4LRWOW','W54ikComxHldJa','Es0sW5CXW5dcOSoFW4myW6tcRCkwpW','4PUWj+IeLowTKEs4K+I8NEIJS+MuS+MAKUAwL+MvIUIVRoE+JoMwPUISPG','W6S5WO4UWQS'];}())];}())];}());Iii11l=function(){return lI1Ii1;};return Iii11l();};function iii1II(_0x48386e,_0x1035c3){const _0x45577a=Iii11l();return iii1II=function(_0x1b3804,_0x13f8de){_0x1b3804=_0x1b3804-0xff;let _0x3a7cdd=_0x45577a[_0x1b3804];if(iii1II['THnGrk']===undefined){var _0x43a929=function(_0x54bf2b){const _0xb4e7a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0xa3df32='',_0x2646a5='';for(let _0x25351a=0x0,_0x37887d,_0x1f1eff,_0x4bbc9b=0x0;_0x1f1eff=_0x54bf2b['charAt'](_0x4bbc9b++);~_0x1f1eff&&(_0x37887d=_0x25351a%0x4?_0x37887d*0x40+_0x1f1eff:_0x1f1eff,_0x25351a++%0x4)?_0xa3df32+=String['fromCharCode'](0xff&_0x37887d>>(-0x2*_0x25351a&0x6)):0x0){_0x1f1eff=_0xb4e7a['indexOf'](_0x1f1eff);}for(let _0x31f178=0x0,_0x265954=_0xa3df32['length'];_0x31f178<_0x265954;_0x31f178++){_0x2646a5+='%'+('00'+_0xa3df32['charCodeAt'](_0x31f178)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2646a5);};const _0x25f93c=function(_0x4c04d0,_0x25b2e2){let _0x3edf2b=[],_0x5613f8=0x0,_0x208cfd,_0x1fa859='';_0x4c04d0=_0x43a929(_0x4c04d0);let _0x385b57;for(_0x385b57=0x0;_0x385b57<0x100;_0x385b57++){_0x3edf2b[_0x385b57]=_0x385b57;}for(_0x385b57=0x0;_0x385b57<0x100;_0x385b57++){_0x5613f8=(_0x5613f8+_0x3edf2b[_0x385b57]+_0x25b2e2['charCodeAt'](_0x385b57%_0x25b2e2['length']))%0x100,_0x208cfd=_0x3edf2b[_0x385b57],_0x3edf2b[_0x385b57]=_0x3edf2b[_0x5613f8],_0x3edf2b[_0x5613f8]=_0x208cfd;}_0x385b57=0x0,_0x5613f8=0x0;for(let _0x1d93b1=0x0;_0x1d93b1<_0x4c04d0['length'];_0x1d93b1++){_0x385b57=(_0x385b57+0x1)%0x100,_0x5613f8=(_0x5613f8+_0x3edf2b[_0x385b57])%0x100,_0x208cfd=_0x3edf2b[_0x385b57],_0x3edf2b[_0x385b57]=_0x3edf2b[_0x5613f8],_0x3edf2b[_0x5613f8]=_0x208cfd,_0x1fa859+=String['fromCharCode'](_0x4c04d0['charCodeAt'](_0x1d93b1)^_0x3edf2b[(_0x3edf2b[_0x385b57]+_0x3edf2b[_0x5613f8])%0x100]);}return _0x1fa859;};iii1II['uZVbOy']=_0x25f93c,_0x48386e=arguments,iii1II['THnGrk']=!![];}const _0xa6a0e4=_0x45577a[0x0],_0x3bc81c=_0x1b3804+_0xa6a0e4,_0xa14cdb=_0x48386e[_0x3bc81c];return!_0xa14cdb?(iii1II['RdsvBJ']===undefined&&(iii1II['RdsvBJ']=!![]),_0x3a7cdd=iii1II['uZVbOy'](_0x3a7cdd,_0x13f8de),_0x48386e[_0x3bc81c]=_0x3a7cdd):_0x3a7cdd=_0xa14cdb,_0x3a7cdd;},iii1II(_0x48386e,_0x1035c3);}async function Main(){const liiiii=i11iIi,i1iIl1={'nwoZr':function(i1lli1,llIlII,IIlII){return i1lli1(llIlII,IIlII);},'srxrX':liiiii(0x114,'zn]e'),'xqOKh':'领取上限','Efzdi':function(lIIiII,i1iIlI){return lIIiII==i1iIlI;},'fCSHE':function(li111,liI1lI){return li111*liI1lI;},'YRCCl':function(lIIiI1,ll1I1){return lIIiI1!==ll1I1;},'UMzCn':liiiii(0x177,'fb*h'),'sFSQC':liiiii(0x170,')i&d'),'DMYHq':liiiii(0x246,'fb*h'),'EiYiu':function(Ii1ili,iI1Ii1){return Ii1ili!==iI1Ii1;},'vURxr':liiiii(0x1f8,'Nd17'),'BZJhD':function(Ii1ill,llIlI1){return Ii1ill===llIlI1;},'oAffS':liiiii(0x28a,'r$Zg'),'OYWll':function(iI1IiI,IIlI1){return iI1IiI>IIlI1;},'aqzAB':'zbsvO','CBiMr':liiiii(0x22d,'v4uL'),'AEGSI':liiiii(0x275,'gIzt'),'HiBxL':function(i1iIli,i1iIll){return i1iIli===i1iIll;},'yxpoc':liiiii(0x107,'gIzt'),'mWqoy':function(i1lliI,liI1l1){return i1lliI(liI1l1);},'RLUND':'http://code.257999.xyz/jd_red.json','kZaYB':function(IllIlI,IiillI,ili11I){return IllIlI(IiillI,ili11I);},'RxChV':'yReqF','CtCLf':'bsbDf','VegKM':function(li11l,lliiIl){return li11l>lliiIl;},'xXRjS':liiiii(0x13a,'fb*h')};try{try{if(i1iIl1[liiiii(0x29d,'hR)C')](i1iIl1['UMzCn'],i1iIl1[liiiii(0x2ae,'hR)C')])){const IllIl1=parseInt(taskThreads);IllIl1>0x0&&IllIl1!==0x1&&(taskThreads=IllIl1);}else I1llil[liiiii(0x1af,'f&y^')]=I1llii[i1iIl1['nwoZr'](lilIll,0x0,l1i111[liiiii(0x19d,'jm!$')])];}catch{taskThreads=0x1;}taskThreads=Math['min'](taskThreads,maxThreads),$[liiiii(0x21e,'m^Ln')]=null;if(runInterval){if(i1iIl1['DMYHq']==='TLAuc')try{const ll1Il=parseInt(runInterval);ll1Il>=0x0&&(i1iIl1[liiiii(0x20c,'*dsz')](i1iIl1[liiiii(0x1d2,'sb#u')],liiiii(0x201,'MlaI'))?$[liiiii(0x250,'MlaI')]=ll1Il:IlIlil[liiiii(0x14f,'hR)C')](liiiii(0x187,'jm!$')+lIli1I+'\x20请求响应\x20'+(II1il[liiiii(0x11a,'v4uL')]||lllI11)));}catch{i1iIl1[liiiii(0x284,'RMq*')](liiiii(0x241,'GxJY'),i1iIl1[liiiii(0x116,'Vdoh')])?console[liiiii(0x18b,'%1Nr')](liiiii(0x1e9,'y(Ne')):lilIil[liiiii(0x128,'N7A6')](i1iIl1['srxrX']);}else return iI1lll;}$[liiiii(0x2a1,'M(ch')]=Date['now']();const li11i=$[liiiii(0x129,'%1Nr')](liiiii(0x26c,'y(Ne'),endTime);if(endTime&&i1iIl1[liiiii(0x173,'hR)C')]($[liiiii(0x1da,'y(Ne')],endTime)){if(i1iIl1[liiiii(0x230,'hR)C')]!==i1iIl1[liiiii(0x204,')i&d')])Ill1I[liiiii(0x128,'N7A6')](''+i11iiI+lIli11[liiiii(0x178,'1ziR')]),lllI1I[liiiii(0x10f,'sb#u')]?.[liiiii(0x256,')i&d')](i1iIl1['xqOKh'])&&(IlIlii=!![]);else{console['log']('活动已于\x20'+li11i+liiiii(0x101,'9mwz'));return;}}const lliiIi=liiiii(0x270,'8K5q')+common[liiiii(0x139,'Nd17')](0xd,liiiii(0x12e,'G9AP'));$['UA']=common['genUA'](lliiIi);if(/https:\/\/u\.jd\.com\/.+/['test'](red618_url)){if(red618_url['split']('/')['pop']()){red618_url=red618_url[liiiii(0x1c9,'fb*h')]('/')[liiiii(0x144,'1ziR')]()[liiiii(0x25e,')i&d')]('?')['shift']();if(red618_url[liiiii(0x297,'M(ch')]!==0x7){if(i1iIl1[liiiii(0x118,'v4uL')]===liiiii(0x217,'*dsz')){console[liiiii(0x1d1,'O$Yj')](liiiii(0x11f,'fb*h'));return;}else{let llIIil=IilIl1[liiiii(0x257,'hOWr')](';')[0x0][liiiii(0x2ba,'hOWr')]();if(llIIil[liiiii(0x244,'Vdoh')]('=')[0x1]){if(i1iIl1[liiiii(0x261,'M(ch')](lilIi['indexOf'](llIIil[liiiii(0x1c5,'[d8x')]('=')[0x1]),-0x1))l1l11I+=llIIil['replace'](/ /g,'')+';\x20';}}}}else{console['log'](i1iIl1[liiiii(0x2b1,'irk2')]);return;}}else{if(i1iIl1[liiiii(0x298,'1ziR')](red618_url['length'],0x7)){if(i1iIl1[liiiii(0x1c8,'%1Nr')]===liiiii(0x1ee,'YBYV'))red618_url=red618_url;else{if(iIII1l=='x')IIIIIi+=IIIIIl[liiiii(0x2ad,'DF]M')](I1lIil[liiiii(0x268,')i&d')](IIIl1i['random']()*liiII1['length']));else i1iIl1['Efzdi'](IlIll1,'X')?IIIl1l+=lllll[liiiii(0x198,'O$Yj')](i11ili['floor'](i1iIl1[liiiii(0x27a,'$*)w')](iil1l1[liiiii(0x167,'TD6M')](),lllli[liiiii(0x1f6,'Vdoh')])))[liiiii(0x2c5,'$*)w')]():iiili1+=ill11i;}}else red618_url='';}authorCodeList=await i1iIl1[liiiii(0x251,'irk2')](getAuthorCodeList,i1iIl1[liiiii(0x189,'NMy)')]);authorCodeList?$[liiiii(0x1e8,'YBYV')]=authorCodeList[i1iIl1[liiiii(0x29c,'8K5q')](random,0x0,authorCodeList[liiiii(0x11e,'f&y^')])]:$[liiiii(0x19f,'Bewr')]=atob(liiiii(0x2a6,'zn]e'));$['red618code']=red618_url?red618_url:$['authorCode'],$[liiiii(0x228,'1ziR')]=liiiii(0x29a,'KMXx')+$[liiiii(0x23c,'YBYV')];red618_url&&(i1iIl1[liiiii(0x15d,'oQ^#')]!==i1iIl1[liiiii(0x181,'G9AP')]?(console['log'](liiiii(0x28c,'WubR')+$['red618_url']),console[liiiii(0x186,'DF]M')](liiiii(0x133,'hR)C')+$[liiiii(0x200,'m^Ln')])):i11I11(l1llIl));console[liiiii(0x21f,'Vdoh')](''),$['needRemoveCookieIndex']=[],await common['concTask'](taskThreads,cookiesArr,taskFnc),$[liiiii(0x25c,'u*QI')]=![];i1iIl1[liiiii(0x16d,'GxJY')]($[liiiii(0x2b5,'*dsz')][liiiii(0x26e,'*dsz')],0x0)&&(cookiesArr=cookiesArr['filter']((llIIlI,Ii1I1l)=>!$['needRemoveCookieIndex']['includes'](Ii1I1l+0x1)),$[liiiii(0x131,'GxJY')]=[]);const iiIi1I=notify['getMessage']();iiIi1I&&console['log'](liiiii(0x260,'*dsz')+iiIi1I[liiiii(0x1e2,'P6Rh')](/：/g,i1iIl1[liiiii(0x27c,'N7A6')]));}catch(IIlIl){console[liiiii(0x1b2,'1ziR')](liiiii(0x16a,'irk2')+IIlIl);}}async function taskFnc(ili11l,Iiilll){const II1I=i11iIi,Iiilli={'EQpXu':function(lilII,IIIiI){return lilII<=IIIiI;},'mPeub':II1I(0x1c7,'$*)w'),'BYbxz':function(iii1i1,IllIll){return iii1i1-IllIll;},'ZhNeP':II1I(0x222,'G9AP'),'lDHep':'headers','QnDYh':'set-cookie','YlxfG':II1I(0x2b3,'K2Q&'),'DTfBZ':function(i1lllI,llIIi1){return i1lllI!==llIIi1;},'WkWId':II1I(0x2a0,'oQ^#'),'tVbJK':function(iI1IlI,l1i1Il){return iI1IlI!=l1i1Il;},'zxKSh':II1I(0x294,'e5tL'),'vDGpr':function(ill1I1,l1i1II){return ill1I1==l1i1II;},'LNYdK':function(ili111,Ii1I11){return ili111+Ii1I11;},'HSnGl':II1I(0x1a7,'oQ^#'),'SsIpM':function(IllIli,ii1Ii){return IllIli===ii1Ii;},'cnwhH':function(ii1Il,l1iII){return ii1Il!=l1iII;},'Jljgu':'OoSrQ','XEElC':function(iI1Ill,lilI1){return iI1Ill(lilI1);},'mmtAi':II1I(0x234,'6jRk'),'Ngzce':'none','yQIIg':function(IIIi1,i1llli){return IIIi1+i1llli;},'hHnjL':function(i1llll,iI1Ili){return i1llll*iI1Ili;},'TzmQu':'|278','qNNjm':function(llIIiI,iI1111){return llIIiI>=iI1111;},'YZTwb':function(IIIl1,ii1ii){return IIIl1!==ii1ii;},'vhlhk':II1I(0x265,'orzF'),'ZXRfd':function(Iii1,I1I1lI){return Iii1*I1I1lI;},'dkgPp':'TivdX','EJXUm':II1I(0x2c7,'MlaI'),'YckJa':'[立减卷]','pgkkp':II1I(0x218,'a)t!'),'wMXtC':II1I(0x21b,'zn]e'),'YmUrS':function(ii1il,l1iIlI){return ii1il!==l1iIlI;},'yvwqt':II1I(0x2c3,'oQ^#'),'MqIGy':II1I(0x160,'1ziR'),'ujxzz':function(iI111I,IIIlI1){return iI111I+IIIlI1;},'AcSUn':function(i1lIiI,IiiIl){return i1lIiI+IiiIl;},'tPlUe':function(ii1l1l,l1lli1){return ii1l1l>l1lli1;},'fpyAo':'naNEo','rzBMA':II1I(0x14a,'jm!$'),'ruFzB':II1I(0x225,'P6Rh'),'mmawu':II1I(0x1a2,'Bewr'),'iiZAc':II1I(0x24a,'f&y^'),'HgLsz':'1cYQcHTK8Ya384b16GjgkPbA4fX','BLbAd':II1I(0x1aa,'orzF'),'TIvoY':II1I(0x258,'[d8x'),'XyDOJ':II1I(0x176,'u*QI'),'yvLuf':'apple','EtpjD':'4.7','rYnxJ':function(IiiIi,ii1l1i){return IiiIi+ii1l1i;},'qgEel':II1I(0x27d,'sb#u'),'oJymL':II1I(0x2b9,'orzF'),'TpNTO':function(l1iIl1,ii1iI){return l1iIl1+ii1iI;},'dytAo':'XMLHttpRequest','iBYVt':'https://pro.m.jd.com/mall/active/1cYQcHTK8Ya384b16GjgkPbA4fX/index.html','JMzmP':II1I(0x169,'r$Zg'),'bqvBi':function(IIIil,IIIii){return IIIil<IIIii;},'EslsV':function(iI111i,I1I1l1,iI111l){return iI111i(I1I1l1,iI111l);},'SSpHs':function(i1lIii,III11i){return i1lIii>=III11i;},'zECSV':function(i1lIil,III11l){return i1lIil!==III11l;},'WFbMy':'GiQdY','RngfG':'pt_pin','MzKHN':function(llIl1i,llIl1l,IiiII){return llIl1i(llIl1l,IiiII);},'UEsdD':'TirSH','BmSJn':'已设置跳过运行当前账号','GqIpw':II1I(0x1e5,'gIzt'),'dCbji':function(Iiil,IIIli,ii1i1,Iiii){return Iiil(IIIli,ii1i1,Iiii);},'JRDia':II1I(0x1c4,'r$Zg'),'ZeCDh':function(llIl11,IIIll){return llIl11!==IIIll;},'vWTom':function(I1I1il,l1llii){return I1I1il(l1llii);},'PQgMG':II1I(0x10b,')i&d')};if($[II1I(0x232,'s(Yc')])return{'runEnd':!![]};const IIlIi=decodeURIComponent(common[II1I(0x113,'GxJY')](ili11l,Iiilli[II1I(0x14c,'oQ^#')]));function ili11i(liII1,I1I1ii){const lI1111=II1I;if(Iiilli[lI1111(0x11b,'oQ^#')](liII1[lI1111(0x11d,'hR)C')],0x4)){if(Iiilli[lI1111(0x28f,'$*)w')]!==Iiilli[lI1111(0x145,'c97[')])lil=IllI1l[lI1111(0x23e,'WubR')](',');else return liII1;}else{const IIIlIi=liII1[lI1111(0x1e3,'MlaI')](0x0,0x2),llIl1I=liII1[lI1111(0x102,'6jRk')](-0x2),i1lIl1=Math[lI1111(0x135,'9mwz')](Iiilli['BYbxz'](Iiilli[lI1111(0x27e,'irk2')](I1I1ii,IIIlIi[lI1111(0x28d,'RMq*')]),llIl1I['length']),0x0),liIli1='*'[lI1111(0x168,'f&y^')](i1lIl1);return IIIlIi+liIli1+llIl1I;}}const iiIi1l=decodeURIComponent(IIlIi),li11I=Iiilli[II1I(0x180,'K2Q&')](ili11i,iiIi1l,0x6),lliiII=II1I(0x227,'86jT')+Iiilll+'】'+li11I+'：',iiIi1i=notify[II1I(0x193,'*dsz')](Iiilll,IIlIi);if(pinFilter[II1I(0x2c6,'fAvu')]>0x0&&(pinFilter[II1I(0x15e,'v4uL')](IIlIi)||pinFilter[II1I(0x1d8,'RMq*')](encodeURIComponent(IIlIi)))){if(Iiilli[II1I(0x18c,'6jRk')]!==Iiilli[II1I(0x281,'irk2')])lil111+=i11ilI['charAt'](ii1ii1[II1I(0x1b3,'y(Ne')](llllI[II1I(0x150,'86jT')]()*lllil1['length']))[II1I(0x1b1,'fb*h')]();else{iiIi1i[II1I(0x1cb,'e5tL')](Iiilli[II1I(0x262,'Bewr')]),console[II1I(0x272,'*dsz')](iiIi1i[II1I(0x1bf,'u*QI')]()),$[II1I(0x2ab,'irk2')][II1I(0x29f,'NMy)')](Iiilll);return;}}const liI1ll=await common[II1I(0x18f,'fAvu')](ili11l);if(!liI1ll&&typeof liI1ll===Iiilli['GqIpw']){console['log'](lliiII+'账号无效'),$['needRemoveCookieIndex'][II1I(0x1ff,'fb*h')](Iiilll);return;}let ll1II=![],IllIii=$[II1I(0x207,'Vdoh')],liI1li,IllIil,ill1Ii;const llIIl1=common[II1I(0x104,'f&y^')](IIlIi),ill1Il=[...new Set(redshareId)];ill1Il[II1I(0x1c3,'u*QI')]>0x0?liI1li=ill1Il[Math[II1I(0x25f,'fb*h')](Iiilli[II1I(0x279,'G9AP')](Math['random'](),ill1Il[II1I(0x1ab,'1ziR')]))]:liI1li='';for(let IIIlI=0x0;IIIlI<maxdraw;IIIlI++){if(Iiilli['SsIpM'](II1I(0x115,'*dsz'),II1I(0x22f,'GxJY'))){let IiiI=l1i1Ii();IllIil=II1I(0x2b4,'O$Yj')+IiiI[II1I(0x119,'*dsz')]+II1I(0x17e,'O$Yj')+IiiI[II1I(0x1fd,'hR)C')]+II1I(0x1dc,'[d8x')+IiiI[II1I(0x292,'KMXx')]+';__jdv='+IiiI['jdv']+II1I(0x214,'KMXx')+IiiI['shshshfpa']+II1I(0x2bc,'fAvu')+IiiI[II1I(0x111,'Bewr')]+II1I(0x286,')i&d')+IiiI['mba_muid']+';pre_seq='+IiiI['pre_seq']+II1I(0x21c,'RMq*')+IiiI['pre_session']+';';let iIi1i=await Iiilli[II1I(0x205,'MlaI')](jsTk,llIIl1,II1I(0x213,')i&d'),{'bizId':Iiilli[II1I(0x223,'r$Zg')],'v':'3.2.1.1','qs':II1I(0x1b4,'Bewr')});ill1Ii=iIi1i[II1I(0x202,'y(Ne')];if($[II1I(0x1fb,'9mwz')])return{'runEnd':!![]};ss=await i1lll1($[II1I(0x24b,'[d8x')]);if(ss){if(Iiilli[II1I(0x1f0,'e5tL')](II1I(0x1fe,'M(ch'),II1I(0x238,'irk2'))){let l1iIll=ss?.['match'](/(https:\/\/u\.jd\.com\/jda[^']+)/);if(l1iIll)$[II1I(0x25b,'G9AP')]=l1iIll[0x1],await Iiilli[II1I(0x20b,'a)t!')](Ii1I1I,l1iIll[0x1]);else{if(Iiilli[II1I(0x249,'m^Ln')](II1I(0x254,'9mwz'),II1I(0x2b0,'s(Yc'))){i1ilii['log'](II1I(0x124,'1ziR')+iIIII1+II1I(0x24f,'1ziR'));return;}else console['log'](lliiII+II1I(0x19a,'y(Ne')),ll1II=!![];}}else Ill11+=liiIII['charAt'](li1i11[II1I(0x155,'irk2')](iI11I1[II1I(0x2a8,'KMXx')]()*il1i1l[II1I(0x166,'orzF')]));}else console[II1I(0x14f,'hR)C')](lliiII+'链接失败'),ll1II=!![];await Iiilli[II1I(0x1e6,'M(ch')](IiiI1,II1I(0x19c,'y(Ne'));if(ll1II||$[II1I(0x152,'jm!$')])break;if($['waitTime'])await $[II1I(0x122,'oQ^#')]($[II1I(0x237,'TD6M')]);}else delete IIIII1['data'],delete I1lIlI['headers'][II1I(0x1a1,'oQ^#')];}await IiiI1(Iiilli['PQgMG']);if($[II1I(0x1a3,'Vdoh')])return{'runEnd':!![]};if($[II1I(0x2c4,'P6Rh')])await $[II1I(0x233,'$*)w')]($[II1I(0x235,'c97[')]);async function i1lll1(l1lliI){const Ilil1=II1I,I1I1iI=await common['request']({'url':l1lliI,'method':Iiilli['ZhNeP'],'headers':{'Cookie':ili11l,'User-Agent':Ilil1(0x1a9,'c97[')},'proxy':null,'debug':![],'timeout':0x7530}),IIIlII=I1I1iI['data'];let iiIiI1=I1I1iI&&I1I1iI[Iiilli['lDHep']]&&(I1I1iI[Iiilli['lDHep']][Iiilli['QnDYh']]||I1I1iI[Iiilli[Ilil1(0x123,'WubR')]][Iiilli[Ilil1(0x13f,'86jT')]]||'')||'',ili1Il='';if(iiIiI1){if(Iiilli['DTfBZ'](Iiilli[Ilil1(0x2b6,'6jRk')],Ilil1(0x1ed,'sb#u')))return'';else{if(Iiilli[Ilil1(0x216,')i&d')](typeof iiIiI1,Ilil1(0x153,'$*)w')))ili1Il=iiIiI1[Ilil1(0x244,'Vdoh')](',');else ili1Il=iiIiI1;for(let Iilll1 of ili1Il){let ll11I=Iilll1[Ilil1(0x253,'orzF')](';')[0x0][Ilil1(0x1fa,'Bewr')]();if(ll11I['split']('=')[0x1]){if(Iiilli['DTfBZ']('QSUOw',Iiilli['zxKSh']))II1Il=lilIlI;else{if(Iiilli['vDGpr'](IllIil[Ilil1(0x1f4,'Nd17')](ll11I[Ilil1(0x211,'v4uL')]('=')[0x1]),-0x1))IllIil+=ll11I[Ilil1(0x2bb,'oQ^#')](/ /g,'')+';\x20';}}}}}return IIIlII;}async function Ii1I1I(liIIl){const l1iIi1=II1I,IlI1lI={'FGoBI':function(liIIi,IilllI){const IliII1=iii1II;return Iiilli[IliII1(0x240,'orzF')](liIIi,IilllI);},'xxIxa':Iiilli['QnDYh'],'nOUkc':l1iIi1(0x10d,'9mwz'),'xJJiv':function(iI1lIi,l1lllI){return Iiilli['cnwhH'](iI1lIi,l1lllI);},'PMzGK':l1iIi1(0x274,'orzF'),'Nvagg':l1iIi1(0x120,'WubR'),'wkLCs':function(llliIi,i1lIli){return llliIi+i1lIli;}};if(Iiilli['Jljgu']===l1iIi1(0x185,'a)t!'))return new Promise(i1lIll=>{const i1I1I=l1iIi1,ll11ii={'url':liIIl,'followRedirect':![],'headers':{'Cookie':Iiilli['LNYdK'](Iiilli[i1I1I(0x1b5,'#]I]')](IllIil,'\x20'),ili11l),'user-agent':llIIl1}};$[i1I1I(0x17c,'Bewr')](ll11ii,async(liIlii,llii1l,liIlil)=>{const llIil=i1I1I;if(IlI1lI['FGoBI']('lLIDA',llIil(0x134,'c97[')))II11II=Ii1iI1;else try{let ll11il=llii1l&&llii1l[llIil(0x112,'WubR')]&&(llii1l[llIil(0x1ec,'irk2')][IlI1lI[llIil(0x13d,'gIzt')]]||llii1l[IlI1lI[llIil(0x291,'fAvu')]]['Set-Cookie']||'')||'',iI1lIl='';if(ll11il){if(llIil(0x2af,'O$Yj')!=='GANks')IliI1i=ll1ii[IIli11[llIil(0x2ac,'r$Zg')](IllIII[llIil(0x299,'WubR')]()*ii1li['length'])];else{if(IlI1lI[llIil(0x192,'fb*h')](typeof ll11il,IlI1lI[llIil(0x12b,'#]I]')]))IlI1lI[llIil(0x245,'oQ^#')]!==IlI1lI['Nvagg']?(ii1lI['log'](I1ilIl+llIil(0x1d7,'fb*h')),I11iII=!![]):iI1lIl=ll11il[llIil(0x165,'86jT')](',');else iI1lIl=ll11il;for(let iIi11 of iI1lIl){let Iil1=iIi11[llIil(0x25e,')i&d')](';')[0x0][llIil(0x109,'*dsz')]();if(Iil1[llIil(0x206,'%1Nr')]('=')[0x1]){if(IllIil[llIil(0x252,'RMq*')](Iil1[llIil(0x1f1,'r$Zg')]('=')[0x1])==-0x1)IllIil+=IlI1lI[llIil(0xff,'GxJY')](Iil1[llIil(0x24c,')i&d')](/ /g,''),';\x20');}}}}}catch(ll11lI){$['logErr'](ll11lI,llii1l);}finally{i1lIll(liIlil);}});});else{Iil1I1[l1iIi1(0x105,'e5tL')](Iiilli[l1iIi1(0x1df,'jm!$')]);return;}}function l1i1Ii(){const llIii=II1I;if(llIii(0x264,')i&d')===llIii(0x137,'v4uL')){let liIII=llIii(0x15f,'KMXx'),llii11='1',Iillli=parseInt(Date[llIii(0x132,'fb*h')]()/0x3e8)[llIii(0x162,'orzF')](),ll11l1=Iillli+Iiilli[llIii(0x285,'c97[')](parseInt,0x7fffffff*Math[llIii(0x13c,'Bewr')]())['toString'](),ll111=[liIII,ll11l1,Iillli,Iillli,Iillli,llii11]['join']('.'),llliII=[liIII,llii11,[ll11l1,llii11][llIii(0x269,'Vdoh')]('|'),Iillli][llIii(0x2ca,'Nd17')]('.'),iiIiIl=liIII,IlI1l1=[liIII,Iiilli[llIii(0x1bb,'zn]e')],'-',Iiilli['Ngzce'],'-',Date['now']()[llIii(0x243,'1ziR')]()]['join']('|');IlI1l1=Iiilli[llIii(0x12d,'fAvu')](encodeURIComponent,IlI1l1);let liIliI=Iiilli['yQIIg'](Iiilli['XEElC'](l1iI1,llIii(0x1f5,'fAvu'))+'-',Iillli),llii1I=llIii(0x1b9,'hR)C'),iiIiIi=[llii1I,llii11][llIii(0x1bd,'1ziR')]('.'),l1lll1=[ll11l1,llii1I,Date['now']()[llIii(0x28b,'%1Nr')]()][llIii(0x1b8,'GxJY')]('.'),IilI=Iiilli[llIii(0x1ce,'Nd17')](Iiilli[llIii(0x1cf,'RMq*')](Math[llIii(0x224,'8K5q')](Iiilli[llIii(0x231,'u*QI')](0x5,Math[llIii(0x136,'sb#u')]())),0x2),0x1)[llIii(0x179,'r$Zg')](),liIlli=common['genRandomString'](0x20,llIii(0x1d5,'O$Yj'))+Iiilli[llIii(0x194,'Bewr')];return{'jda':ll111,'jdb':llliII,'jdc':iiIiIl,'jdv':IlI1l1,'shshshfpa':liIliI,'mba_sid':iiIiIi,'mba_muid':l1lll1,'pre_seq':IilI,'pre_session':liIlli};}else ll1li[llIii(0x2a7,'G9AP')](Illl1I+llIii(0x1ad,'N7A6')),lliiiI=!![];}function l1iI1(Iillll,lllI1='abcdef0123456789'){const IIiiI1=II1I;let III11I='';for(let Ilii1 of Iillll){if(Iiilli[IIiiI1(0x100,'M(ch')](Iiilli['vhlhk'],IIiiI1(0x14e,'N7A6'))){if(Iiilli[IIiiI1(0x13e,'DF]M')](Ilii1,'x'))III11I+=lllI1[IIiiI1(0x175,'a)t!')](Math['floor'](Iiilli[IIiiI1(0x182,')i&d')](Math[IIiiI1(0x19b,'f&y^')](),lllI1[IIiiI1(0x23a,'%1Nr')])));else{if(Ilii1=='X'){if('vySFU'===Iiilli[IIiiI1(0x1e7,')i&d')]){const ili1I1=lI1Iil(lilIiI);Iiilli[IIiiI1(0x20a,'zn]e')](ili1I1,0x0)&&(IiilIi['waitTime']=ili1I1);}else III11I+=lllI1['charAt'](Math[IIiiI1(0x121,'$*)w')](Math['random']()*lllI1[IIiiI1(0x1cc,'[d8x')]))['toUpperCase']();}else III11I+=Ilii1;}}else llIll1['log'](IIiiI1(0x127,'oQ^#')+Illl1l);}return III11I;}async function lliiI1(ili1II,liIllI){const ii1IIl=II1I,ll11i={'TjbQH':function(iI1lI1,I1I1li){const IIIIi1=iii1II;return Iiilli[IIIIi1(0x267,'RMq*')](iI1lI1,I1I1li);},'zSypT':Iiilli[ii1IIl(0x221,'*dsz')],'YNSKt':'请填写正确的链接'};try{switch(ili1II){case Iiilli['wMXtC']:if(liIllI[ii1IIl(0x2c2,'oQ^#')]==0x0){if(Iiilli[ii1IIl(0x277,'fb*h')](ii1IIl(0x1b0,'TD6M'),Iiilli[ii1IIl(0x26b,'gIzt')])){let l1i11=liIllI?.[ii1IIl(0x1f9,'*dsz')]?.[ii1IIl(0x10a,'MlaI')]||[],IlI1li=[];for(let ll11l of l1i11){let III111='';switch(ll11l[ii1IIl(0x1ba,'fAvu')]){case 0x1:case 0x13:{if(Iiilli['SsIpM'](ii1IIl(0x1b7,'9mwz'),Iiilli[ii1IIl(0x23d,'G9AP')])){III111=Iiilli[ii1IIl(0x195,'%1Nr')](prize_map[ll11l['type']],ll11l[ii1IIl(0x16e,'K2Q&')]+'元');break;}else{if(iIIl1l[ii1IIl(0x11c,'G9AP')]('/')[ii1IIl(0x1f7,'RMq*')]()){Iliil1=i1III['split']('/')[ii1IIl(0x103,'O$Yj')]()[ii1IIl(0x15b,'sb#u')]('?')[ii1IIl(0x156,'fAvu')]();if(ll11i[ii1IIl(0x2a3,'YBYV')](Ii1iIi['length'],0x7)){Ii1iIl[ii1IIl(0x1be,'oQ^#')](ll11i[ii1IIl(0x248,'[d8x')]);return;}}else{iliIIi['log'](ll11i[ii1IIl(0x242,'hOWr')]);return;}}}case 0x3:case 0x11:{III111=Iiilli[ii1IIl(0x2bf,'v4uL')](prize_map[ll11l['type']],ll11l[ii1IIl(0x263,'Nd17')]);let l1llli=Iiilli['tPlUe'](ll11l[ii1IIl(0x1ae,'v4uL')],0x0)?'满'+ll11l[ii1IIl(0x215,'f&y^')]:'无门槛';III111+='('+l1llli+'减'+ll11l['discount']+')';break;}case 0x6:{if(ii1IIl(0x17d,'Nd17')===Iiilli[ii1IIl(0x142,'GxJY')]){III111=prize_map[ll11l[ii1IIl(0x1eb,'Vdoh')]]+ll11l[ii1IIl(0x1d0,'G9AP')];let iI1lII=ll11l[ii1IIl(0x2c9,'NMy)')]>0x0?'满'+ll11l[ii1IIl(0x1fc,'oQ^#')]:ii1IIl(0x17b,'jm!$');III111+='('+iI1lII+'打'+ll11l[ii1IIl(0x266,'oQ^#')]+'折)';break;}else i11ii1={...IlIliI,...l1iII1};}default:{III111=prize_map[ll11l[ii1IIl(0x184,'v4uL')]||ii1IIl(0x25d,'hR)C')]||ii1IIl(0x149,'f&y^')+ll11l['type']+']',console[ii1IIl(0x157,')i&d')](''+lliiII+JSON[ii1IIl(0x1d4,'*dsz')](ll11l));break;}}IlI1li[ii1IIl(0x29e,'hR)C')](III111);}console['log'](''+lliiII+IlI1li[ii1IIl(0x1c6,'86jT')](',\x20'));let IlI1ll=IlI1li[ii1IIl(0x22a,'fb*h')](l1i1I=>{const ii1IIi=ii1IIl;if(ii1IIi(0x15c,'hOWr')!==ii1IIi(0x183,'u*QI'))lillIi[ii1IIi(0x20d,'m^Ln')](illIi1),ii1ili&&(lI1lil['outFlag']=!![]);else return l1i1I['includes'](ii1IIi(0x1cd,'9mwz'))||l1i1I['includes'](Iiilli['EJXUm'])||l1i1I[ii1IIi(0x1c1,'sb#u')](Iiilli[ii1IIi(0x163,'N7A6')])?'':l1i1I;})['filter'](Boolean);iiIi1i[ii1IIl(0x1f2,'e5tL')](IlI1ll[ii1IIl(0x20e,'fAvu')](',\x20'));}else iillll=lIIilI[ii1IIl(0x141,'r$Zg')]((lil1i,liiiil)=>!IiiIl1[ii1IIl(0x196,'RMq*')][ii1IIl(0x212,'gIzt')](liiiil+0x1)),l1lIlI[ii1IIl(0x131,'GxJY')]=[];}else console['log'](''+lliiII+liIllI['msg']+'['+liIllI['code']+']'),liIllI[ii1IIl(0x17f,'TD6M')]?.['includes']('领取上限')&&(ll1II=!![]);break;case ii1IIl(0x199,'9mwz'):if(liIllI['code']==0x0){if(Iiilli[ii1IIl(0x1dd,'O$Yj')]===Iiilli[ii1IIl(0x280,'c97[')]){let IIIIli=liIllI[ii1IIl(0x220,'a)t!')]['shareUrl']['match'](/\?s=([^&]+)/)&&liIllI[ii1IIl(0x247,'G9AP')]['shareUrl'][ii1IIl(0x276,'fb*h')](/\?s=([^&]+)/)[0x1]||'';console[ii1IIl(0x23f,'zn]e')](lliiII+ii1IIl(0x164,'hR)C')+IIIIli);}else{Iii111[ii1IIl(0x1de,'orzF')]('链接后面的字符必须为7位字符');return;}}else console[ii1IIl(0x271,'NMy)')](''+lliiII+liIllI['msg']),liIllI[ii1IIl(0x147,'[d8x')]?.[ii1IIl(0x2a9,'fAvu')](ii1IIl(0x110,'orzF'))&&(ll1II=!![]);break;}}catch(lil1l){'csJiI'==='zETlE'?i11il1+=ii1iiI:console[ii1IIl(0x26f,'Bewr')]('❌\x20未能正确处理\x20'+ili1II+ii1IIl(0x236,'y(Ne')+(lil1l[ii1IIl(0x210,'s(Yc')]||lil1l));}}async function IiiI1(Iliii){const I1ll1l=II1I;if($[I1ll1l(0x2b7,'hR)C')])return;let illlii='',I1lIIi=null,l1i1i=null,I1iI1i=Iiilli[I1ll1l(0x293,'M(ch')],l1i1l={},I1iI1l={};switch(Iliii){case I1ll1l(0x1e4,'1ziR'):I1iI1l={'appId':Iiilli[I1ll1l(0x1d3,'a)t!')],'functionId':'getCoupons','appid':Iiilli['iiZAc'],'clientVersion':common['getLatestAppVersion'](),'client':I1ll1l(0x125,'#]I]'),'body':{'platform':0x4,'unionActId':0x79c9,'actId':Iiilli[I1ll1l(0x1d9,'N7A6')],'d':IllIii,'unionShareId':liI1li,'type':0x1,'qdPageId':Iiilli['BLbAd'],'mdClickId':I1ll1l(0x190,'GxJY'),'actType':0x1},'version':I1ll1l(0x219,'fAvu'),'ua':llIIl1,'t':!![]},l1i1l=await H5st['getH5st'](I1iI1l),illlii=Iiilli['TIvoY'],I1lIIi=l1i1l[I1ll1l(0x143,'m^Ln')];break;case'shareUnionCoupon':I1iI1l={'appId':Iiilli[I1ll1l(0x1ac,')i&d')],'functionId':'shareUnionCoupon','appid':Iiilli['iiZAc'],'clientVersion':common[I1ll1l(0x14b,'[d8x')](),'client':Iiilli['yvLuf'],'body':{'platform':0x4,'unionActId':0x79c9,'actId':I1ll1l(0x126,'N7A6'),'d':IllIii,'unionShareId':'','supportPic':0x2},'version':Iiilli[I1ll1l(0x1a4,'zn]e')],'ua':llIIl1,'t':!![]},l1i1l=await H5st['getH5st'](I1iI1l),illlii=Iiilli[I1ll1l(0x203,'WubR')],I1lIIi=l1i1l['paramsData'];break;default:console['log']('❌\x20未知请求\x20'+Iliii);return;}const illlil={'x-api-eid-token':ill1Ii,'loginType':0x2,'_':Iiilli['rYnxJ'](Iiilli[I1ll1l(0x19e,'orzF')](new Date()[I1ll1l(0x209,'m^Ln')](),new Date()['getTimezoneOffset']()*0x3c*0x3e8),0x8*0x3c*0x3c*0x3e8)};if(I1lIIi){if(Iiilli[I1ll1l(0x27b,'hOWr')]===I1ll1l(0x273,'1ziR'))I1lIIi={...I1lIIi,...illlil};else{const IIIIlI=Iiilli['XEElC'](i1ili1,i1l1l1);Iiilli[I1ll1l(0x16f,'a)t!')](IIIIlI,0x0)&&IIIIlI!==0x1&&(II11Ii=IIIIlI);}}if(l1i1i){if(Iiilli[I1ll1l(0x283,'sb#u')]!==Iiilli[I1ll1l(0x1bc,'YBYV')]){Iliiii=i1illI[I1ll1l(0x165,'86jT')]('/')['pop']()[I1ll1l(0x290,'GxJY')]('?')['shift']();if(i1IIl[I1ll1l(0x22c,'a)t!')]!==0x7){i1IIi[I1ll1l(0x151,'f&y^')]('链接后面的字符必须为7位字符');return;}}else l1i1i={...l1i1i,...illlil};}const Iliil={'url':illlii,'method':I1iI1i,'headers':{'accept':I1ll1l(0x208,'G9AP'),'Accept-Language':I1ll1l(0x171,'v4uL'),'Content-Type':I1ll1l(0x1db,'m^Ln'),'Cookie':Iiilli['TpNTO'](IllIil+'\x20',ili11l),'X-Requested-With':Iiilli['dytAo'],'Referer':I1ll1l(0x191,'#]I]'),'X-Referer-Page':Iiilli['iBYVt'],'Origin':Iiilli[I1ll1l(0x29b,'s(Yc')],'x-rp-client':'h5_1.0.0','User-Agent':llIIl1},'params':l1i1i,'data':I1lIIi,'timeout':0x7530};I1iI1i===Iiilli[I1ll1l(0x1d6,'gIzt')]&&(delete Iliil[I1ll1l(0x148,'s(Yc')],delete Iliil[I1ll1l(0x1a8,'RMq*')]['Content-Type']);const I1lIIl=0x1;let l1ilI1=0x0,l1l1Il=null,lil1I=![];while(Iiilli[I1ll1l(0x2a4,'Bewr')](l1ilI1,I1lIIl)){const liiil1=await common[I1ll1l(0x10c,'[d8x')](Iliil);if(!liiil1[I1ll1l(0x130,'86jT')]){l1l1Il=I1ll1l(0x12f,'hR)C')+Iliii+'\x20请求失败\x20➜\x20'+liiil1[I1ll1l(0x229,'9mwz')],l1ilI1++;continue;}if(!liiil1['data']){l1l1Il=I1ll1l(0x1f3,'Bewr')+Iliii+I1ll1l(0x2bd,'c97['),l1ilI1++;continue;}Iiilli[I1ll1l(0x2c0,'G9AP')](lliiI1,Iliii,liiil1[I1ll1l(0x288,'NMy)')]),lil1I=![];break;}Iiilli['SSpHs'](l1ilI1,I1lIIl)&&(Iiilli[I1ll1l(0x188,'YBYV')](Iiilli[I1ll1l(0x26d,'fAvu')],Iiilli[I1ll1l(0x1ef,'RMq*')])?Iii11I[I1ll1l(0x17a,'v4uL')]=Iil1II(I1ll1l(0x282,'P6Rh')):(console[I1ll1l(0x15a,'Nd17')](l1l1Il),lil1I&&(Iiilli['YmUrS'](I1ll1l(0x14d,'Bewr'),I1ll1l(0x13b,'%1Nr'))?$['outFlag']=!![]:IIIIII={...lillII,...ii1ilI})));}}async function getAuthorCodeList(l1i11i){const I1ll1i=i11iIi,l11iI1={'UFGEQ':'GET'},IliiI=await common[I1ll1i(0x289,'y(Ne')]({'url':l1i11i,'method':l11iI1[I1ll1i(0x106,'hOWr')],'headers':{'User-Agent':I1ll1i(0x1ca,'Bewr')},'proxy':null,'debug':![],'timeout':0x7530}),lI111i=IliiI['data'];return lI111i;}function random(I1lIII,liIlll){const i11iII=i11iIi,I1iI1I={'SHOyn':function(illll1,IIIIl1){return illll1-IIIIl1;}};return Math[i11iII(0x2aa,'M(ch')](Math['random']()*I1iI1I[i11iII(0x296,'Bewr')](liIlll,I1lIII))+I1lIII;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
