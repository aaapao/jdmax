/*
活动名称：红包618
环境变量：jd_red618_url // 活动链接
        jd_red618_ids // 分享码，多个用英文逗号，@，换行分割（一般是链接后面的s=xxx参数，5个字符）
        jd_red618_threads // 控制并发线程数（正整数），默认1，最大5，尽量使用默认值，否则请开启代理运行
        jd_red618_interval // 自定义运行间隔时长（整数，单位毫秒），默认2000
        jd_red618_notify // 是否推送通知（true/false），默认不推送
        jd_red618_pinFilter // 账号pin过滤，多个用@进行分割
        jd_red618_maxdraw // 开红包次数（正整数），默认3

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:59 59 11,23 * * *

*/

const $ = new Env('红包618')
var iｉl='jsjiami.com.v7';const l11iII=iii1II;if(function(IIIIli,lllIi,lil1l,lllIl,Iliii,illlii,I1lIIi){return IIIIli=IIIIli>>0x5,illlii='hs',I1lIIi='hs',function(l1i1i,I1iI1i,l1i1l,I1iI1l,illlil){const lllII=iii1II;I1iI1l='tfi',illlii=I1iI1l+illlii,illlil='up',I1lIIi+=illlil,illlii=l1i1l(illlii),I1lIIi=l1i1l(I1lIIi),l1i1l=0x0;const Iliil=l1i1i();while(!![]&&--lllIl+I1iI1i){try{I1iI1l=parseInt(lllII(0x31a,')aky'))/0x1+parseInt(lllII(0x213,'RU!L'))/0x2*(parseInt(lllII(0x1e0,'iuL%'))/0x3)+-parseInt(lllII(0x246,'n[j1'))/0x4+parseInt(lllII(0x2f2,'Tvtf'))/0x5+parseInt(lllII(0x362,'kPHl'))/0x6+parseInt(lllII(0x2fc,'Tvtf'))/0x7+-parseInt(lllII(0x20c,'kMll'))/0x8;}catch(I1lIIl){I1iI1l=l1i1l;}finally{illlil=Iliil[illlii]();if(IIIIli<=lllIl)l1i1l?Iliii?I1iI1l=illlil:Iliii=illlil:l1i1l=illlil;else{if(l1i1l==Iliii['replace'](/[ubGQFlKHgOtBVIWeCnq=]/g,'')){if(I1iI1l===I1iI1i){Iliil['un'+illlii](illlil);break;}Iliil[I1lIIi](illlil);}}}}}(lil1l,lllIi,function(l1ilI1,l1l1Il,lil1I,l1l1Ii,IIIIlI,l1i11l,liiil1){return l1l1Il='\x73\x70\x6c\x69\x74',l1ilI1=arguments[0x0],l1ilI1=l1ilI1[l1l1Il](''),lil1I=`\x72\x65\x76\x65\x72\x73\x65`,l1ilI1=l1ilI1[lil1I]('\x76'),l1l1Ii=`\x6a\x6f\x69\x6e`,(0x16e39c,l1ilI1[l1l1Ii](''));});}(0x1860,0xdb09a,Iii11l,0xc5),Iii11l){}const jdCookie=require(l11iII(0x235,'*X04')),common=require(l11iII(0x2fe,'XApg')),notify=require(l11iII(0x290,'9#45')),{H5st,jsTk}=require('./utils/Rebels_H');function iii1II(_0x5a71ec,_0x3e0b19){const _0x47b6b9=Iii11l();return iii1II=function(_0x3f3ca9,_0x35b947){_0x3f3ca9=_0x3f3ca9-0x1c0;let _0x14bec2=_0x47b6b9[_0x3f3ca9];if(iii1II['wRBNRB']===undefined){var _0x3f22ea=function(_0x140d4d){const _0x53821a='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5ac22f='',_0x38fe16='';for(let _0xae4fb2=0x0,_0x271c99,_0x20e4e6,_0x529566=0x0;_0x20e4e6=_0x140d4d['charAt'](_0x529566++);~_0x20e4e6&&(_0x271c99=_0xae4fb2%0x4?_0x271c99*0x40+_0x20e4e6:_0x20e4e6,_0xae4fb2++%0x4)?_0x5ac22f+=String['fromCharCode'](0xff&_0x271c99>>(-0x2*_0xae4fb2&0x6)):0x0){_0x20e4e6=_0x53821a['indexOf'](_0x20e4e6);}for(let _0xf7304b=0x0,_0x3673cb=_0x5ac22f['length'];_0xf7304b<_0x3673cb;_0xf7304b++){_0x38fe16+='%'+('00'+_0x5ac22f['charCodeAt'](_0xf7304b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x38fe16);};const _0x4b6ff3=function(_0x54b483,_0x5885c5){let _0x373a5b=[],_0x48ad8a=0x0,_0x41e7fa,_0x353b1e='';_0x54b483=_0x3f22ea(_0x54b483);let _0x3eef20;for(_0x3eef20=0x0;_0x3eef20<0x100;_0x3eef20++){_0x373a5b[_0x3eef20]=_0x3eef20;}for(_0x3eef20=0x0;_0x3eef20<0x100;_0x3eef20++){_0x48ad8a=(_0x48ad8a+_0x373a5b[_0x3eef20]+_0x5885c5['charCodeAt'](_0x3eef20%_0x5885c5['length']))%0x100,_0x41e7fa=_0x373a5b[_0x3eef20],_0x373a5b[_0x3eef20]=_0x373a5b[_0x48ad8a],_0x373a5b[_0x48ad8a]=_0x41e7fa;}_0x3eef20=0x0,_0x48ad8a=0x0;for(let _0x25b834=0x0;_0x25b834<_0x54b483['length'];_0x25b834++){_0x3eef20=(_0x3eef20+0x1)%0x100,_0x48ad8a=(_0x48ad8a+_0x373a5b[_0x3eef20])%0x100,_0x41e7fa=_0x373a5b[_0x3eef20],_0x373a5b[_0x3eef20]=_0x373a5b[_0x48ad8a],_0x373a5b[_0x48ad8a]=_0x41e7fa,_0x353b1e+=String['fromCharCode'](_0x54b483['charCodeAt'](_0x25b834)^_0x373a5b[(_0x373a5b[_0x3eef20]+_0x373a5b[_0x48ad8a])%0x100]);}return _0x353b1e;};iii1II['RxHIkB']=_0x4b6ff3,_0x5a71ec=arguments,iii1II['wRBNRB']=!![];}const _0xe61d3=_0x47b6b9[0x0],_0x1d535b=_0x3f3ca9+_0xe61d3,_0x351b91=_0x5a71ec[_0x1d535b];return!_0x351b91?(iii1II['WuepYx']===undefined&&(iii1II['WuepYx']=!![]),_0x14bec2=iii1II['RxHIkB'](_0x14bec2,_0x35b947),_0x5a71ec[_0x1d535b]=_0x14bec2):_0x14bec2=_0x351b91,_0x14bec2;},iii1II(_0x5a71ec,_0x3e0b19);}let red618_url=process[l11iII(0x25e,'WhBA')]['jd_red618_url']||'',redshareId=(process['env']['jd_red618_ids']||'')['split'](/[,@\n]+/g)[l11iII(0x284,'kvnI')](IlllII=>IlllII['trim']())['filter'](Boolean),maxdraw=process[l11iII(0x315,'qw&G')]['jd_red618_maxdraw']||'3',taskThreads=process[l11iII(0x29a,'#5U8')][l11iII(0x1d9,'BnUl')]||'1';const runInterval=process[l11iII(0x2e7,'$fPI')][l11iII(0x21d,'U5A8')]||l11iII(0x30b,'n[j1'),isNotify=(process[l11iII(0x349,'3VeS')][l11iII(0x225,'aEIJ')]||process['env']['jd_red618_Notify'])==='true',pinFilter=(process['env']['jd_red618_pinFilter']||'')['split']('@'),endTime=0x19036605000,maxThreads=0x5;let actId,Referer,cookiesArr=Object[l11iII(0x2a7,'PEg5')](jdCookie)['map'](I1il1I=>jdCookie[I1il1I])[l11iII(0x247,'gBns')](II111=>II111);!cookiesArr[0x0]&&($['msg']($['name'],'【提示】请先获取Cookie'),process[l11iII(0x251,'A6&o')](0x1));const prize_map={0x1:'[红包]',0x3:l11iII(0x1d1,'LZfP'),0x6:l11iII(0x25a,'(1Ni'),0x11:l11iII(0x22b,'V4l)'),0x13:'[超市卡]'};!(async()=>{const l1i11i=l11iII,lI1l1I={'zpoEL':function(lill11,liI1i1){return lill11!==liI1i1;},'kAQNN':l1i11i(0x35e,'Sm1[')};notify[l1i11i(0x363,'e70D')]({'title':$[l1i11i(0x286,'Sm1[')]}),await Main(),isNotify&&notify['getMessage']()&&(lI1l1I[l1i11i(0x2aa,'V4l)')](lI1l1I['kAQNN'],l1i11i(0x252,'rQI$'))?(IIlll[l1i11i(0x22f,'Sm1[')](liliI+l1i11i(0x21f,'B6a4')),ll1lI=!![]):await notify[l1i11i(0x30c,'kPHl')]());})()[l11iII(0x25c,'gBns')](I1llII=>$[l11iII(0x1df,'k7rI')](I1llII))[l11iII(0x1e9,'q4$r')](()=>$['done']());async function Main(){const l11iI1=l11iII,Iil1il={'NMSID':l11iI1(0x226,'k7rI'),'Iyplr':function(I11i1i,l1l1iI){return I11i1i/l1l1iI;},'nAffX':function(I1llI1,I11i1l){return I1llI1(I11i1l);},'XRYmz':function(il1il,Il1i1i){return il1il*Il1i1i;},'ADnLn':function(iIIili,Ii1iiI){return iIIili+Ii1iiI;},'WwZJO':'xxxxxxxx-xxxx-xxxx-xxxxxxxxxxxx','owSxh':l11iI1(0x1e6,'e70D'),'nEFvU':l11iI1(0x2d7,'Hmh&'),'qRFEE':l11iI1(0x29e,'rQI$'),'jGHAB':function(Ilil1I,iliIiI){return Ilil1I+iliIiI;},'zlsON':function(II11iI,Il1i1l){return II11iI>Il1i1l;},'fzhHN':function(Iil1ii,lill1I){return Iil1ii!==lill1I;},'fHTNY':l11iI1(0x34d,'@EZU'),'cWzLc':function(Ii1ii1,Ilil11){return Ii1ii1===Ilil11;},'ZivUZ':'asZQL','ACNgP':function(i1ii1,il1ii,llI111){return i1ii1(il1ii,llI111);},'fgeUm':'a2l6ZktNMQ==','stXzV':l11iI1(0x365,'kMll'),'Mywap':l11iI1(0x2a5,'3VeS'),'yXUSL':l11iI1(0x334,'$fPI')};try{try{const lI1l11=parseInt(taskThreads);Iil1il['zlsON'](lI1l11,0x0)&&lI1l11!==0x1&&(taskThreads=lI1l11);}catch{taskThreads=0x1;}taskThreads=Math['min'](taskThreads,maxThreads),$['waitTime']=null;if(runInterval)try{if(l11iI1(0x281,'bEgk')!=='HdeyK')illlI1=!![];else{const II11i=parseInt(runInterval);II11i>=0x0&&(Iil1il['fzhHN'](l11iI1(0x214,'M^[@'),'oRPPy')?IIIIII[l11iI1(0x331,'B6a4')]=!![]:$[l11iI1(0x1e3,'uDgE')]=II11i);}}catch{if(l11iI1(0x249,'q4$r')==='toJSk'){II1lii['fix'](Iil1il[l11iI1(0x1f6,'qw&G')]),lIIii1['log'](ll1i1[l11iI1(0x308,'#5U8')]()),IIli1i[l11iI1(0x340,'Wh4O')][l11iI1(0x244,'#5U8')](I1iIi1);return;}else console[l11iI1(0x22e,'t2hX')](Iil1il['fHTNY']);}$['nowTime']=Date[l11iI1(0x20f,'aEIJ')]();const i1iIiI=$['time']('yyyy-MM-dd\x20HH:mm',endTime);if(endTime&&$[l11iI1(0x2b3,'n[j1')]>endTime){console[l11iI1(0x26a,'3VeS')](l11iI1(0x2f0,'n[j1')+i1iIiI+'\x20结束，下次早点来吧~');return;}const IlllI1=l11iI1(0x343,'kPHl')+common['genRandomString'](0xd,l11iI1(0x23b,'%]!E'));$['UA']=common[l11iI1(0x2db,'HSEn')](IlllI1);if(/https:\/\/u\.jd\.com\/.+/[l11iI1(0x1ed,'kvnI')](red618_url)){if(red618_url[l11iI1(0x2bf,'HSEn')]('/')['pop']()){if('ipJBp'!==l11iI1(0x216,'B6a4')){let iI1Iil=l11iI1(0x2c3,'LZfP'),il1iI='1',i1iIii=II1ll1(Iil1il['Iyplr'](IlI1Ii[l11iI1(0x35f,'3VeS')](),0x3e8))['toString'](),i1iIil=i1iIii+Iil1il[l11iI1(0x350,'3VeS')](i11I1I,Iil1il[l11iI1(0x2e1,'lS^G')](0x7fffffff,l1il1i['random']()))[l11iI1(0x2eb,'kvnI')](),liI1il=[iI1Iil,i1iIil,i1iIii,i1iIii,i1iIii,il1iI][l11iI1(0x23a,'R(N&')]('.'),llIlIi=[iI1Iil,il1iI,[i1iIil,il1iI][l11iI1(0x1cb,'9#45')]('|'),i1iIii]['join']('.'),llIlIl=iI1Iil,II11I=[iI1Iil,'direct','-','none','-',ll1[l11iI1(0x2ad,'U%$c')]()['toString']()][l11iI1(0x267,'e70D')]('|');II11I=Iil1il[l11iI1(0x34a,'cJet')](iI1llI,II11I);let il1i1=Iil1il['ADnLn'](Iil1il[l11iI1(0x2e6,'XLz2')](llliii,Iil1il[l11iI1(0x25b,'bEgk')])+'-',i1iIii),lIIiIi=l11iI1(0x30e,'U5A8'),liI1iI=[lIIiIi,il1iI][l11iI1(0x1d0,'WhBA')]('.'),iI1Il1=[i1iIil,lIIiIi,IllI11['now']()[l11iI1(0x313,'gBns')]()][l11iI1(0x298,'cJet')]('.'),i1iIl1=(l1llIi[l11iI1(0x30d,'3VeS')](0x5*II1llI[l11iI1(0x288,'V4l)')]())*0x2+0x1)['toString'](),i1lli1=i11I11['genRandomString'](0x20,Iil1il[l11iI1(0x366,'[@c1')])+Iil1il['nEFvU'];return{'jda':liI1il,'jdb':llIlIi,'jdc':llIlIl,'jdv':II11I,'shshshfpa':il1i1,'mba_sid':liI1iI,'mba_muid':iI1Il1,'pre_seq':i1iIl1,'pre_session':i1lli1};}else{red618_url=red618_url['split']('/')[l11iI1(0x25f,'Tvtf')]()['split']('?')[l11iI1(0x245,'kMll')]();if(red618_url[l11iI1(0x359,'V4l)')]!==0x7){console[l11iI1(0x1f1,'U5A8')](l11iI1(0x24a,'@UPB'));return;}}}else{console[l11iI1(0x2ac,'%]!E')](l11iI1(0x211,'9#45'));return;}}else Iil1il[l11iI1(0x2d0,'(1Ni')](red618_url[l11iI1(0x273,'kPHl')],0x7)?red618_url=red618_url:red618_url='';authorCodeList=await getAuthorCodeList(l11iI1(0x358,'qw&G'));if(authorCodeList){if(l11iI1(0x21c,'rQI$')!==Iil1il['ZivUZ'])return i11ii1['floor'](Iil1il['XRYmz'](IlIliI['random'](),l1iII1-iiill1))+lIli1i;else $[l11iI1(0x2e5,'qw&G')]=authorCodeList[Iil1il[l11iI1(0x26e,'loSp')](random,0x0,authorCodeList['length'])];}else{if(l11iI1(0x203,'gBns')===l11iI1(0x20b,'q4$r')){Iii111[l11iI1(0x2ee,'#5U8')](Iil1il['qRFEE']);return;}else $[l11iI1(0x2c0,'B6a4')]=Iil1il[l11iI1(0x1de,'XApg')](atob,Iil1il[l11iI1(0x2bb,'aEIJ')]);}$['red618code']=red618_url?red618_url:$[l11iI1(0x24f,'V4l)')],$[l11iI1(0x314,'rQI$')]=l11iI1(0x1d6,'R(N&')+$['red618code'];red618_url&&(console[l11iI1(0x22e,'t2hX')](l11iI1(0x2c4,'rQI$')+$['red618_url']),console[l11iI1(0x28d,'*X04')](l11iI1(0x2f7,'loSp')+$[l11iI1(0x2df,'[@c1')]));console[l11iI1(0x1d8,'lS^G')](''),$['needRemoveCookieIndex']=[],await common[l11iI1(0x34c,'rQI$')](taskThreads,cookiesArr,taskFnc),$[l11iI1(0x209,'WhBA')]=![];if(Iil1il['zlsON']($[l11iI1(0x210,'Xsvu')][l11iI1(0x212,'k7rI')],0x0)){if(Iil1il[l11iI1(0x333,'U%$c')]!==Iil1il['Mywap'])cookiesArr=cookiesArr['filter']((lIIiII,i1iIlI)=>!$['needRemoveCookieIndex']['includes'](i1iIlI+0x1)),$['needRemoveCookieIndex']=[];else for(let liI1lI of I1ilII){let lIIiI1=liI1lI[l11iI1(0x1fc,'@EZU')](';')[0x0][l11iI1(0x27a,'Wh4O')]();if(lIIiI1[l11iI1(0x240,'bEgk')]('=')[0x1]){if(l1l11i[l11iI1(0x300,'n[j1')](lIIiI1[l11iI1(0x339,'iuL%')]('=')[0x1])==-0x1)l1iIl+=Iil1il[l11iI1(0x270,'WhBA')](lIIiI1[l11iI1(0x328,'9#45')](/ /g,''),';\x20');}}}const I1il11=notify[l11iI1(0x1f3,'cJet')]();I1il11&&console[l11iI1(0x23e,'RU!L')]('\x0a📣\x20运行结果\x0a'+I1il11[l11iI1(0x328,'9#45')](/：/g,Iil1il[l11iI1(0x223,'RU!L')]));}catch(ll1I1){console[l11iI1(0x2ee,'#5U8')](l11iI1(0x1da,'kPHl')+ll1I1);}}function Iii11l(){const IIiiIi=(function(){return[...[iｉl,'ujBsWjeiaQmnFHiG.qctBomgVg.Obvq7nKIulCQB==','WOtdJdadW58','qNVcU8osWQNdOSk2W5bVWRRcUK0','W6/dIwBdSSkvW4z9ca','4PMZWQVOHihLRlFKU7NOVi7OOPBPLRpPMjZMLjJPLi3ORyRNVA3PLilORBq','wbOlWQjj','WOnWqmkcCa','WPHGmCoKW6q','sH8mWQPS','BSoOzSouhq','vHVdPmoslqXMW7K1W7m9W4VdQq','cuBcQCk1CLiX','omkAqSk0WR4','WPjijmoHW5pcVe4Q','WO7dRcie','W4GUW6L7W7NdM1tdUCk4b8kMW4VdNeyQqLJdPmkLW5ZcLCopWPRdUXaqW5XHW6RdQLyOW7/cVq','fCo8W6hcL8ouca','W6tdL2FdUmkc','W5BcVKD4','W71MECkHFmoGnq','WRxdJ8ovW6JcKq','W4ZcN8odWQBcLW','WPHoia','ESkLfZ3cVW','m8o/fSk0WRi','W74pamodWRvghZ5mimosWRGI','eSkYtSkrWPpdIa','WRvFsSkyW7aDsYTQ','W6qjWQ7dVCo4','avtcJSkzCW','WPqavmo6bSkA','smkcWQ0+l2Gqev5+','W4ZcOCklWQTrdwScDCoNhHS6nq','lCk9WR/cT8kk','kmknWR7dQMG','s8oHzSo4ka','W6BcICkeW7NcRW','k8k/WQKNhG','W7/cLSkbW74','W4vgp0xdMSob','W73dOSkC','4P+aBEAFVoEDNoITHEAXR8o6','W6i7jwq','bmoHzW','W7vfWQTN','aILtF8o1','W6ldIx8','WQXwt8kL','F+s9PoAbOowiHLi','cSk/WRBdRNW','AmkWcdC','WQvFwmkcW4aAst5kpq','vWf1fG','rfRdSgBcG8o+WQitWQnUW6pcO8osW7ZcK0WD','xW9M','W4RcMW0','aCkIWQpdI3JdNmkOWOHAWRpcSHJdSbDpacK','4P6kf+IeO+AFNoI9K+IGUEMbQUwjQ+s6JEMvKoITUmoZ','uW7cH8koWOe','WOieumo+','qriKWOK','xmkZW6a8WOu','laZcRGhdNvW','CCkkpSkTWOGZh3i','rJnWj8ke','W5aOW7HuWRdcKqJdQCk+dmkT','W4/cSebPW45aC8oI','W5mZW5bhWQC','W7hcMmkCW7e','emk/q8ktWP/dICo5hSkTjSk8AcPfW45D','WRxcUCkDeSkJ','hWZdSLTqvCoEWQBcMG','WOamsSo+c8kcuG','WO7dPSoyW7GbscG','WQPCsmkSBmo+','os91','osTeyG','W4rxpuJdGq','dSkmWRxcOSkx','gmklWRNcUmkk','WP3dKaq','WQPwqq','WO3dQciOW6iSWR0Es8om','amkOt8kdWPS','W4FcPmoSWPxcVgS','W64xW45cWOC','W5NcS0P5W79plSk2WRVdK8o8fchdLfxdLG','a8kAWRW3','W6tdG2NdTCkKW5v9','WOvYASkUqa','fmo4W78','WQddU8khW4tdHa','W73cNmkjW7tcVSk2zG','W5a7W69QWQ7cHZ/dU8kJaG','6k2I5Aks5ywX5Q+Z56k155Ma6zoR5O2T','WRZdOCoVW7lcUG','yoIULoAYI+wsIEw4UW4','jmownmkE','W4BdICkAzmoU','WRjosCkv','WQTkqq','W5pcL8okWRxcKG','WQ/dGCoYW5WT','qmkDW7m0WRK','WRrmsmkoDSoY','W6bhWRjMWQS','WPeiz8oYda','WR1/W6BcICkhg8oQDSoYv8okWQK2WQy','WOrJamoxW4q','WRfwumkeW5CCqd4','uCo/wW','W5BdS8o/s14CWQLED8kIW5hcOmoslflcPSo+WO5Zntu','6k2/5Ac/5yEv5Q2P56kB55Uc6zoy5O6T','laBcPYpdM0y','cKPntftdOSklW7H7W55P','W6tdRmkRWQft','kaBcQcddILXT','W61WkmkvWPq','WQlcO8ojjCkTWONdJG','xLVdQLpcNSkG','W5xcHaBcLmkx','W6NdTCkdC8oKW5/cH8o9WRbcWOddTWpcIXKWWOOIW5/dQdzChKpcV8oYW5zwuufH','gCk4qCktWP/dNCk6','W63dLvldGmkn','WPVdMZZcP8oxW7JcOdhcSCo7kmoSWPz/W4TOW6zM','pYTgy8kUW4BcLG','6zg65O6L5Awt6lEY','W6RdJ2tdPCkKW5u','j8k6echcPCk/fSkCWRVdNv4','WQuifSkVEW','qsiHlsG','W6JcPwjhW7C','vCo0C8oHh8oPWQi5BCk5WRbyimooWRDV','5BAY6k+D576N6lA36l2O6l++6kgs5B625yQv6lEg5y6X','W6SOWQldRCoBqmk/pmoKEmolWPuAWPtcJ8kOWPO','wqGJWQjTW6q','W5P0cgNdGa','DSkTdG','iUEPKUwfGowlImo9','6lEB5y2K5PwB5PEt','W69sWQDUWPXxwxDyymkHFCobWPddUvBcNCkbWOSVW6e','mJVdHa'],...(function(){return[...['W5NcQSoL','8jEROSo3','WOldJW/cVmog','tYhcLSkXWQm','W6v1ggBdVa','WRRdJWFcVSo5','WPKio0xdTSodwSo/BeS','W5bcp3tdTa','6lAQ5y2r5PEO5PEz','eCo8W67cLmofeSoQ','D8kMdmozkq','rKhdRxG','sCoyW4RdHSorlmoeWRCBv8k4jdeIs8kXW4aOD0NdVI8ujCowWRRcKSowamosuCkLBtH1W6u','W7r1eCk/','W4zPemk6WQ4','vbut','W4VcKrNcJSkccCoM','jYX+xCol','W7nHc8kJ','aSkOWPJdNgxdT8o4','W6fwW65qCq','WO/cPSkgW4C','W78LWR/dN8og','huv5W580WRzIW5uLqNyQ','W7FdPmkxF8o5W5u','rJ9PgmkEW7xcUKLu','WOKZBSo9pq','6zgD5O6A5zks6z2F55Q/5AY7562L5B6N6Aof5lIpW57KVilLR4FNRAS','W5lcHGpcKa','W7lcNmkCW5pcTmkXzCkNW7P3','WQtdTSo4W5pcPSk5WQKK','WPNdUtCrW69IW7XpcSohE8k+vmo6WQ5GWOldO8kjc8kqWQ3cH0iHWOdcJmkWv8knWQDnWQ0jWOpdUCkIEWTQW4b8BZ/dUKvvf0dcRwBcNrVcUSonWQdcGu1CbgKPWOakWR/dMCofWQFcOCosW59TW4vgEa/cVvFdJZhdJ8kCA8oLAqtcKM/dJdP1rSkqW4zcW6FdKctcNSkqW5JcRmoqWReWoZhcJ1ldNmkQiCoAvZxcGazRW70vW7hdHeSbW4FcP0WYWOddLrJcUCk9WPjsE8kGB8oiWPNdT1vsdSocoZBcQCo6icZcRxZdIqtcIIRdHWJcIfRcLmohWPvrW6NdUftdH1PrW5VcQ8oUWQfIm8osW5FcRbXWWQSUW4NdP8k/W5NdKq/dPMeuvSkRsCkUw8k3jr1VpJ4gqXhcGryhuSkXe8kbu8osWRj0W7K7EG/cNf89dCkSW6u3Cb3cIMWDWRZdQSoaW6tcVmkZd8kpW4NcIrTMW7avW7CJWOGyqffLfhDhW47cHuVcJw3cVmkcFSkeW4lcVCksW7pdNSkAmCkyWReWv8k0B3eHo8oOcaddSHdcHK5mE8k1oqZcImo7W6FcLSoQW4ZdP1DoemoSW5SRjthcLCozW77dKLTzWQj0m8kViSkYWQVdHmoUWOy3vITyW7rgamo9BLvsWQ0SW59yb8ovgrtdRLddNSoKiCkYW7JdKNfsWQ1EWQHdWP7dSmo+bLeCx8otqdbXb8k6W5qtFczfmaVcSSoOWPrdnmkSW7tdSrdcQmopeK5Ts8k4vdWIW7eBxCo3W6q7WPCDWODFWQ05lhGVq8oRwgiEymk2W6L9W6biA3jWx8kSWRTgWOCSWQ3cJSkwW4O3WRC9W5VcTSkOWQH9mc0Gke45CeFcIsJcTmoEdCoVbCkbW6xdSSoha0/dRSkUW5NcH8kOnSkZDCkMWPzgW459oSoaWQ3cISooddzOWRWhCt7cJqftWRaFgWnD','gmoSW7VcMmopeSoAW4NdH8kY','b8oLuHpcQa','rJhcVSkq','W7xdVeNdHSkf','W6hdKCoSzKe','smoEW43dH8oxiCoaW6LHbCkdjdG','WQPwrCkQBmo/z8oa','BWNdTh95','WP9pnmoUW4NcRuuT','pITdo8kOW5RcJrjuFa','W5VcO0X8W65m','W5RMIAtMIzRLIllcKW','aYTiFSoW','W7ldRmkpAmo0','aaPeBmkN','WQnxua','WR3dT8oR','bSk8sCkdWQ7dHSkKsG','W4K0W65UWRhcGa','duZcUCke','44kO6lAW5y2T','W5xcSa1eya','WRNdOCoRW5O','W58nWQSf','g8kYsCkz','q8k1kSoRc8oC','CWZcMSkWWOy','WPPoma','trldPfT3ACoD','WP7dVZ8i','d8oRDd/cGba9muG/','mSkSWOe4ia','odJdJbSX','WQX+BSkkwG','W6ldQmkpjSo/W4JcKmoUW7rF','nbRcUse','WQPsv8kxW7CD','W5CVW7PgWRS','W5VcVLXTW7vhuSoUW7RcLa','BJSyWPjA','W7bVmCkJWPzVW6RcVq','WRDmsCk/Eq','W4K0W75NWRBcKb7dQq','W6hcI8kbW70','WOBdOJe','hmkAWRSzhgqc','odnXvColW4dcJSkn','W4ZKV4hMGP/LIjf3','WOKhymoNjG','W6xcGComWQJcQW','hdH3tCo0','W6vEWRfPWQfhwMW','FI8SpCocWQldQrKwdW','ic9h','WRfsDmkNW7e','W5VcPmoVWPq','W6LfWQ4','c8o4W6hcLmopdq','D8o5yCosaa','W6RcG1HnW44','WOxcTSkWbCk+W7/cLSoO','WPSQW69UWPZcHX7dQCkKcSkSWOVdKW','W5TinG','WR5+rmkDwG','nmk7WQuxhq','WQz7ox7cNcPvj2z7BvNdOSo+W78yg8kIWRdcPSoDW4HtW7LoheW','lJxdKruUgtP7W7FdLa','a1dcUG','W4/cMGNcKCkwcSoMW7i','W53cO1TYW6G','e8kgWPhcMW','pCo2W6RcP8ol','W4lcLr7cNa','WOddOJ8l','sH8qcWFdGG','WPRcVCkd','wHldQ8oslaOrW7ewW74qW78','W53cSJ1Ztq','WRxdGSk9W7FdQa','6zgY5OYd5zcg6z+Z55Mf5A+W56YO5B6M6Aoo5lQ4D+s+LowVH+EVSq','mZBdGISWaXO','W4VdVSo7xwKSWRzD','DSkbb8oThG','W7fFcSk4WOPHW6BcU8oa','6yk/6k2N6zos5OY2qmkT','WRNcISkSW5yR','WPTXlSoMW64','5RcP5P2D6i+75y+C5yUf6lA16l2k6zo25O6r','WPBdTSocW6G','bCoXpCkyWRq','fCkmWPBcKSkrCq','a8oPW6dcTCoS','W61Ufmk2WOHVW6a','fCkgWP8','bSoHDW','WPVdG8k4W6FdTW','W5bpW7butW','4P6XWRpMNPhOGABMRiFNOzxLPz/NKlqS','W4ddL1ddTCkw','nCooW6lcP8on','rri6WRnQW61p','6Ak55y2g5lIM6zUd','sWOyfXa','WRrLWR5QWQ/cVCkv','mGBcRxlcNHz9WORcVmkf','WR7dV8oDW7RcMq','WQRdNSoPW7Cf','WQFdJCkTW6ldHG','wCo3sCogfW','WP50w8kYW7C','WOrej8oUW53cQKu'],...(function(){return['uCkcW7mtWR4','WOxcRSk9hSkV','W6v1fSk/WOT0W4FcTColvq','hCojtsVcPG','amkiWOKAoG','fu7cSW','6ycm6k2r6zo25OY0W7VcHW','cuBcQCkIDeOKW7mCW6K','WRBdUJC','ACkzcmohemofW6qyFCkJW4tcSMHX','nJn9wmoAW4JcJW','W4VcNLH2W74','ysKBlGm','WPn8sSkYuq','iJTdumkNW5tcHq','WOJMI5JMIBpLIPxdRq','i8obsJpcTG','W789WRRdKmog','W6jGWRHgWQ0','8jsAHCkK','rWBdH1X5','W6f2iCkFWQu','WO3dOHOOWQWDtCoSW5/cTSkczG','W6JdKSouDNq','bmowpSkpWQe8jbn6rmoOEG','W6VdQ0Gr','WRfyt8k/tmo/zCol','W5ZdV8oOsM8n','6yoR6kYX56o9WOm9','WPhcU8k/iSkA','EqDGjmkr','aKVcNmk0sW','W6JdH8k4WQfZ','heBcUCoxkGC3W7mwW78','6zcT5OYU5zoL6z+p55I05A6j56+85B6c6AoZ5lUurEs+UEwTLoESVq','W77cPJpcKmkz','W68XoeBcMIfpzMDQBKJdU8o+','W7OXkdZdHh55FuzY','W5fEW7jzvae','W4eVW6LJWQZcHJJdTCkZbG','xsfNeCkO','vmk6mG','jJL2aSkoWPhcVSkwWOVcHW','wEISNUAYUUwNHoI3GdNINA7cOoAxG+wsO+w5JEAuTUAmVa','WQPVWQG','osfKySk5W5ZcJb4','W7pcUaTi','xCkeW6mqWPy','WPpcVmks','W6ddG2BdTSk1W48','5Rsq5yUv5BA/5lMPiW','amkFWQm2ba','W7NcQCkTWOZdPmoOWOK6kL3dTHe','WOb4pCofW5C','x8kbW43cHSkrja','uEE4JUADV++/U+s7SEAUJUAuOoEcLUAFUUwqSSo2','oaBdQZac','6yoZ6kYy56oozva','h8oWW7C','F8kRW54mWOu','tHpdQva','WRpdLHhcUmo4','W7ZcR8kUWO3dOCoLW74+dfldHaBcSG','mG5ACmo+','hmoDW7mUWRtdLCo6WOaoB8o/tCkyW5/dR8oDWR/cQSosBCkNWPSv','W6BcJCkAW7NcTCkJFmkUW60','qHmPWOj7W49m','WOpdICofrwGAW7K','gulcTmkvt1y5W7K','yZRdUfLF','WRRdLCodW7W0','wq8afGVdLCkYW7LoW5K','usJcUCkaWPZdPa','imoCjmk4WQS9o1DlA8o5CWdcNq','WPJcTSkbW6yun8k2WPBcRuGJwhtdV8ofya','vdJdMhrB','WOtdJW8DW6W','gu19W5C','WRzcsSky','WOroiSoSW5G','W4pcJfO','WQ81CCo+eW','WQFcU8ksW50u','W4FcPa7cMSkv','DCkkAq','W6xdOSkOF8oUW47cKCoI','W77dG2ZcP8oWWP9rfSohW64','W4u0W6S','kSoyjmkyWQW','W5tcKrRcKCkcdCoM','FX49kqu','W4pdL2ldHmkP','W7mZW7WQW7ZdUSkYhmkkW77dGmoy','s8owASoCda','WONcTwrxW6y','omkJWOJcLf7dL8oXW5ilWOK','wSoCxSouia','WPVdMWa','W5pdLSkCWOne','gbBcImkoWPFdQ8o/','WQRNQBtLHQZLJQldRW','5RA35yIo5BE65lIFW6e','W47cKqVcMCkghmoW','W6xcLSky','6zkZ5O+R5Asg6lsZ','bCkVsCkA','W7OXpgBcLcvd','xGaWdYW','CCkRgq3cOmk5f8kE','W4O+WRbPWQlcLH7dTSk/vG','WORdNCop','5PEs6zsA5QwD','FSkHpIJcHa','W6FdKCkC','xbmhhqVdKSkFW6i','W6T1fSkrWOHNW6m','WPnTjCofW6y','g8o6waBcUq','eEkDIgq','W7avW6XyWOK','gY14yCox','WPhcVmkc','W6BdN8kpWPjc','nmojpmksWRa','qqvWaSkvW6hcRa','WOr5eCoMW4G','nZrZrSo+W50','s0VdSfxcN8kXW71tWRGZ','nIddLWqWufe1W6ldHCkFW6LUFJeRWQXGWQtcNtlcOxxdJq','W407W6LOWQS','W7VcNmknW7tcICkHEmkNW6jHWQxcQmotEmoiBv3cRCk3WPGq','xmo/smo2','xmk1mmoSda','WQXtzG','W6pcTIPzwSkIcrJcJ8k9W6m','imkkWRTYm2Oke1mM','WQPLWQf4WR7cPG','kc3cMcVdGq','WPqaqmkPvSowsb9iba','WPnpiq'];}())];}())];}());Iii11l=function(){return IIiiIi;};return Iii11l();};async function taskFnc(Ii1ili,iI1Ii1){const IliiI=l11iII,Ii1ill={'pDXJT':function(l1i1I1,llIIil){return l1i1I1<=llIIil;},'EYoKz':function(llIIii,Ii1I1i){return llIIii-Ii1I1i;},'lySQp':function(llIIlI,Ii1I1l){return llIIlI+Ii1I1l;},'QxCFF':function(IIlIl,ili11l){return IIlIl-ili11l;},'zZFcJ':function(Iiilll,Iiilli){return Iiilll<<Iiilli;},'CKLeX':function(IIlIi,ili11i){return IIlIi&ili11i;},'PEMTu':IliiI(0x2e0,'@EZU'),'MDszl':IliiI(0x1ff,'Wh4O'),'BirmJ':function(iiIi1l,li11I){return iiIi1l!==li11I;},'Xhgrn':IliiI(0x2bc,'kPHl'),'EIfIh':IliiI(0x2c6,'U5A8'),'PDNYx':'headers','CKBSu':'kBXBz','aPdgv':IliiI(0x2b2,'V4l)'),'GFxgP':function(lliiII,iiIi1i){return lliiII==iiIi1i;},'lkFuG':function(liI1ll,ll1II){return liI1ll(ll1II);},'evCHA':IliiI(0x34b,'A6&o'),'RRqPT':IliiI(0x336,'bEgk'),'nBYxk':function(IllIii,liI1li){return IllIii+liI1li;},'WjdUh':IliiI(0x258,'kvnI'),'tFFOv':function(IllIil,ill1Ii){return IllIil===ill1Ii;},'xWNWB':'tOguC','lhAUP':IliiI(0x20d,'3VeS'),'PtKZm':'123','rGppS':function(llIIl1,ill1Il){return llIIl1(ill1Il);},'abAMo':function(i1lll1,Ii1I1I){return i1lll1(Ii1I1I);},'sgFEJ':function(l1i1Ii,l1iI1){return l1i1Ii+l1iI1;},'KOJOY':IliiI(0x312,'iuL%'),'mQFGY':function(lliiI1,IiiI1){return lliiI1+IiiI1;},'uSqPt':'abcdef0123456789','obDxA':IliiI(0x2ca,'RU!L'),'GZNCS':IliiI(0x2cd,'@EZU'),'KutAv':IliiI(0x322,'U5A8'),'GTjHm':IliiI(0x24c,'Wh4O'),'xvMzG':function(lilII,IIIiI){return lilII==IIIiI;},'XPfxn':IliiI(0x318,'RU!L'),'sOqkd':function(iii1i1,IllIll){return iii1i1>IllIll;},'qZfmp':function(i1lllI,llIIi1){return i1lllI>llIIi1;},'CgLex':IliiI(0x274,'qw&G'),'zRChk':IliiI(0x2ab,'B6a4'),'fRHDA':'shareUnionCoupon','vmCEu':IliiI(0x234,'U5A8'),'qytMi':IliiI(0x2b1,'rQI$'),'POqSJ':function(iI1IlI,l1i1Il){return iI1IlI*l1i1Il;},'HHSJG':'POST','YGvIM':IliiI(0x20a,'(1Ni'),'TTGBo':IliiI(0x283,'XLz2'),'cyCPY':'jxhongbao_ck','eLrGZ':IliiI(0x33e,'t2hX'),'xGbVB':IliiI(0x222,'WhBA'),'fzDqH':'4.7','oveJK':function(ill1I1,l1i1II){return ill1I1*l1i1II;},'bhFzI':IliiI(0x1c4,'aEIJ'),'FrHVM':'*/*','kHhzr':function(ili111,Ii1I11){return ili111+Ii1I11;},'rXFdt':IliiI(0x2c7,'$fPI'),'MYXVX':'https://pro.m.jd.com','siMLd':function(IllIli,ii1Ii){return IllIli<ii1Ii;},'vYjGk':IliiI(0x285,'kPHl'),'fAdWW':'TIvkX','hqoiC':'YNzqa','cnhSu':function(ii1Il,l1iII,iI1Ill){return ii1Il(l1iII,iI1Ill);},'BHmcp':function(lilI1,IIIi1){return lilI1>=IIIi1;},'ZMels':'pt_pin','cpuIc':function(i1llli,i1llll){return i1llli(i1llll);},'GUCbz':function(iI1Ili,llIIiI){return iI1Ili===llIIiI;},'hNQon':'xaWOv','JkBZg':function(iI1111){return iI1111();},'HiMAz':function(IIIl1,ii1ii){return IIIl1(ii1ii);},'JgaSa':function(Iii1,I1I1lI,ii1il,l1iIlI){return Iii1(I1I1lI,ii1il,l1iIlI);},'IPUat':IliiI(0x32b,'qw&G'),'uGMWI':IliiI(0x217,'gBns')};if($['runEnd'])return{'runEnd':!![]};const llIlI1=decodeURIComponent(common[IliiI(0x307,'iuL%')](Ii1ili,Ii1ill['ZMels']));function iI1IiI(iI111I,IIIlI1){const lI111i=IliiI;if(Ii1ill[lI111i(0x309,'LZfP')](iI111I[lI111i(0x346,')aky')],0x4))return iI111I;else{const i1lIiI=iI111I['slice'](0x0,0x2),IiiIl=iI111I['slice'](-0x2),ii1l1l=Math['max'](Ii1ill['EYoKz'](IIIlI1-i1lIiI['length'],IiiIl[lI111i(0x1eb,'WhBA')]),0x0),l1lli1='*'[lI111i(0x367,'q4$r')](ii1l1l);return Ii1ill['lySQp'](i1lIiI,l1lli1)+IiiIl;}}const IIlI1=Ii1ill[IliiI(0x2be,'XApg')](decodeURIComponent,llIlI1),i1iIli=iI1IiI(IIlI1,0x6),i1iIll=IliiI(0x263,'Xsvu')+iI1Ii1+'】'+i1iIli+'：',i1lliI=notify[IliiI(0x259,'uDgE')](iI1Ii1,llIlI1);if(pinFilter[IliiI(0x273,'kPHl')]>0x0&&(pinFilter['includes'](llIlI1)||pinFilter[IliiI(0x257,'3VeS')](encodeURIComponent(llIlI1)))){i1lliI[IliiI(0x2f8,'V4l)')]('已设置跳过运行当前账号'),console['log'](i1lliI['getInlineContent']()),$[IliiI(0x22d,'(1Ni')][IliiI(0x1f8,'loSp')](iI1Ii1);return;}const liI1l1=await common[IliiI(0x2e2,'9#45')](Ii1ili);if(!liI1l1&&Ii1ill[IliiI(0x2ba,'@EZU')](typeof liI1l1,IliiI(0x2c8,'bEgk'))){if(Ii1ill[IliiI(0x2a1,'$fPI')](IliiI(0x1db,'A6&o'),Ii1ill[IliiI(0x347,'k7rI')]))llIlll['log'](lliii1+IliiI(0x2a6,'9#45')),Iiii1=!![];else{console['log'](i1iIll+IliiI(0x22c,'PEg5')),$['needRemoveCookieIndex']['push'](iI1Ii1);return;}}let IllIlI=![],IiillI=$[IliiI(0x2b7,'k7rI')],ili11I,li11l,lliiIl;const li11i=common[IliiI(0x236,'*X04')](llIlI1),lliiIi='Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2016_1_2\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/16.1\x20Mobile/15E148\x20Safari/604.1',iiIi1I=ii1l1i=>ii1l1i[IliiI(0x2cf,'kMll')]('')[IliiI(0x299,'RU!L')]((l1iIl1,ii1iI)=>{const I1lIII=IliiI;return l1iIl1=Ii1ill['QxCFF'](Ii1ill['zZFcJ'](l1iIl1,0x5),l1iIl1)+ii1iI[I1lIII(0x1d4,'kPHl')](0x0),Ii1ill[I1lIII(0x1fa,'WhBA')](l1iIl1,l1iIl1);},0x0),IllIl1=[...new Set(redshareId)];if(IllIl1['length']>0x0)ili11I=IllIl1[Math[IliiI(0x360,'oAGO')](Math[IliiI(0x306,'A6&o')]()*IllIl1['length'])];else{if('PofTf'===IliiI(0x229,'*X04')){if(iIIl1l['split']('/')[IliiI(0x325,'Wh4O')]()){Iliil1=i1III['split']('/')['pop']()['split']('?')['shift']();if(Ii1iIi[IliiI(0x2a9,'%]!E')]!==0x7){Ii1iIl['log'](Ii1ill[IliiI(0x269,'A6&o')]);return;}}else{iliIIi['log'](Ii1ill['MDszl']);return;}}else ili11I='';}for(let IIIii=0x0;IIIii<maxdraw;IIIii++){if(Ii1ill[IliiI(0x31b,'aEIJ')](IliiI(0x29d,'@EZU'),'cSySS'))lilIil[IliiI(0x1c9,'gBns')]('⚠\x20自定义运行间隔时长设置错误');else{let I1I1l1=Ii1ill[IliiI(0x29c,'Hmh&')](iiIi11);li11l='__jda='+I1I1l1['jda']+IliiI(0x321,'A6&o')+I1I1l1['jdb']+IliiI(0x301,'Xsvu')+I1I1l1[IliiI(0x31f,'U5A8')]+IliiI(0x35c,'WhBA')+I1I1l1[IliiI(0x22a,'oAGO')]+IliiI(0x221,'oAGO')+I1I1l1[IliiI(0x364,'kPHl')]+';mba_sid='+I1I1l1[IliiI(0x29f,'t2hX')]+IliiI(0x1c0,'loSp')+I1I1l1[IliiI(0x32a,'oAGO')]+IliiI(0x1e8,'LZfP')+I1I1l1['pre_seq']+IliiI(0x28c,'qw&G')+I1I1l1[IliiI(0x1e2,'qw&G')]+';',ss=await ll1Ii($['red618_url']);if(ss){let i1lIii=ss?.[IliiI(0x33f,'qw&G')](/(https:\/\/u\.jd\.com\/jda[^']+)/);i1lIii?($[IliiI(0x287,'(1Ni')]=i1lIii[0x1],await Ii1ill[IliiI(0x289,'aEIJ')](ll1Il,i1lIii[0x1])):(console[IliiI(0x1d7,'XLz2')](i1iIll+'没有获取到跳转链接'),IllIlI=!![]);}else console[IliiI(0x1d8,'lS^G')](i1iIll+IliiI(0x326,'kvnI')),IllIlI=!![];let iI111l=await Ii1ill[IliiI(0x2dc,'XLz2')](jsTk,li11i,'https://pro.m.jd.com/mall/active/'+actId+'/index.html',{'bizId':Ii1ill[IliiI(0x30f,'q4$r')],'v':Ii1ill[IliiI(0x2c1,'U%$c')],'qs':IliiI(0x24e,'cJet')});lliiIl=iI111l['jsToken'],await i1llii(IliiI(0x33d,'R(N&'));if(IllIlI||$['runEnd'])break;if($[IliiI(0x2d8,'WhBA')])await $['wait']($[IliiI(0x20e,'kPHl')]);}}await i1llii(Ii1ill[IliiI(0x2fd,'bEgk')]);if($[IliiI(0x218,'R(N&')])return{'runEnd':!![]};if($[IliiI(0x302,'[@c1')])await $[IliiI(0x241,'B6a4')]($[IliiI(0x260,'e70D')]);async function ll1Ii(III11i){const liIlll=IliiI,i1lIil={'VuAKJ':function(III11l,llIl1i){return III11l==llIl1i;},'FYYyQ':function(llIl1l,IiiII){return llIl1l+IiiII;}};if(Ii1ill[liIlll(0x2fb,'U5A8')](Ii1ill[liIlll(0x320,'M^[@')],Ii1ill[liIlll(0x310,'#5U8')])){let IIIli=iiilll[liIlll(0x219,'lS^G')](';')[0x0][liIlll(0x26c,'cJet')]();if(IIIli[liIlll(0x2b5,'RU!L')]('=')[0x1]){if(i1lIil[liIlll(0x1ce,'bEgk')](l11i11[liIlll(0x242,'BnUl')](IIIli[liIlll(0x1c5,'Wh4O')]('=')[0x1]),-0x1))IilIl1+=i1lIil[liIlll(0x2a4,'#5U8')](IIIli['replace'](/ /g,''),';\x20');}}else{const ii1i1=await common[liIlll(0x33a,'XLz2')]({'url':III11i,'method':Ii1ill[liIlll(0x34f,'WhBA')],'headers':{'Cookie':Ii1ili,'User-Agent':lliiIi},'proxy':null,'debug':![],'timeout':0x7530}),Iiii=ii1i1[liIlll(0x1e5,'Wh4O')];let llIl11=ii1i1&&ii1i1[liIlll(0x21b,'e70D')]&&(ii1i1[Ii1ill[liIlll(0x2d5,'Xsvu')]][liIlll(0x271,'gBns')]||ii1i1[liIlll(0x238,'V4l)')][liIlll(0x31d,'BnUl')]||'')||'';if(llIl11)for(let IIIll of llIl11){if(Ii1ill[liIlll(0x1c3,'BnUl')]!==Ii1ill[liIlll(0x311,'lS^G')]){let I1I1il=IIIll[liIlll(0x2cf,'kMll')](';')[0x0][liIlll(0x1cd,'(1Ni')]();if(I1I1il[liIlll(0x1ee,'*X04')]('=')[0x1]){if(Ii1ill[liIlll(0x304,'PEg5')](li11l[liIlll(0x26b,'LZfP')](I1I1il[liIlll(0x2af,'@UPB')]('=')[0x1]),-0x1))li11l+=I1I1il['replace'](/ /g,'')+';\x20';}}else return IIIl1I;}return Iiii;}}async function ll1Il(liII1){const I1iI1I=IliiI;if(Ii1ill[I1iI1I(0x243,'@UPB')](Ii1ill[I1iI1I(0x28a,'uDgE')],I1iI1I(0x319,'rQI$')))ill11i+=lllill;else{const l1llil=await common[I1iI1I(0x2b6,')aky')]({'url':liII1+(I1iI1I(0x2f4,'%]!E')+iiIi1I(lliiIi)),'maxRedirects':0x0,'method':'GET','headers':{'Cookie':Ii1ill['nBYxk'](li11l+'\x20',Ii1ili),'User-Agent':lliiIi,'Referer':$[I1iI1I(0x2e3,'9#45')]},'proxy':null,'debug':![],'timeout':0x7530});let IIIlIi=l1llil[I1iI1I(0x1fd,'Wh4O')];if(IIIlIi?.['location']){let i1lIl1=IIIlIi[I1iI1I(0x27d,'bEgk')];actId=i1lIl1[I1iI1I(0x342,'$fPI')](/\/active\/(\w+)\/index/)?.[0x1],Referer=i1lIl1;}let llIl1I=l1llil&&l1llil[I1iI1I(0x1f9,'rQI$')]&&(l1llil[Ii1ill[I1iI1I(0x280,'Sm1[')]][Ii1ill['WjdUh']]||l1llil[I1iI1I(0x324,'lS^G')][I1iI1I(0x345,'loSp')]||'')||'';if(llIl1I){if(Ii1ill[I1iI1I(0x361,'iuL%')]('xJOul',Ii1ill[I1iI1I(0x35d,'Tvtf')]))Iii11I['authorCode']=Ii1ill['lkFuG'](Iil1II,Ii1ill[I1iI1I(0x2d3,'B6a4')]);else for(let IIIlIl of llIl1I){if(Ii1ill[I1iI1I(0x2dd,'[@c1')]!==Ii1ill[I1iI1I(0x232,'A6&o')]){let IiiI=liIi1[I1iI1I(0x2f1,'loSp')](';')[0x0][I1iI1I(0x327,'e70D')]();if(IiiI[I1iI1I(0x240,'bEgk')]('=')[0x1]){if(Ii1ill[I1iI1I(0x303,'LZfP')](llIIll['indexOf'](IiiI[I1iI1I(0x1c5,'Wh4O')]('=')[0x1]),-0x1))IillIi+=IiiI[I1iI1I(0x2bd,'3VeS')](/ /g,'')+';\x20';}}else{let iIi1i=IIIlIl['split'](';')[0x0][I1iI1I(0x24b,'lS^G')]();if(iIi1i['split']('=')[0x1]){if(li11l['indexOf'](iIi1i[I1iI1I(0x231,'U5A8')]('=')[0x1])==-0x1)li11l+=iIi1i[I1iI1I(0x317,'lS^G')](/ /g,'')+';\x20';}}}}return li11l;}}function iiIi11(){const illll1=IliiI;let l1iIll=Ii1ill[illll1(0x224,'uDgE')],l1iIli='1',iIi1l=parseInt(Date[illll1(0x1cf,'rQI$')]()/0x3e8)['toString'](),i1lIlI=Ii1ill[illll1(0x30a,'cJet')](iIi1l,Ii1ill['rGppS'](parseInt,0x7fffffff*Math['random']())['toString']()),l1lliI=[l1iIll,i1lIlI,iIi1l,iIi1l,iIi1l,l1iIli][illll1(0x1c7,'Wh4O')]('.'),I1I1iI=[l1iIll,l1iIli,[i1lIlI,l1iIli]['join']('|'),iIi1l]['join']('.'),IIIlII=l1iIll,iiIiI1=[l1iIll,illll1(0x2d9,'Xsvu'),'-',illll1(0x35b,'uDgE'),'-',Date[illll1(0x337,'#5U8')]()['toString']()]['join']('|');iiIiI1=Ii1ill[illll1(0x351,'n[j1')](encodeURIComponent,iiIiI1);let ili1Il=Ii1ill[illll1(0x34e,'n[j1')](Ii1ill[illll1(0x1f0,'%]!E')](ill1II,illll1(0x21a,'gBns'))+'-',iIi1l),ili1Ii=Ii1ill[illll1(0x2ce,'U%$c')],Iilll1=[ili1Ii,l1iIli][illll1(0x295,'%]!E')]('.'),ll11I=[i1lIlI,ili1Ii,Date['now']()[illll1(0x277,'B6a4')]()][illll1(0x2fa,'LZfP')]('.'),iIi1I=Ii1ill[illll1(0x2b8,'Tvtf')](Math[illll1(0x208,'XApg')](0x5*Math[illll1(0x1f5,'Sm1[')]())*0x2,0x1)['toString'](),liIIl=Ii1ill['mQFGY'](common['genRandomString'](0x20,Ii1ill[illll1(0x1e1,'XLz2')]),illll1(0x266,'@UPB'));return{'jda':l1lliI,'jdb':I1I1iI,'jdc':IIIlII,'jdv':iiIiI1,'shshshfpa':ili1Il,'mba_sid':Iilll1,'mba_muid':ll11I,'pre_seq':iIi1I,'pre_session':liIIl};}function ill1II(IlI1lI,liIIi=IliiI(0x1f7,'uDgE')){const IIIIl1=IliiI;let IilllI='';for(let iI1lIi of IlI1lI){if(iI1lIi=='x')IilllI+=liIIi[IIIIl1(0x33c,'bEgk')](Math['floor'](Math[IIIIl1(0x1c8,'*X04')]()*liIIi['length']));else Ii1ill[IIIIl1(0x303,'LZfP')](iI1lIi,'X')?IilllI+=liIIi['charAt'](Math['floor'](Math['random']()*liIIi['length']))[IIIIl1(0x344,'Hmh&')]():Ii1ill[IIIIl1(0x264,'Hmh&')](Ii1ill[IIIIl1(0x27f,'q4$r')],IIIIl1(0x2b9,'PEg5'))?IilllI+=iI1lIi:lI1IiI['waitTime']=i1lI;}return IilllI;}async function i1llil(llliIi,i1lIli){const liiilI=IliiI,i1lIll={'IGbCD':Ii1ill['GZNCS'],'ruVca':Ii1ill[liiilI(0x256,'LZfP')],'FfAnu':liiilI(0x352,'aEIJ')};try{switch(llliIi){case Ii1ill[liiilI(0x28f,'loSp')]:if(Ii1ill['xvMzG'](i1lIli[liiilI(0x341,'aEIJ')],0x0)){if(Ii1ill['tFFOv'](Ii1ill[liiilI(0x1c6,'loSp')],liiilI(0x296,'V4l)'))){Iil1I1['log'](Ii1ill[liiilI(0x25d,'kvnI')]);return;}else{let liIlii=i1lIli?.['data']?.[liiilI(0x275,'uDgE')]||[],llii1l=[];for(let llii1i of liIlii){let ll11il='';switch(llii1i[liiilI(0x204,'kPHl')]){case 0x1:case 0x13:{ll11il=prize_map[llii1i['type']]+(llii1i[liiilI(0x282,'(1Ni')]+'元');break;}case 0x3:case 0x11:{ll11il=prize_map[llii1i[liiilI(0x272,'k7rI')]]+llii1i['limitStr'];let iI1lIl=Ii1ill[liiilI(0x2c9,'uDgE')](llii1i[liiilI(0x278,'WhBA')],0x0)?'满'+llii1i[liiilI(0x1f4,'e70D')]:'无门槛';ll11il+='('+iI1lIl+'减'+llii1i[liiilI(0x356,'3VeS')]+')';break;}case 0x6:{ll11il=Ii1ill[liiilI(0x2c2,'loSp')](prize_map[llii1i['type']],llii1i['limitStr']);let iiIiII=Ii1ill['qZfmp'](llii1i['quota'],0x0)?'满'+llii1i['quota']:liiilI(0x32d,'XApg');ll11il+='('+iiIiII+'打'+llii1i[liiilI(0x330,'RU!L')]+'折)';break;}default:{if(Ii1ill[liiilI(0x1e7,'HSEn')]!==Ii1ill['CgLex'])lIli1I[liiilI(0x22e,'t2hX')](II1il),lllI11&&(I1lIli[liiilI(0x2cc,'kvnI')]=!![]);else{ll11il=prize_map[llii1i[liiilI(0x1d3,'oAGO')]||Ii1ill['zRChk']]||'[未知类型'+llii1i[liiilI(0x265,'Tvtf')]+']',console['log'](''+i1iIll+JSON[liiilI(0x2ff,'Wh4O')](llii1i));break;}}}llii1l['push'](ll11il);}console[liiilI(0x27b,'cJet')](''+i1iIll+llii1l[liiilI(0x1dd,'n[j1')](',\x20'));let liIlil=llii1l[liiilI(0x1fb,'V4l)')](iIi11=>{const lI111l=liiilI;if(iIi11[lI111l(0x279,'qw&G')](lI111l(0x27e,'Hmh&'))||iIi11['includes'](i1lIll[lI111l(0x355,'e70D')])||iIi11[lI111l(0x24d,'Tvtf')](i1lIll['ruVca'])){if(i1lIll['FfAnu']==='qcahC')I1llil[lI111l(0x305,'RU!L')]=I1llii[lilIll(0x0,l1i111[lI111l(0x2ef,'rQI$')])];else return'';}else return iIi11;})[liiilI(0x220,'rQI$')](Boolean);i1lliI[liiilI(0x261,'qw&G')](liIlil['join'](',\x20'));}}else{console['log'](''+i1iIll+i1lIli['msg']+'['+i1lIli[liiilI(0x262,'[@c1')]+']');if(i1lIli[liiilI(0x292,'[@c1')]?.[liiilI(0x293,'lS^G')](liiilI(0x2b4,'aEIJ'))){if(Ii1ill['tFFOv'](liiilI(0x1d2,'BnUl'),liiilI(0x2d2,'LZfP'))){i1ilii['log'](liiilI(0x323,'rQI$')+iIIII1+liiilI(0x2f5,'e70D'));return;}else IllIlI=!![];}}break;case Ii1ill[liiilI(0x2f6,'t2hX')]:if(i1lIli[liiilI(0x202,'iuL%')]==0x0){let llliI1=i1lIli[liiilI(0x297,'lS^G')][liiilI(0x2a0,'Xsvu')][liiilI(0x338,'M^[@')](/\?s=([^&]+)/)&&i1lIli[liiilI(0x1d5,'XLz2')][liiilI(0x28b,'HSEn')][liiilI(0x316,'iuL%')](/\?s=([^&]+)/)[0x1]||'';console[liiilI(0x1d7,'XLz2')](i1iIll+'分享码:\x20'+llliI1);}else console[liiilI(0x2ea,')aky')](''+i1iIll+i1lIli[liiilI(0x1ec,'bEgk')]),i1lIli[liiilI(0x205,'WhBA')]?.['includes']('领取上限')&&(IllIlI=!![]);break;}}catch(liIII){Ii1ill['vmCEu']===Ii1ill[liiilI(0x200,'Tvtf')]?II11II=Ii1iI1:console[liiilI(0x2ac,'%]!E')](liiilI(0x2b0,'PEg5')+llliIi+liiilI(0x201,'k7rI')+(liIII[liiilI(0x23f,'lS^G')]||liIII));}}async function i1llii(Iillli){const liiii1=IliiI;if($[liiii1(0x228,'n[j1')])return;let ll11l1='',ll111=null,llliII=null,iiIiIl=Ii1ill[liiii1(0x2ae,'@EZU')],IlI1l1={},liIliI={};switch(Iillli){case liiii1(0x26d,'U%$c'):liIliI={'appId':liiii1(0x31c,'cJet'),'functionId':liiii1(0x2c5,'[@c1'),'appid':liiii1(0x2a2,'B6a4'),'clientVersion':common['getLatestAppVersion'](),'client':Ii1ill[liiii1(0x253,'Xsvu')],'body':{'platform':0x4,'unionActId':0x79c9,'actId':actId,'d':IiillI,'unionShareId':ili11I,'type':0x1,'qdPageId':Ii1ill[liiii1(0x1c2,'%]!E')],'mdClickId':Ii1ill[liiii1(0x2de,'M^[@')],'actType':0x1},'version':'4.7','ua':li11i,'t':!![]},IlI1l1=await H5st['getH5st'](liIliI),ll11l1=Ii1ill[liiii1(0x31e,'aEIJ')],ll111=IlI1l1[liiii1(0x1fe,'qw&G')];break;case Ii1ill[liiii1(0x206,'Sm1[')]:liIliI={'appId':Ii1ill[liiii1(0x28e,'WhBA')],'functionId':'shareUnionCoupon','appid':liiii1(0x248,'XLz2'),'clientVersion':common['getLatestAppVersion'](),'client':'apple','body':{'platform':0x4,'unionActId':0x79c9,'actId':actId,'d':IiillI,'unionShareId':'','supportPic':0x2},'version':Ii1ill[liiii1(0x329,'RU!L')],'ua':li11i,'t':!![]},IlI1l1=await H5st['getH5st'](liIliI),ll11l1=Ii1ill[liiii1(0x332,'3VeS')],ll111=IlI1l1[liiii1(0x291,'t2hX')];break;default:console[liiii1(0x27b,'cJet')](liiii1(0x1ca,'kMll')+Iillli);return;}const llii1I={'x-api-eid-token':lliiIl,'loginType':0x2,'_':new Date()[liiii1(0x354,'[@c1')]()+new Date()[liiii1(0x227,'kMll')]()*0x3c*0x3e8+Ii1ill[liiii1(0x2ed,'XApg')](0x8*0x3c,0x3c)*0x3e8};if(ll111){if(liiii1(0x207,'PEg5')!==liiii1(0x233,'*X04')){ll1l1[liiii1(0x32f,'M^[@')](IllIIi+liiii1(0x237,'rQI$')),IllIIl['needRemoveCookieIndex'][liiii1(0x23c,'B6a4')](IiiIi1);return;}else ll111={...ll111,...llii1I};}llliII&&(Ii1ill['bhFzI']===Ii1ill[liiii1(0x32e,'oAGO')]?llliII={...llliII,...llii1I}:illIii={...ii1il1,...lI1llI});const iiIiIi={'url':ll11l1,'method':iiIiIl,'headers':{'accept':Ii1ill[liiii1(0x239,'$fPI')],'Accept-Language':'zh-cn','Content-Type':'application/x-www-form-urlencoded;charset=utf-8','Cookie':Ii1ill['nBYxk'](Ii1ill['kHhzr'](li11l,'\x20'),Ii1ili),'X-Requested-With':Ii1ill[liiii1(0x33b,'3VeS')],'Referer':Referer,'Origin':Ii1ill[liiii1(0x2f9,'XApg')],'x-rp-client':'h5_1.0.0','User-Agent':li11i},'params':llliII,'data':ll111,'timeout':0x7530};iiIiIl==='GET'&&(delete iiIiIi[liiii1(0x357,'cJet')],delete iiIiIi[liiii1(0x215,'k7rI')][liiii1(0x2d6,'iuL%')]);const l1lll1=0x1;let IilI=0x0,liIlli=null,lil11=![];while(Ii1ill[liiii1(0x1e4,'qw&G')](IilI,l1lll1)){if(liiii1(0x1ef,'%]!E')===Ii1ill[liiii1(0x2f3,'3VeS')]){const III11I=await common[liiii1(0x21e,'kvnI')](iiIiIi);if(!III11I[liiii1(0x1ea,'PEg5')]){if('TIvkX'===Ii1ill['fAdWW']){liIlli=liiii1(0x2d1,'R(N&')+Iillli+'\x20请求失败\x20➜\x20'+III11I[liiii1(0x294,'uDgE')],IilI++;continue;}else ilil1l+=illlIi['charAt'](I1lIii[liiii1(0x26f,'t2hX')](Ii1ill[liiii1(0x335,'qw&G')](IiI1I[liiii1(0x2e4,'@UPB')](),illlIl['length'])));}if(!III11I[liiii1(0x1d5,'XLz2')]){if(Ii1ill[liiii1(0x23d,'B6a4')](Ii1ill[liiii1(0x35a,'rQI$')],'YNzqa'))IliilI[liiii1(0x1cc,'U%$c')](liiii1(0x2a3,'aEIJ')+i1II1[liiii1(0x2e8,'bEgk')]),iIIl11[liiii1(0x1d8,'lS^G')](liiii1(0x2da,'BnUl')+l1l1I1[liiii1(0x348,'q4$r')]);else{liIlli=liiii1(0x230,'A6&o')+Iillli+liiii1(0x2e9,'%]!E'),IilI++;continue;}}Ii1ill['cnhSu'](i1llil,Iillli,III11I[liiii1(0x1dc,'q4$r')]),lil11=![];break;}else{let Iill=lIII1I[liiii1(0x255,'WhBA')];illIlI=Iill[liiii1(0x33f,'qw&G')](/\/active\/(\w+)\/index/)?.[0x1],liIiI=Iill;}}Ii1ill[liiii1(0x2a8,'iuL%')](IilI,l1lll1)&&(console[liiii1(0x1f2,'WhBA')](liIlli),lil11&&($[liiii1(0x27c,'loSp')]=!![]));}}async function getAuthorCodeList(ili1II){const IIiiIl=l11iII,liIllI={'okRoG':'Mozilla/5.0\x20(iPhone;\x20CPU\x20iPhone\x20OS\x2013_2_3\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Version/13.0.3\x20Mobile/15E148\x20Safari/604.1\x20Edg/87.0.4280.88'},ll11i=await common[IIiiIl(0x2b6,')aky')]({'url':ili1II,'method':IIiiIl(0x32c,'Tvtf'),'headers':{'User-Agent':liIllI[IIiiIl(0x250,'U%$c')]},'proxy':null,'debug':![],'timeout':0x7530}),iI1lI1=ll11i[IIiiIl(0x2ec,'Hmh&')];return iI1lI1;}function random(I1I1li,l1i11){const l1ilIl=l11iII,IlI1li={'EFUuY':function(IlI1ll,ll11l){return IlI1ll+ll11l;},'UElyI':function(III111,liIll1){return III111-liIll1;}};return IlI1li[l1ilIl(0x276,'n[j1')](Math['floor'](Math[l1ilIl(0x268,'$fPI')]()*IlI1li[l1ilIl(0x2cb,'WhBA')](l1i11,I1I1li)),I1I1li);}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
