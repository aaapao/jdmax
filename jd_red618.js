/*
活动名称：红包618
环境变量：jd_red618_url // 活动链接
        jd_red618_ids // 分享码，多个用英文逗号，@，换行分割（一般是链接后面的s=xxx参数，5个字符）
        jd_red618_threads // 控制并发线程数（正整数），默认1，最大5，尽量使用默认值，否则请开启代理运行
        jd_red618_interval // 自定义运行间隔时长（整数，单位毫秒），默认2000
        jd_red618_notify // 是否推送通知（true/false），默认不推送
        jd_red618_pinFilter // 账号pin过滤，多个用@进行分割
        jd_red618_maxdraw // 开红包次数（正整数），默认3

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:59 59 11,20,23 * * *

*/

const $ = new Env('红包618')
var iｉl='jsjiami.com.v7';const i11iIi=iii1II;(function(lI111I,IlilI,llIi1,IliIII,II1l,liiiiI,II1i){return lI111I=lI111I>>0x2,liiiiI='hs',II1i='hs',function(illli1,I1lII1,Ill111,I1iI11,II11){const l11iIl=iii1II;I1iI11='tfi',liiiiI=I1iI11+liiiiI,II11='up',II1i+=II11,liiiiI=Ill111(liiiiI),II1i=Ill111(II1i),Ill111=0x0;const l1ilII=illli1();while(!![]&&--IliIII+I1lII1){try{I1iI11=-parseInt(l11iIl(0x2b1,'TBDw'))/0x1*(parseInt(l11iIl(0x1e0,'Bx7f'))/0x2)+-parseInt(l11iIl(0x26a,'P%l#'))/0x3*(parseInt(l11iIl(0x1d1,'ApoX'))/0x4)+-parseInt(l11iIl(0x37c,'oDfP'))/0x5*(-parseInt(l11iIl(0x226,'sA6y'))/0x6)+parseInt(l11iIl(0x204,'av%P'))/0x7*(parseInt(l11iIl(0x1e6,'vI$q'))/0x8)+parseInt(l11iIl(0x20d,'z0Cb'))/0x9*(-parseInt(l11iIl(0x367,'g(cA'))/0xa)+parseInt(l11iIl(0x1e8,'vI$q'))/0xb+-parseInt(l11iIl(0x2a5,'j!2*'))/0xc;}catch(ii1II1){I1iI11=Ill111;}finally{II11=l1ilII[liiiiI]();if(lI111I<=IliIII)Ill111?II1l?I1iI11=II11:II1l=II11:Ill111=II11;else{if(Ill111==II1l['replace'](/[PAnFgYRtrQBDkSUXdl=]/g,'')){if(I1iI11===I1lII1){l1ilII['un'+liiiiI](II11);break;}l1ilII[II1i](II11);}}}}}(llIi1,IlilI,function(iliIll,llliIl,iliIli,illliI,ii1III,i11iIl,ll11ll){return llliIl='\x73\x70\x6c\x69\x74',iliIll=arguments[0x0],iliIll=iliIll[llliIl](''),iliIli=`\x72\x65\x76\x65\x72\x73\x65`,iliIll=iliIll[iliIli]('\x76'),illliI=`\x6a\x6f\x69\x6e`,(0x16df12,iliIll[illliI](''));});}(0x2f8,0x62c36,Iii11l,0xc0),Iii11l)&&(iｉl=0x1a9a);function iii1II(_0x39716e,_0x439711){const _0x17ae63=Iii11l();return iii1II=function(_0x952288,_0x2694e){_0x952288=_0x952288-0x1cd;let _0x5e4afd=_0x17ae63[_0x952288];if(iii1II['SVtfKY']===undefined){var _0x286a9c=function(_0x4ad9e4){const _0x27b520='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2b2973='',_0x1451ba='';for(let _0x2895ea=0x0,_0x244a09,_0xbe9840,_0x15f116=0x0;_0xbe9840=_0x4ad9e4['charAt'](_0x15f116++);~_0xbe9840&&(_0x244a09=_0x2895ea%0x4?_0x244a09*0x40+_0xbe9840:_0xbe9840,_0x2895ea++%0x4)?_0x2b2973+=String['fromCharCode'](0xff&_0x244a09>>(-0x2*_0x2895ea&0x6)):0x0){_0xbe9840=_0x27b520['indexOf'](_0xbe9840);}for(let _0x36ffbf=0x0,_0x521206=_0x2b2973['length'];_0x36ffbf<_0x521206;_0x36ffbf++){_0x1451ba+='%'+('00'+_0x2b2973['charCodeAt'](_0x36ffbf)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1451ba);};const _0x23fb84=function(_0x37a04f,_0x148e53){let _0x7ad523=[],_0x43ecda=0x0,_0x6669b1,_0x3999b0='';_0x37a04f=_0x286a9c(_0x37a04f);let _0x5e3820;for(_0x5e3820=0x0;_0x5e3820<0x100;_0x5e3820++){_0x7ad523[_0x5e3820]=_0x5e3820;}for(_0x5e3820=0x0;_0x5e3820<0x100;_0x5e3820++){_0x43ecda=(_0x43ecda+_0x7ad523[_0x5e3820]+_0x148e53['charCodeAt'](_0x5e3820%_0x148e53['length']))%0x100,_0x6669b1=_0x7ad523[_0x5e3820],_0x7ad523[_0x5e3820]=_0x7ad523[_0x43ecda],_0x7ad523[_0x43ecda]=_0x6669b1;}_0x5e3820=0x0,_0x43ecda=0x0;for(let _0x35d67e=0x0;_0x35d67e<_0x37a04f['length'];_0x35d67e++){_0x5e3820=(_0x5e3820+0x1)%0x100,_0x43ecda=(_0x43ecda+_0x7ad523[_0x5e3820])%0x100,_0x6669b1=_0x7ad523[_0x5e3820],_0x7ad523[_0x5e3820]=_0x7ad523[_0x43ecda],_0x7ad523[_0x43ecda]=_0x6669b1,_0x3999b0+=String['fromCharCode'](_0x37a04f['charCodeAt'](_0x35d67e)^_0x7ad523[(_0x7ad523[_0x5e3820]+_0x7ad523[_0x43ecda])%0x100]);}return _0x3999b0;};iii1II['dRJxFz']=_0x23fb84,_0x39716e=arguments,iii1II['SVtfKY']=!![];}const _0x3a66e0=_0x17ae63[0x0],_0x1fd7f4=_0x952288+_0x3a66e0,_0x5dad6=_0x39716e[_0x1fd7f4];return!_0x5dad6?(iii1II['qWxlYv']===undefined&&(iii1II['qWxlYv']=!![]),_0x5e4afd=iii1II['dRJxFz'](_0x5e4afd,_0x2694e),_0x39716e[_0x1fd7f4]=_0x5e4afd):_0x5e4afd=_0x5dad6,_0x5e4afd;},iii1II(_0x39716e,_0x439711);}const jdCookie=require(i11iIi(0x354,'kLJ7')),common=require(i11iIi(0x34e,'kLJ7')),notify=require(i11iIi(0x352,'e!*g')),{H5st,jsTk}=require(i11iIi(0x2a3,'4hai'));let red618_url=process[i11iIi(0x337,'8WrW')]['jd_red618_url']||'',redshareId=(process['env']['jd_red618_ids']||'')[i11iIi(0x1e1,'j!2*')](/[,@\n]+/g)[i11iIi(0x202,'zbH2')](Ii1ii1=>Ii1ii1['trim']())[i11iIi(0x1dc,'cs0@')](Boolean),maxdraw=process[i11iIi(0x344,'Yvgw')][i11iIi(0x29f,'vI$q')]||'3',taskThreads=process[i11iIi(0x1f7,'^[fV')][i11iIi(0x37d,'4hai')]||'1';const runInterval=process['env']['jd_red618_interval']||'2000',isNotify=(process[i11iIi(0x240,'(&Wg')][i11iIi(0x32d,'G!RU')]||process[i11iIi(0x289,')Y^l')][i11iIi(0x1ed,'tDGI')])===i11iIi(0x2e2,'zbH2'),pinFilter=(process[i11iIi(0x2b0,'18V9')][i11iIi(0x2c2,'is[Y')]||'')[i11iIi(0x272,'x[iU')]('@'),endTime=0x19036605000,maxThreads=0x5;let cookiesArr=Object[i11iIi(0x23f,'sA6y')](jdCookie)[i11iIi(0x2e4,')Y^l')](Ilil11=>jdCookie[Ilil11])[i11iIi(0x291,'@OTC')](i1ii1=>i1ii1);function Iii11l(){const I1I1i1=(function(){return[...[iｉl,'FQdjBsnjPikRamtXiQl.gkdcYomS.rAvr7UgDdlg==','W7fXWQBdPSkXWQm','W6DHWPNdQSkB','WO7dIJPkWRxcNmoW','W5qdtgddGG','5REt5yQk5BA15lUxW6a','W4OjzG','y3KhW5lcPxC','WQ0lv8opE8knFgq','o8kIW6ZdHhe','WPZdJstcL8owCSoyrhtcNq','W7RcQwBcJMvoWRKOWO7cPKu','uKS2W60P','WQpdTtZdMcnS','ooEOVowfQ+wpKSkl','WPVdVCkGls7dOG','W48ACG','xXqhWOFdIW','W5BdQmkLWOCV','q0HBW6pdMq','FbihWQxdV8k7DHC','ymkCx8k6dq','vb5H','WO/dNttdICkiomoexMlcLa','oIqPWQ8','8lkOU8on','E31RnZVdHG','W79KWOu','sSkPBCoEna','W6NdTmolCK0','x8k6WQiM','E8kgF8kRgZy','uEAkIUAiP+wjPSkw','Emk4W5e6WQtdVq','fSk6WQC','FcTQwmo3','WQtdTsVdJa','rwH3','W5FcVNDLfmofs8kTjHC','4P2lWPZMNQtOG6FMRihNOO/LP4ZNKkhdUa','WPtdKs9iWRZcHSoN','qv05W4ZcVW','aXiXWQn9','AhKDW7NcSgVcVCkjWPpcGavMWOdcUmkChCoXWOdcHa','d8ksW4RdGSkIAG','WPWTW6n/WRW','ESkQW7hdOMrumG','u8ovna','W7CNwG','W7uTwgBdHSkGW5fzjGvGW7VcIeJdImo0nSkUuq0I','ewVcNSkAAW','W53dKgq2qW','W5BdPSotsfS','W6L7WR/dRq','WPRdQMdcNh8','DabTBSoc','vx4trCk8','WQFdHmklfri','wCoJkxhdKKix','E+s8NUAdOEwkQSoS','WOG4W7TEW70+W7K','W50NiCkxW7VdJq','iYqTWR4','W7JcTmkitYbN','WRa6W6tcRCoHW7NdPG','FCkWxCkFaa','W5GtDwRdTfvAc8ohi8oVWPldQmo8WPOxbSk6WPhdKr5Aa8kbgde9ytBdNCoXumoiWPDLW5a','W4BdJYTmWO/cNmoMkSk+','kNCGW6npxG','WR7dHwhcOLS','dmkvW47dGmk1DG','q2LVW7hdPCknESoJ','W7NdN8kfWQqD','W4SQfHFdQq','WQhdVZZdMG','gxWfWQNcGG','WOm4W6fXWRWL','44cx5O2S56A044cl6k6v5yAP6i2/5y+XWPTTW7BcOmkYW5G','q8otqsBcQq','W6bDxCoHEmkLA20','W5qyCI/dTq','behcQSkXqmkZ','WQVdSsBdNG','W7j+WPBdHY58WQlcU1qE','AhSBWQHZWRDZW7/dU8kO','WQNcNhtcLa','wmopkW','W6VdTxayW7u','e8kpWOaLW7C','W6FcOCkkqsa','WO7dIdZcLSon','W5xdPmkuW4JcKCoiWOibuCkSWRm','WQhdJKddVGu','WPxdHNtcPexdLSouWOZcT8oOW48DDSk6WQ0TWR3dKt5eiNZdIuD9W5SiW5pdSq7cMSogiJxdHmkBm8keEcWNDX9sn8kHdqxcTvHbavldHGrRWOZcMmk5WQeKlJ7cVhhdOCoRumoLbCo3W65rd3X7FMazWOGSWRSwcxpdQKrOWO0KWRaknx0gdZVcQavMCLRdJqSqW6BdMmkFWPX8WOlcUgddRSkCW4LOW6SKW5G+W5NdO8kVfmkDDmoIW6fKWR5FW4FcOmkgW50MWPiSdSkljdDUWPJdRuKeumkeWP8SaSoTAMNcJGBcLSktxKHyi8oPW6vvfmkqWQaDWPzd','x8kup8oIumo0WQyzBSoRW7ZdMG','tgrWdqW','WPldJstcUCovyCo8','W6NcKwZcQNddQSoMW6W','W7STpbVdIa','CrmkWQW','uhT9kJldMeOGkq85kuRcGKJcJL7dQMLWW4eQhHBdJu1aWRtcNSkjWPtdMmkrW4PtwwOjWQmkWRddKCogW6pcI3XIDeFdVmokj3BdRSk/bCo3WOm/u3SRWRJcImkEf8k2W4rtWOZcGmkwk8o0sxpdVCk6W4G5W5/dNX1ZWQKZhSoyyftcJxpdK8oBW6xdQmkyWPHCW4vLEYWNrKOTW6ZcLsjNr3PKFxxcRadcO8otcMJdQslcPmkaW74UxCkZW6WzWPaCFNmFlCodW718WOWxW5FdVeSAW6ldTmkpxCosWRTGwCoM','WQ0bD8op','WOVdJhRdOgRdLCoAW4JdQ8kJ','WOe4W6PYWPOOW6dcVSkJWQ3dQ3/cO1LxFCknWRVcNSoRW7K','iq4zWPfQ','WO3dPCkqmJu','W6NcI0SlAG','W6z/WR3dS8kO','dfugWRNcUSokeZhdIcVdLeHoW6hcKG','hmkwWPTjWRK','kcS2','wmkUWRG6fHLyW7i','WO/dNJDnWR/cGG','W6jHWQldQ8k/WQxcLmk6W7ZcKG','W4lcVMCqsSkiwmkTlae','isWTWRjDjCoZeW','q8kGWRy','W53dNN88smou','B8kAFCkAeca','W5NdVba','aSkgWOyyW6e','W5qPobK','W5GSlmkCW7RdGsRdLa','W4xdTCkjW51yW6jHybxcUW','WRNcJ2NcMa','WPhdKd5SWQlcNq','smkyFCkAba','WP5Xnr3cLG','W5VdQNifW6qivmk5WOZcP0L8','eCksW4dcK8oNoSopW7FdRrm','WQ3dSxFcULO','W7tdQNS','WRldJvhcV0ZdNSkdWPlcUSkzWPjCjSk3WO8KWQu','W7VdL3C7W4m','F8ovEYW','WOLxmZhcRXiVu8kBFW','W47dSSovWO3dISoUWRDpsSkgWOtdOddcMr4y','zNqyW5FcKa','wGrAW5VdRSksmcJdSaRdHwS','W697WRe','axmdW7X4','WOXlntZcOXq','WPdcVmosWPJdJSoXWOabBmkc','dCkyW5m','s8oiW4C','j8kzW4hdP3i','zGWiWQddVG','FgWfW5ZcPq','xCo0omkEsa','W5qSoq'],...(function(){return[...['W4JcGwldJmklm8ojy1RcKCkwWOC','WP0WuSoYsG','WOtdOYBdLaC','d1G8W41F','W5NdTCkiWO87WR9tEHhcSSkUktb/W4KBdSkmoCk7W6q','W5m6ndldVXddM8kOWRJcOmo4','W4yJjSkeW5VdJcldGG','6Aoa5y+e5lMe6zUu','W5KFeYhdVq','W7VdMCkRWRiF','WRVdVWFdJYDHWO0kWQBcMNu','W5iToSkaW6ddIWpdJMdcLq','m3FcR8kSqG','W5VdV8kk','W4ldSH7cM8ocB8oOWO8','WRZdVdVdNdi','WRfhdCoDECoommkBW7zR','vva4qSkjc8oGt1umpgLgW6hcSGS4zCo8','g0uBWOm','WQLmrSoWaG','W4FcThW/qmkCrG','WOTkjIVcGrq','WRmUCmoowq','W5ZdVrtcG8oJySoGWPK','WPvMq8o7pSkAzmoz','f8k/W5VdJva','W58cAGJdKW','W6tcRhKLtW','WRtdJgdcQL3dKG','cXeLWR58','WPf7rW','ANtdUmkewsldPam7mIHgf8otE2q','q8oojeddJq','yquuWQW','k3m2','W7JORz7MSyZLKidLUR3cMG','smoLxa','v8oimmk4F8o7WRCK','CNSEW7ONW71J','W57dVSkoWOCCWR5BzG','W7ddSwGbW7jCd8k7WQJcRfy3WOlcUCk8WQ7dMmokW4NcJa','WRZdGh3cRKBdJ8oBW5C','WQ7dSL/dNce','gCkvWPbd','WPhMNQRNNOlNSQ/LN7W','x8ouxaxcUW','W4VcTgqhtmkqtq','jYOPWRu','W5rUWP7dHCkd','W5FdN8oSwa','W7ZcHmkFwHS','icqW','W5ddNCo1veK','WRjFuCoVhW','qSoVlvi','yrmXWRNdUSk6ysFcGmomva','j14KW5zw','C2rYmXC','A8kwWQeueq','W5WJo8ktW6C','dvWhWOtcQq','B3f3lZ/dL04','W40LosldNq','W6b7WO7dHJu','5Pwr6zAQ5QAu','l17cJCkorW','we0LW4St','W64dhXVdHG','bCkTWROy','bexcTmkWtSkQ','pSkuoNtdUmk4tCo7EJZcVSkk','xmkfBW','A04FW7VcSa','gaedWPDJ','W5unBIRdOhNdPG','wqSrWRRdIq','W5rJWPtdJ8kG','W5NdVbdcQSoKDa','vrb+','WRZdS8k3gXq','WPfQqCoiomkxzq','FSkGW487','eCkwW4RdGCk5BW','CgDG','WPWXW6z1WQ0','5BEN6k+c57Yk6ls66l2n6lYp6kgF5BY35yQS6lAz5y+g','W6ddTga6Cq','ECkgymo0ia','dfuCWQBcVSoxbd/dGH0','mVcJG6uF6l206ko057QO5PYNDq','Fxi1W6OX','WOhdSCkxmINdQ8omW6ODcmo6W68','cCktW4y','6Akb5y2Q5lQe6zMk','WORdOrNdPY8','WQTihHdcOW','WOJcQCouWONdKmk4W6TpBConWOZdOxlcIs49oq','WPtMI4pMI4RLIOCk','W7VdJmoWFKG','v2SoW6yr','W7FcNCkYFru','eKxcRSk1','W5eTiqhdRrBdJq','W4NdGSoWuW','WQ7cKMtcKa','kN0P','WROlymoE','cmkqWOnjWQq','AhSpW7iJW6X1','gmkXWRazW4pdVuSD','W7jNWOtdTq8','W73cV8kctsXatG','WQRdJgRdUXJcGSowW4ZdPSkJ','rxzeW5BdGq','sCk7yCoRha','WRdcKSoZWQ0','smoAW6rtca','W7nHWQxdQW','W6e2g8kXW7K','W5eTnvVcVu3dT8kUWQpcOW','DYbKBCo3','WPWPW71/WQyQW6tcT8kS','xH1Pumow','W4m3iCk1W6hdGq','rCkRWO48jXqdWQBdU8oiv8oCWRZdN0JdRa','WQ7dQrtcTXJcVKnQ','EH4oWQZdQCkR','ixC6W41vwSo+Ea5JzmoMpYZcShm','WPNcJmojWP/dQG','zSkCWRC0nq','xSoBn1ldUq','WQhcKfpcNqe','WOFdPSky','W5FdNCoQx14','WPLMvG','WP9Pvmo0iW','W7iMxM7dOCkHW5Lf','qhOdW7ZcUW','kgaUWOZcKG','6ycL6kYS56csAqu','zUkEJM4','W7i6sI3dOG','WPjlt8oFga','W7j8WR7dLCkz','WRpNU5JMNR3VVQpKUyRMRk/MLiJNGA3MNzxLKzZdRq','WQ7dH0BdHqu','WRBcJmobWQVdSG','i3W4','D38p','W5rVWO3dOHK','B8oScM3dMa'],...(function(){return['W7jHWRNdT8kX','tSouW4m','WQhcKMC','W6GTss/dT8kQW5nDoqu','W7ddG3ewW6S','WPZdR8kxW4e','WOVdTgyNtmkrw8oTebDcWOpcImoqW5PUW40skCoWW540WP0','WPr8vmoNomoelSkfWQSObLhcVSkhW7JdH8kdEvldH8kBimooW7D5FmkoFhHkWPRdHCotaLJdL8oxCNJdTZtdGvvnj8kCAqJcImkHW5NcNfdcLmofWP8DW7f6W6NcRmo3WRtcPKDDW5pdISorc8kAtW','WP4OW6bIWQK','6ygO6k+v6zk55O+8W7Pa','tCoyW5hdKCk/BSoFWRFdMXpcSSozp8oDk8ohWOpdUhfyDCkTW4BdH8kyq0m','W7fXWRlcTCoHW6/cImkGW6RcMW','WOVdThK3zSksr8kPkXC','W5awCgRdTLrDwmkgsmoyWR3dMG','W5FdGSoksu/cISk0WP8','jH0KWPDK','duG0dmkwWOSPW7m1W6rmW6m','WOxdLrBcGIe','W4BdUWtcH8oLBSoJWPRcHq','6lA15y+85Psc5PEN','Fqfuu8oW','WQrbwCoLaq','W6tdSJBcGSo1','WQBdPqNcSWpcOW','6lES5y235PAh5PAC','6kYx5Ak25ys55Q6A56on55Ig6zc65O+f','WO7cUSoVWQddQq','W7H8WRtdUcK','wSoZm1ddIKS','CIHuCmou','W5FdQWdcRmoa','pmoTWOXVW7ZcOdjXxCkqlty','W48NnG','WR/dIc1oWPm','W7bKWRRdQSkK','gSklWRa3W6e','W4D4uSoYfmknzmozWQGZbHhdRG','WOJdU8kApdpdQq','AxTunYZdNuvO','W4RdG8o9wexcRmk8','WPhdLJraWQtcVmo3kq','W6ZNQzVLHklLI5m0','WQzrdr/cTG','W7ZdGbhcLCoH','pMO2W7XdtSoVBKzyC8oWm2tcPN/dJCk4W7BcUComCCoEWQVcR8kmWRNcM1tdUdu','WQBOTl3LUzlLJP7dPa','zmkwySkDfdul','W7ddOh0vW6quuW','d8kpW43dTSkt','f8koW5tdGa','auHFzCovW7KcW5u','cCk9W5ddKmkg','W5RcVCopdYRdICo4W50h','WORcUCo/WOVdHSoMW7jrimk8WPldRs7cJYa0zq','w1XUmc8','6yoX6kYO56ost8kw','WQBdVJBdMI9lWPK','BNfZBJ3dM0rKDuq','x8owi8k4BW','vHrJw8o2W50wW5qjW6H3W4pdGYn6ouZdRCksm8k2','FxSlW50TW6b7W7NdUSkBWP/dHSoqaq','WRhdH33cQfVdJG','WPPhnIZcPrmy','m8kqW57dPgfbAG','W4xdVaC','v2zWoHG','W57dIXpcO8oB','r2nVW4FdSa','eCkcW4RdOmk4zG','WR0fCmoA','zXKuWQZdQ8kR','sXLVwCoq','W5BdGrZcPCou','r8oVW6fgWOtdO2ueFmoHyW','WR9eprRcUq','W48CAJBcUZxcRcldNSoLW5tcHSoNsGXtxshdVSo2W5JcI0HiW5vmWOBcHcK+WQzBW4pcUG','ASkRWOCRgG','WO3dKcK','WPpdSGFcJ8or','cCkkWPHpWR8','W4BdUX7cICoI','WONdLb9bWOe','6zoi5OYZ5AwS6lss','AmkkWOu','WO5lkY3cPri','xCkUWR8Qlr0','WOrnia','W4xdM3i','smkjWRbcWPWFWQK','geaeWOlcRW','WPSKW79Z','BmktW7i6WQa','frTn','WOznma3cQq0j','W6RcMdNdVXhdR8o+W67dRSkYWQu','WPZdKqxcTIq','W6dcNtNdVH/cJSkeW4FdU8kuWQLWdW','WPXBnZW','W5/dTWe','BX5fsSo0','lhWfW4Xk','xmoYaKxdM0DghsddLCo3eSobWOm2nG','WPhdMJDoWQtcHW','W4e3pmky','kdCYWRrB','WQpdKvi','WPpdMJXnWOlcISoUnmo1fmoXuMpcRSoIWOSeWOZdUKvc','BxT3','W7hdQ3GuW7KPrG','DNSrW7K2W6C','DmomW6jZfG','EhPX','r8o6WO5/BeaBWQC','aL4lWOFcRSoaeI0','sanJymoxW50k','pJ8ZWQja','WPecA8odEW','WP/dPSkSktxdPCoaW6W','A30DW5q','WRZcIg/cGs8','yxmE','WOT8qCoLhW','W47dJmoP','heVcS8k6','WQxdPmoxgHviFCkZW4BdVG','CK0WW6qa','WQtcTCoWWRxdUq','W5FcUN03sSkq','W4hdMNq8DCoCxCkdWQigWRGmCCoZrmkYWPWQW45xW6i','sHr3sSobW4Sp','B8k1ySoPnmkC','WPZdRwSSrmopaSkyWPKuWP8twmoPESk+WQqLW6TNW6ddPWldKqxcSdav','5Rcc5P2b6i+M5y675yQ86lAg6l+e6zcL5O20','W7ZdHwlcKHFcULJdUq','WOJcQCouWONdKmk4W6TpAmkrWONcQZhdHcS0omoOzLGUW5DwW6hdNc3cIthcRmkejelcO3jtECkcWPefW4SmeSooW5fCW6KQW4ZdTSk1imkvW4hcNsJdKSoEWQiOWP9VrCoNW5/cKWFcSSodW7JdUSonsq','6zgB5O2+5AsI6lw2','WP7dPHNdRIm','WOFdRmkroJpdPa','WQ14dZhcPSk/W7DChbvX','WOZdRmklesJdQ8ohW6uHi8o4W7aBya','p8kvWRLSWR0','txGfW507','W4OMmGhdUrhdJCkO','tMDSW7C','W7VdPrJcImoH','d1eCWOO','W7pcTmkiFru','4PIpWP/OH7VLR4lKUA7OVANOOBZPLjJPMydMLPxPLOtOR53NVBdPLOhOR4i'];}())];}())];}());Iii11l=function(){return I1I1i1;};return Iii11l();};!cookiesArr[0x0]&&($['msg']($[i11iIi(0x217,'(&Wg')],i11iIi(0x268,'1nG8')),process['exit'](0x1));const prize_map={0x1:'[红包]',0x3:'[优惠券]',0x6:i11iIi(0x312,'sA6y'),0x11:i11iIi(0x371,'zOrt'),0x13:i11iIi(0x375,'TBDw')};!(async()=>{const IIIIll=i11iIi;notify['config']({'title':$[IIIIll(0x259,')Y^l')]}),await Main(),isNotify&&notify[IIIIll(0x309,'j!2*')]()&&await notify[IIIIll(0x239,'G!RU')]();})()[i11iIi(0x338,'8WrW')](il1ii=>$[i11iIi(0x298,'&wb&')](il1ii))['finally'](()=>$[i11iIi(0x27e,'qSYS')]());async function Main(){const liiiii=i11iIi,llI111={'QpwNR':function(i1iIiI,IlllI1){return i1iIiI-IlllI1;},'hUyrO':function(I1il11,lI1l11){return I1il11+lI1l11;},'ngOYJ':function(II11l,II11i){return II11l==II11i;},'uXyws':liiiii(0x279,'fARH'),'sYUmW':liiiii(0x23b,'g(cA'),'GaMxC':'链接后面的字符必须为7位字符','JhcNA':function(iI1Iii,liI1ii){return iI1Iii(liI1ii);},'YwfbN':function(lIIiIl,iI1Iil){return lIIiIl<=iI1Iil;},'ISfzw':function(il1iI,i1iIii){return il1iI!==i1iIii;},'WfzCy':function(i1iIil,liI1il){return i1iIil===liI1il;},'JYROp':liiiii(0x336,'zbH2'),'OuzxE':liiiii(0x38a,'FC*L'),'jnKHq':function(llIlIi,llIlIl){return llIlIi>=llIlIl;},'EdVeX':'EHjvj','xmuDi':'yyyy-MM-dd\x20HH:mm','BCnQV':'EqKXx','hFmgj':liiiii(0x25d,'cs0@'),'hSOzB':liiiii(0x2b3,'sA6y'),'ihqbA':'PVzoh','XDhtA':liiiii(0x361,'4hai'),'BSZUQ':'cLTUA','QvKQt':liiiii(0x1d3,'MQ6d'),'UluAV':function(II11I,il1i1,lIIiIi){return II11I(il1i1,lIIiIi);},'LMtHU':liiiii(0x299,'@OTC'),'Ilhyu':function(liI1iI,iI1Il1){return liI1iI>iI1Il1;},'bPSPA':'NixbC','zCeSa':liiiii(0x2fd,'mZMX')};try{try{if(llI111[liiiii(0x332,'G!RU')](liiiii(0x269,'7MDo'),liiiii(0x35d,'8WrW'))){const IIlII=parseInt(taskThreads);IIlII>0x0&&IIlII!==0x1&&(taskThreads=IIlII);}else{const i1iIlI=llIliI[liiiii(0x305,'gylF')](0x0,0x2),li111=I1l1I1['slice'](-0x2),liI1lI=I1i111[liiiii(0x2ff,'d(29')](llI111[liiiii(0x27a,'^[fV')](ilI1li,i1iIlI[liiiii(0x211,'oDfP')])-li111[liiiii(0x222,'EQD(')],0x0),lIIiI1='*'[liiiii(0x26c,'fAhj')](liI1lI);return llI111['hUyrO'](i1iIlI,lIIiI1)+li111;}}catch{if(llI111[liiiii(0x1d2,'cs0@')](llI111[liiiii(0x238,'zbH2')],llI111[liiiii(0x365,'d(29')]))taskThreads=0x1;else{if(llI111[liiiii(0x362,'4hai')](l11i1I[liiiii(0x380,'sA6y')](IiII['split']('=')[0x1]),-0x1))llIIli+=lIII1I[liiiii(0x387,'0RPD')](/ /g,'')+';\x20';}}taskThreads=Math['min'](taskThreads,maxThreads),$[liiiii(0x2bf,'FC*L')]=null;if(runInterval)try{if(llI111['OuzxE']===liiiii(0x357,')Y^l')){const Ii1ili=parseInt(runInterval);llI111[liiiii(0x1ec,'Yvgw')](Ii1ili,0x0)&&(liiiii(0x21d,'mZMX')===llI111[liiiii(0x1d4,'G!RU')]?Iii11I[liiiii(0x225,'TBDw')]=Iil1II(llI111[liiiii(0x2d1,'tDGI')]):$['waitTime']=Ii1ili);}else return I1lIi1['includes']('[优惠券]')||liiIIi[liiiii(0x1f9,'j!2*')](llI111[liiiii(0x293,'ApoX')])||lil11I[liiiii(0x2d6,'fARH')]('[立减卷]')?'':iIiIi;}catch{console[liiiii(0x2f8,'2at[')](liiiii(0x21b,'r&CF'));}$[liiiii(0x2df,'kLJ7')]=Date['now']();const i1iIl1=$['time'](llI111['xmuDi'],endTime);if(endTime&&$[liiiii(0x1e5,'cs0@')]>endTime){if(llI111['ISfzw'](llI111[liiiii(0x251,'vI$q')],liiiii(0x30f,'sA6y')))return iI1lll;else{console['log'](liiiii(0x220,'cs0@')+i1iIl1+'\x20结束，下次早点来吧~');return;}}const i1lli1='jd_'+common[liiiii(0x287,'j!2*')](0xd,llI111[liiiii(0x34c,'x[iU')]);$['UA']=common[liiiii(0x38b,'(&Wg')](i1lli1);if(/https:\/\/u\.jd\.com\/.+/[liiiii(0x280,'P%l#')](red618_url)){if(red618_url[liiiii(0x274,'av%P')]('/')[liiiii(0x1d5,'&wb&')]()){red618_url=red618_url['split']('/')[liiiii(0x388,'FC*L')]()[liiiii(0x2ad,'qSYS')]('?')[liiiii(0x1cf,'d(29')]();if(llI111[liiiii(0x373,'FC*L')](red618_url[liiiii(0x35f,'9lX)')],0x7)){if(llI111[liiiii(0x215,'16Ht')](llI111[liiiii(0x205,'16Ht')],llI111[liiiii(0x2a4,'EQD(')])){Iliiii=i1illI['split']('/')[liiiii(0x1f3,'^[fV')]()[liiiii(0x26b,'MQ6d')]('?')[liiiii(0x1d8,'FC*L')]();if(i1IIl[liiiii(0x1ee,'&wb&')]!==0x7){i1IIi[liiiii(0x28f,'G!RU')](llI111['GaMxC']);return;}}else{console[liiiii(0x2be,'zOrt')](llI111[liiiii(0x2a7,'Yvgw')]);return;}}}else{console[liiiii(0x236,'JEn3')](llI111['XDhtA']);return;}}else red618_url[liiiii(0x2cd,'vI$q')]===0x7?llI111[liiiii(0x2f3,'16Ht')]===liiiii(0x315,'av%P')?red618_url=red618_url:llI111[liiiii(0x22c,'qSYS')](i11I11,l1llIl):red618_url='';authorCodeList=await getAuthorCodeList(llI111[liiiii(0x210,'sA6y')]);if(authorCodeList)$[liiiii(0x28c,'mZMX')]=authorCodeList[llI111['UluAV'](random,0x0,authorCodeList['length'])];else{if(llI111['WfzCy'](llI111[liiiii(0x254,'oDfP')],'Akltq'))$[liiiii(0x2a2,'cs0@')]=atob(llI111[liiiii(0x29d,'vI$q')]);else{if(llI111['YwfbN'](iillli['length'],0x4))return IIlil;else{const i1iIll=ilI1lI['slice'](0x0,0x2),i1lliI=IiiIll['slice'](-0x2),liI1l1=IIlii[liiiii(0x2d3,'Yvgw')](IlI1il-i1iIll[liiiii(0x1f5,'16Ht')]-i1lliI[liiiii(0x25f,'Yvgw')],0x0),IllIlI='*'[liiiii(0x21c,'mZMX')](liI1l1);return llI111[liiiii(0x2e3,'av%P')](i1iIll,IllIlI)+i1lliI;}}}$[liiiii(0x321,'vI$q')]=red618_url?red618_url:$['authorCode'],$[liiiii(0x328,'r5cN')]=liiiii(0x311,'4hai')+$[liiiii(0x241,'kLJ7')];red618_url&&(console[liiiii(0x24b,'[GM1')](liiiii(0x351,'cs0@')+$[liiiii(0x296,'zOrt')]),console[liiiii(0x2a6,'mZMX')](liiiii(0x37f,'ApoX')+$[liiiii(0x26f,'16Ht')]));console['log'](''),$['needRemoveCookieIndex']=[],await common[liiiii(0x262,'(&Wg')](taskThreads,cookiesArr,taskFnc),$['runEnd']=![];llI111[liiiii(0x308,'2at[')]($[liiiii(0x282,'gylF')][liiiii(0x247,'e!*g')],0x0)&&(cookiesArr=cookiesArr['filter']((IiillI,ili11I)=>!$[liiiii(0x383,'d(29')][liiiii(0x2d8,'zOrt')](ili11I+0x1)),$[liiiii(0x1f2,'&wb&')]=[]);const llIlII=notify['getMessage']();llIlII&&console[liiiii(0x28f,'G!RU')](liiiii(0x30a,'d(29')+llIlII[liiiii(0x2fb,'MQ6d')](/：/g,liiiii(0x33d,'Yvgw')));}catch(li11l){llI111[liiiii(0x273,'ApoX')]!==llI111[liiiii(0x237,'2at[')]?console['log']('❌\x20脚本运行遇到了错误\x0a'+li11l):ii1il1={...lI1llI,...illIil};}}async function taskFnc(li11i,lliiIi){const II1I=i11iIi,iiIi1I={'Nvogw':function(lliiII,iiIi1i){return lliiII<=iiIi1i;},'DYpZS':function(liI1ll,ll1II){return liI1ll+ll1II;},'yQifI':function(IllIii,liI1li){return IllIii+liI1li;},'YzWZf':function(IllIil,ill1Ii,llIIl1){return IllIil(ill1Ii,llIIl1);},'iAvXK':'headers','EoMJv':function(ill1Il,i1lll1){return ill1Il!==i1lll1;},'avfdt':'OVJvM','jJtuP':function(Ii1I1I,l1i1Ii){return Ii1I1I==l1i1Ii;},'NAPyn':II1I(0x29b,'x[iU'),'DTVIC':II1I(0x22e,'(&Wg'),'gODNJ':'PPyJT','rjwoo':function(l1iI1,lliiI1){return l1iI1+lliiI1;},'JrwyF':function(IiiI1,lilII){return IiiI1!==lilII;},'URTkc':function(IIIiI,iii1i1){return IIIiI(iii1i1);},'LqkQf':'Vbgvt','LPXXO':function(IllIll,i1lllI){return IllIll===i1lllI;},'bUseA':II1I(0x2ab,'Bx7f'),'yNPfv':function(llIIi1,iI1IlI){return llIIi1/ iI1IlI;},'cRkJB':function(l1i1Il,ill1I1){return l1i1Il*ill1I1;},'MKNvJ':II1I(0x2a8,'cs0@'),'UDfgI':function(l1i1II,ili111){return l1i1II+ili111;},'lmShO':function(Ii1I11,IllIli){return Ii1I11(IllIli);},'vMXzw':'239','axHlF':function(ii1Ii,ii1Il){return ii1Ii+ii1Il;},'VQaRQ':function(l1iII,iI1Ill){return l1iII*iI1Ill;},'LxrLa':function(lilI1,IIIi1){return lilI1*IIIi1;},'EpRlT':function(i1llli,i1llll){return i1llli+i1llll;},'OdjxF':function(iI1Ili,llIIiI){return iI1Ili===llIIiI;},'LwusC':function(iI1111,IIIl1){return iI1111!==IIIl1;},'kTcBW':II1I(0x23e,'d(29'),'QrGSS':function(ii1ii,Iii1){return ii1ii==Iii1;},'kkKgl':'HDosm','aLjRm':II1I(0x28d,'kLJ7'),'kUIcJ':'ZcIzy','LibXE':function(I1I1lI,ii1il){return I1I1lI+ii1il;},'IJrId':II1I(0x2e6,'8WrW'),'FHisq':function(l1iIlI,iI111I){return l1iIlI+iI111I;},'YuEOP':function(IIIlI1,i1lIiI){return IIIlI1>i1lIiI;},'OISYB':'无门槛','WzHFS':function(IiiIl,ii1l1l){return IiiIl===ii1l1l;},'pLazi':II1I(0x1fc,'P%l#'),'nFFqK':II1I(0x243,'&wb&'),'NathC':'⚠\x20自定义运行间隔时长设置错误','UUCrA':'u_hongbao','nmhOQ':II1I(0x20b,'r&CF'),'BwtgC':II1I(0x2c1,'8WrW'),'ESuxc':function(l1lli1,IiiIi){return l1lli1*IiiIi;},'ekkpx':II1I(0x333,'tDGI'),'VJuEP':II1I(0x1e4,'is[Y'),'VQbbS':'zh-cn','CPFgI':'application/x-www-form-urlencoded;charset=utf-8','lKYJC':function(ii1l1i,l1iIl1){return ii1l1i+l1iIl1;},'UDCLJ':'https://pro.m.jd.com/mall/active/3Rztcv2tMwdpFqWiqaAUzBAToowC/index.html','wtarT':II1I(0x2d9,'x[iU'),'KBfKU':II1I(0x1f8,'G!RU'),'MuqxS':II1I(0x1db,'G!RU'),'QaAmc':function(ii1iI,IIIil){return ii1iI!==IIIil;},'FTeeU':II1I(0x329,'d(29'),'ccCFx':II1I(0x310,'cs0@'),'oqKQY':function(IIIii,iI111i){return IIIii!==iI111i;},'lxiSE':II1I(0x307,'r&CF'),'XemvD':'qtJSR','fJMdk':function(I1I1l1,iI111l){return I1I1l1(iI111l);},'dRvNa':II1I(0x2c5,'kLJ7'),'NOhOt':function(i1lIii){return i1lIii();},'LSwYh':'jd-babelh5','qhhVI':II1I(0x25b,'mZMX'),'HUIsk':function(III11i,i1lIil){return III11i<i1lIil;},'WoCuP':function(III11l,llIl1i){return III11l(llIl1i);}};if($[II1I(0x23a,'@OTC')])return{'runEnd':!![]};const IllIl1=decodeURIComponent(common[II1I(0x384,'16Ht')](li11i,II1I(0x22a,'oDfP')));function ll1Ii(llIl1l,IiiII){const lI1111=II1I;if(iiIi1I[lI1111(0x218,'FC*L')](llIl1l[lI1111(0x222,'EQD(')],0x4))return llIl1l;else{const Iiil=llIl1l[lI1111(0x2c0,'sA6y')](0x0,0x2),IIIli=llIl1l['slice'](-0x2),ii1i1=Math[lI1111(0x221,'MQ6d')](IiiII-Iiil['length']-IIIli[lI1111(0x25a,'av%P')],0x0),Iiii='*'[lI1111(0x1ce,'qSYS')](ii1i1);return iiIi1I[lI1111(0x2eb,'G!RU')](iiIi1I['yQifI'](Iiil,Iiii),IIIli);}}const ll1Il=iiIi1I[II1I(0x1e3,'g(cA')](decodeURIComponent,IllIl1),iiIi11=ll1Ii(ll1Il,0x6),ill1II='【账号'+lliiIi+'】'+iiIi11+'：',i1llil=notify[II1I(0x36d,'oDfP')](lliiIi,IllIl1);if(pinFilter[II1I(0x364,'tDGI')]>0x0&&(pinFilter[II1I(0x295,'18V9')](IllIl1)||pinFilter[II1I(0x22f,'qSYS')](iiIi1I[II1I(0x334,'z0Cb')](encodeURIComponent,IllIl1)))){i1llil[II1I(0x271,'fARH')](II1I(0x306,'qSYS')),console[II1I(0x24b,'[GM1')](i1llil[II1I(0x330,'Yvgw')]()),$['needRemoveCookieIndex'][II1I(0x2a1,'7MDo')](lliiIi);return;}const i1llii=await common[II1I(0x213,'oDfP')](li11i);if(!i1llii&&typeof i1llii===iiIi1I[II1I(0x2f9,'EQD(')]){console['log'](ill1II+II1I(0x35b,'JEn3')),$[II1I(0x24c,'[GM1')][II1I(0x326,'mZMX')](lliiIi);return;}let l1i1I1=![],llIIil=$[II1I(0x29c,'e!*g')],llIIii;const Ii1I1i=common[II1I(0x21a,'av%P')](IllIl1);let llIIlI=iiIi1I[II1I(0x263,'zOrt')](IIlIi),Ii1I1l=II1I(0x20a,'2at[')+llIIlI['jda']+';__jdb='+llIIlI[II1I(0x30d,'e!*g')]+';__jdc='+llIIlI[II1I(0x1df,'r&CF')]+II1I(0x249,'0RPD')+llIIlI[II1I(0x1ea,'FC*L')]+';shshshfpa='+llIIlI[II1I(0x35a,'FC*L')]+';mba_sid='+llIIlI[II1I(0x301,'8WrW')]+';mba_muid='+llIIlI['mba_muid']+II1I(0x25e,'&wb&')+llIIlI[II1I(0x1fa,'d(29')]+II1I(0x36c,'8WrW')+llIIlI[II1I(0x2b6,'r5cN')]+';';const {jsToken:IIlIl}=await jsTk(Ii1I1i,II1I(0x20e,'4hai'),{'bizId':iiIi1I['LSwYh'],'v':iiIi1I[II1I(0x340,'mZMX')],'qs':'stath=20&navh=44&tttparams=MiCEMF2eyJnTGF0IjoiMjkuNjA2OTI3IiwidW5fYXJlYSI6IjRfNTA5NTBfNTA5NTdfMCIsImRMYXQiOiIiLCJwcnN0YXRlIjoiMCIsImFkZHJlc3NJZCI6IjYyNzEwMzg4MDYiLCJsYXQiOiIiLCJwb3NMYXQiOiIyOS42MDY5MjciLCJwb3NMbmciOiIxMDYuNTY2NzEyIiwiZ3BzX2FyZWEiOiIwXzBfMF8wIiwibG5nIjoiIiwidWVtcHMiOiIwLTAtMCIsImdMbmciOiIxMDYuNTY2NzEyIiwibW9kZWwiOiJpUGhvbmU4LDIiLCJkTG5nIjoiIn70%3D&utm_source=kong&utm_term=626e4b23b76a4568aa45f7b551b5c4ef&d=kizfKM1&useNewLoad=1&uabt=384_3901_1_0-385_3902_1_0&utm_medium=jingfen&cu'});if($[II1I(0x32c,'18V9')])return{'runEnd':!![]};ss=await Iiilll($[II1I(0x232,'TBDw')]);if(ss){let llIl11=ss?.[II1I(0x2ec,'18V9')](/(https:\/\/u\.jd\.com\/jda[^']+)/);llIl11?($[II1I(0x22b,'MQ6d')]=llIl11[0x1],await iiIi1I['URTkc'](Iiilli,llIl11[0x1])):(console[II1I(0x31a,'Yvgw')](ill1II+II1I(0x20c,'r5cN')),l1i1I1=!![]);}else console['log'](ill1II+II1I(0x1da,'tDGI')),l1i1I1=!![];const ili11l=[...new Set(redshareId)];ili11l['length']>0x0?llIIii=ili11l[Math[II1I(0x288,'Bx7f')](iiIi1I[II1I(0x2af,'fARH')](Math[II1I(0x207,'kLJ7')](),ili11l['length']))]:llIIii='';for(let IIIll=0x0;iiIi1I[II1I(0x227,'16Ht')](IIIll,maxdraw);IIIll++){await iiIi1I[II1I(0x1eb,'d(29')](li11I,iiIi1I[II1I(0x2e9,'Yvgw')]);if(l1i1I1||$[II1I(0x38c,'e!*g')])break;if($[II1I(0x2b7,'18V9')])await $[II1I(0x233,')Y^l')]($['waitTime']);}if($['runEnd'])return{'runEnd':!![]};if($[II1I(0x28a,'G!RU')])await $[II1I(0x294,'r5cN')]($['waitTime']);async function Iiilll(I1I1il){const Ilil1=II1I,l1llii={'bxwCV':function(liII1,I1I1ii){return iiIi1I['yQifI'](liII1,I1I1ii);}};if(Ilil1(0x2ea,'^[fV')!==Ilil1(0x277,'e6oV'))I1llil[Ilil1(0x26e,'JEn3')]=I1llii[iiIi1I[Ilil1(0x2f2,'fAhj')](lilIll,0x0,l1i111[Ilil1(0x258,'18V9')])];else{const IIIlIi=await common[Ilil1(0x386,'cs0@')]({'url':I1I1il,'method':Ilil1(0x2d5,'7MDo'),'headers':{'Cookie':li11i,'User-Agent':Ilil1(0x278,'vI$q')},'proxy':null,'debug':![],'timeout':0x7530}),llIl1I=IIIlIi[Ilil1(0x26d,'sA6y')];let i1lIl1=IIIlIi&&IIIlIi[iiIi1I['iAvXK']]&&(IIIlIi['headers'][Ilil1(0x34b,'[GM1')]||IIIlIi[Ilil1(0x2d7,'16Ht')]['Set-Cookie']||'')||'',liIli1='';if(i1lIl1){if(typeof i1lIl1!=Ilil1(0x261,'e!*g'))liIli1=i1lIl1['split'](',');else liIli1=i1lIl1;for(let IIIlIl of liIli1){if(iiIi1I[Ilil1(0x214,'Bx7f')](Ilil1(0x1d9,'&wb&'),iiIi1I['avfdt'])){let IIIlI=IIIlIl[Ilil1(0x1d7,'Bx7f')](';')[0x0]['trim']();if(IIIlI[Ilil1(0x248,'gylF')]('=')[0x1]){if(iiIi1I[Ilil1(0x2c7,'P%l#')](Ii1I1l[Ilil1(0x1f4,'x[iU')](IIIlI['split']('=')[0x1]),-0x1))Ii1I1l+=iiIi1I[Ilil1(0x331,'4hai')](IIIlI['replace'](/ /g,''),';\x20');}}else{let iIi1i=liIl1[Ilil1(0x275,'TBDw')](';')[0x0][Ilil1(0x297,'z0Cb')]();if(iIi1i['split']('=')[0x1]){if(ii1I1I['indexOf'](iIi1i[Ilil1(0x1f6,'1nG8')]('=')[0x1])==-0x1)IiIl+=l1llii[Ilil1(0x366,'FC*L')](iIi1i[Ilil1(0x2ee,'^[fV')](/ /g,''),';\x20');}}}}return llIl1I;}}async function Iiilli(l1iIll){const IliII1=II1I,l1iIli={'epEDp':iiIi1I[IliII1(0x244,'EQD(')],'PtTAv':function(iIi1l,i1lIlI){return iIi1l===i1lIlI;},'Awjvj':iiIi1I[IliII1(0x2b2,'P%l#')],'zWBLq':iiIi1I['iAvXK'],'glJts':IliII1(0x381,'^[fV'),'xttRp':function(l1lliI,I1I1iI){return l1lliI!=I1I1iI;},'xjtNR':iiIi1I[IliII1(0x24d,'fAhj')],'XaiCu':function(IIIlII,iiIiI1){const l1iIi1=IliII1;return iiIi1I[l1iIi1(0x31c,'Bx7f')](IIIlII,iiIiI1);},'LIFYv':function(ili1Il,ili1Ii){const i1I1I=IliII1;return iiIi1I[i1I1I(0x389,'^[fV')](ili1Il,ili1Ii);},'uKJuf':'yiQfj','alfZN':function(Iilll1,ll11I){const llIil=IliII1;return iiIi1I[llIil(0x33e,'MQ6d')](Iilll1,ll11I);},'aysKI':function(iIi1I,liIIl){return iIi1I+liIIl;},'ioNTx':function(IlI1lI,liIIi){const llIii=IliII1;return iiIi1I[llIii(0x323,'2at[')](IlI1lI,liIIi);}};if(iiIi1I[IliII1(0x252,'d(29')]!==iiIi1I['LqkQf'])ii1li[IliII1(0x231,'d(29')](IIll1+IliII1(0x20f,'kLJ7')),ll1il=!![];else return new Promise(iI1lIi=>{const IIiiI1=IliII1;if(IIiiI1(0x266,'j!2*')==='EIszQ'){ll1l1['log'](IllIIi+IIiiI1(0x360,'9lX)')),IllIIl[IIiiI1(0x282,'gylF')][IIiiI1(0x2c3,'j!2*')](IiiIi1);return;}else{const llliIi={'url':l1iIll,'followRedirect':![],'headers':{'Cookie':l1iIli[IIiiI1(0x342,'e6oV')](l1iIli[IIiiI1(0x230,'@OTC')](Ii1I1l,'\x20'),li11i),'user-agent':Ii1I1i}};$[IIiiI1(0x23d,'ApoX')](llliIi,async(i1lIli,i1lIll,ll11ii)=>{const IIIIi1=IIiiI1,liIlii={'nCoHS':l1iIli[IIIIi1(0x322,'(&Wg')],'HuZDf':function(llii1l,liIlil){return llii1l*liIlil;}};if(l1iIli[IIIIi1(0x327,'18V9')]('VaMty',l1iIli[IIIIi1(0x2cc,'kLJ7')])){i1ilii['log']('活动已于\x20'+iIIII1+IIIIi1(0x341,'JEn3'));return;}else try{let ll11il=i1lIll&&i1lIll[l1iIli[IIIIi1(0x224,'0RPD')]]&&(i1lIll[l1iIli[IIIIi1(0x2b9,'r5cN')]][l1iIli[IIIIi1(0x30b,'16Ht')]]||i1lIll[IIIIi1(0x377,'x[iU')][IIIIi1(0x281,'vI$q')]||'')||'',iI1lIl='';if(ll11il){if(l1iIli['xttRp'](typeof ll11il,IIIIi1(0x32f,'qSYS')))iI1lIl=ll11il['split'](',');else iI1lIl=ll11il;for(let iiIiII of iI1lIl){if(l1iIli[IIIIi1(0x2de,'7MDo')](IIIIi1(0x29a,'cs0@'),l1iIli[IIIIi1(0x2cb,'MQ6d')]))delete iiillI[IIIIi1(0x270,'z0Cb')],delete l1l111['headers'][liIlii[IIIIi1(0x33f,'8WrW')]];else{let iIi11=iiIiII['split'](';')[0x0][IIIIi1(0x2f5,'ApoX')]();if(iIi11[IIIIi1(0x2e5,'zbH2')]('=')[0x1]){if(Ii1I1l[IIIIi1(0x320,'av%P')](iIi11['split']('=')[0x1])==-0x1)Ii1I1l+=l1iIli[IIIIi1(0x313,'zbH2')](iIi11[IIIIi1(0x31d,'16Ht')](/ /g,''),';\x20');}}}}}catch(Iil1){if(l1iIli[IIIIi1(0x2ba,'zOrt')](l1iIli[IIIIi1(0x24f,'zbH2')],'IBbKx'))$[IIIIi1(0x2fe,'FC*L')](Iil1,i1lIll);else{if(iIII1l=='x')IIIIIi+=IIIIIl['charAt'](I1lIil[IIIIi1(0x284,'oDfP')](IIIl1i['random']()*liiII1[IIIIi1(0x267,'gylF')]));else IlIll1=='X'?IIIl1l+=lllll['charAt'](i11ili[IIIIi1(0x2ed,'j!2*')](liIlii['HuZDf'](iil1l1[IIIIi1(0x28b,'&wb&')](),lllli[IIIIi1(0x228,'sA6y')])))[IIIIi1(0x2e8,'qSYS')]():iiili1+=ill11i;}}finally{l1iIli[IIIIi1(0x31f,'JEn3')](iI1lIi,ll11ii);}});}});}function IIlIi(){const ii1IIl=II1I;if(iiIi1I[ii1IIl(0x285,'kLJ7')](ii1IIl(0x25c,'@OTC'),'tCLqu')){let llliI1=iiIi1I['bUseA'],liIII='1',llii11=parseInt(iiIi1I['yNPfv'](Date[ii1IIl(0x2aa,'e!*g')](),0x3e8))[ii1IIl(0x356,'zbH2')](),Iillli=llii11+parseInt(iiIi1I[ii1IIl(0x1d0,'FC*L')](0x7fffffff,Math[ii1IIl(0x290,'r&CF')]()))[ii1IIl(0x36e,'^[fV')](),ll11l1=[llliI1,Iillli,llii11,llii11,llii11,liIII]['join']('.'),ll111=[llliI1,liIII,[Iillli,liIII][ii1IIl(0x203,'fAhj')]('|'),llii11][ii1IIl(0x2e0,')Y^l')]('.'),llliII=llliI1,iiIiIl=[llliI1,iiIi1I[ii1IIl(0x2f4,'r5cN')],'-',ii1IIl(0x265,'sA6y'),'-',Date[ii1IIl(0x200,'EQD(')]()['toString']()]['join']('|');iiIiIl=encodeURIComponent(iiIiIl);let IlI1l1=iiIi1I[ii1IIl(0x2c4,'8WrW')](iiIi1I['rjwoo'](iiIi1I['lmShO'](ili11i,ii1IIl(0x374,'Yvgw')),'-'),llii11),liIliI=iiIi1I['vMXzw'],llii1I=[liIliI,liIII][ii1IIl(0x250,'mZMX')]('.'),iiIiIi=[Iillli,liIliI,Date['now']()[ii1IIl(0x223,'P%l#')]()]['join']('.'),l1lll1=iiIi1I[ii1IIl(0x22d,'zOrt')](iiIi1I[ii1IIl(0x343,'4hai')](Math[ii1IIl(0x24e,'r&CF')](iiIi1I['LxrLa'](0x5,Math[ii1IIl(0x2f6,'fAhj')]())),0x2),0x1)[ii1IIl(0x1fd,'oDfP')](),IilI=iiIi1I[ii1IIl(0x35c,'d(29')](common['genRandomString'](0x20,ii1IIl(0x2d0,'eU)b')),ii1IIl(0x34d,'4hai'));return{'jda':ll11l1,'jdb':ll111,'jdc':llliII,'jdv':iiIiIl,'shshshfpa':IlI1l1,'mba_sid':llii1I,'mba_muid':iiIiIi,'pre_seq':l1lll1,'pre_session':IilI};}else iii1I1=0x1;}function ili11i(lil11,Iillll='abcdef0123456789'){const ii1IIi=II1I;let lllI1='';for(let III11I of lil11){if(iiIi1I['OdjxF'](ii1IIi(0x372,'cs0@'),'UbpQF'))iillll=lIIilI[ii1IIi(0x235,'^[fV')]((ll11i1,ili1I1)=>!IiiIl1[ii1IIi(0x208,'r&CF')]['includes'](ili1I1+0x1)),l1lIlI[ii1IIi(0x2b5,'zOrt')]=[];else{if(iiIi1I[ii1IIi(0x37b,'e!*g')](III11I,'x'))lllI1+=Iillll[ii1IIi(0x2c6,'cs0@')](Math[ii1IIi(0x32b,'d(29')](Math[ii1IIi(0x303,'e!*g')]()*Iillll['length']));else iiIi1I[ii1IIi(0x253,'is[Y')](III11I,'X')?iiIi1I['LwusC'](iiIi1I[ii1IIi(0x36b,'ApoX')],iiIi1I['kTcBW'])?i11il1+=ii1iiI:lllI1+=Iillll['charAt'](Math[ii1IIi(0x260,'vI$q')](Math[ii1IIi(0x1dd,'G!RU')]()*Iillll[ii1IIi(0x1f5,'16Ht')]))[ii1IIi(0x2bb,'sA6y')]():iiIi1I[ii1IIi(0x285,'kLJ7')]('uGATF',ii1IIi(0x264,'r5cN'))?(II1il['log'](lllI11),I1lIll&&(II1ii[ii1IIi(0x255,'tDGI')]=!![])):lllI1+=III11I;}}return lllI1;}async function iiIi1l(liIllI,ll11i){const I1ll1l=II1I,iI1lI1={'nJWph':function(I1I1li,l1i11){return iiIi1I['QrGSS'](I1I1li,l1i11);}};try{if(iiIi1I['kkKgl']!=='HDosm')return IlIliI[I1ll1l(0x2ac,'0RPD')](iiIi1I['VQaRQ'](l1iII1['random'](),iiill1-lIli1i))+IIIII1;else switch(liIllI){case iiIi1I[I1ll1l(0x2db,'e6oV')]:if(ll11i[I1ll1l(0x31b,'P%l#')]==0x0){if(iiIi1I[I1ll1l(0x2fc,'qSYS')]('ZcIzy',iiIi1I['kUIcJ']))II1Il=lilIlI;else{let ll11l=ll11i?.[I1ll1l(0x219,'j!2*')]?.[I1ll1l(0x2bc,'18V9')]||[],III111=[];for(let l1llli of ll11l){let iI1lII='';switch(l1llli[I1ll1l(0x2d2,'qSYS')]){case 0x1:case 0x13:{iI1lII=iiIi1I['LibXE'](prize_map[l1llli[I1ll1l(0x2e7,'tDGI')]],l1llli[I1ll1l(0x2da,'vI$q')]+'元');break;}case 0x3:case 0x11:{if(iiIi1I[I1ll1l(0x2b4,'Yvgw')]===I1ll1l(0x245,')Y^l')){iI1lII=iiIi1I[I1ll1l(0x37e,'^[fV')](prize_map[l1llli[I1ll1l(0x379,'e!*g')]],l1llli[I1ll1l(0x370,'&wb&')]);let ll11iI=iiIi1I['YuEOP'](l1llli['quota'],0x0)?'满'+l1llli[I1ll1l(0x1ff,'z0Cb')]:iiIi1I['OISYB'];iI1lII+='('+ll11iI+'减'+l1llli[I1ll1l(0x32e,'9lX)')]+')';break;}else llIll1[I1ll1l(0x34a,'z0Cb')]('❌\x20脚本运行遇到了错误\x0a'+Illl1l);}case 0x6:{if(iiIi1I[I1ll1l(0x300,'oDfP')](iiIi1I['pLazi'],I1ll1l(0x363,'JEn3'))){if(iI1lI1[I1ll1l(0x1d6,'TBDw')](IllI1I[I1ll1l(0x36f,'zbH2')](liIii[I1ll1l(0x2ae,'EQD(')]('=')[0x1]),-0x1))II1ll1+=IlI1Ii[I1ll1l(0x317,'r5cN')](/ /g,'')+';\x20';}else{iI1lII=iiIi1I['UDfgI'](prize_map[l1llli[I1ll1l(0x302,'g(cA')]],l1llli[I1ll1l(0x28e,')Y^l')]);let I1I1ll=iiIi1I['YuEOP'](l1llli[I1ll1l(0x350,'gylF')],0x0)?'满'+l1llli[I1ll1l(0x348,'mZMX')]:I1ll1l(0x2f1,'18V9');iI1lII+='('+I1I1ll+'打'+l1llli['discount']+'折)';break;}}default:{if(I1ll1l(0x346,'JEn3')!==I1ll1l(0x359,'9lX)')){iI1lII=prize_map[l1llli[I1ll1l(0x1e9,'cs0@')]||iiIi1I['nFFqK']]||I1ll1l(0x2dd,'9lX)')+l1llli[I1ll1l(0x1e2,'gylF')]+']',console['log'](''+ill1II+JSON[I1ll1l(0x32a,'gylF')](l1llli));break;}else l1iIIl=iiilll[I1ll1l(0x36a,'mZMX')](',');}}III111[I1ll1l(0x1ef,'18V9')](iI1lII);}console[I1ll1l(0x2f8,'2at[')](''+ill1II+III111[I1ll1l(0x318,'zbH2')](',\x20'));let liIll1=III111[I1ll1l(0x345,'16Ht')](liiiil=>{const I1ll1i=I1ll1l;return liiiil[I1ll1i(0x2c9,'8WrW')](I1ll1i(0x256,'(&Wg'))||liiiil[I1ll1i(0x31e,'ApoX')]('[打折券]')||liiiil[I1ll1i(0x339,'[GM1')](I1ll1i(0x229,'e!*g'))?'':liiiil;})['filter'](Boolean);i1llil[I1ll1l(0x385,'vI$q')](liIll1['join'](',\x20'));}}else console[I1ll1l(0x292,'FC*L')](''+ill1II+ll11i[I1ll1l(0x24a,'fARH')]+'['+ll11i[I1ll1l(0x319,'z0Cb')]+']'),ll11i[I1ll1l(0x2cf,'8WrW')]?.[I1ll1l(0x216,'r5cN')](I1ll1l(0x30e,'1nG8'))&&(l1i1I1=!![]);break;}}catch(IIIIli){console[I1ll1l(0x335,'oDfP')](I1ll1l(0x242,'1nG8')+liIllI+I1ll1l(0x2d4,'vI$q')+(IIIIli[I1ll1l(0x376,'@OTC')]||IIIIli));}}async function li11I(lllIi){const i11iII=II1I;if($[i11iII(0x23a,'@OTC')])return;let lil1l='',lllIl=null,Iliii=null,illlii=i11iII(0x324,'4hai'),I1lIIi={},l1i1i={};switch(lllIi){case'getCoupons':l1i1i={'appId':'c822a','functionId':iiIi1I['aLjRm'],'appid':iiIi1I['UUCrA'],'clientVersion':common[i11iII(0x246,'EQD(')](),'client':i11iII(0x382,'fARH'),'body':{'platform':0x4,'unionActId':0x79c9,'actId':iiIi1I[i11iII(0x2ef,'r5cN')],'d':llIIil,'unionShareId':llIIii,'type':0x1,'qdPageId':iiIi1I[i11iII(0x369,'&wb&')],'mdClickId':i11iII(0x30c,'oDfP'),'actType':0x2},'version':i11iII(0x349,'Bx7f'),'ua':Ii1I1i,'t':!![]},I1lIIi=await H5st[i11iII(0x257,'gylF')](l1i1i),lil1l='https://api.m.jd.com/api',lllIl=I1lIIi[i11iII(0x2a9,'4hai')];break;default:console[i11iII(0x1f1,'e6oV')]('❌\x20未知请求\x20'+lllIi);return;}const I1iI1i={'x-api-eid-token':IIlIl,'loginType':0x2,'_':iiIi1I['yQifI'](new Date()['getTime']()+new Date()['getTimezoneOffset']()*0x3c*0x3e8,iiIi1I[i11iII(0x2a0,'x[iU')](iiIi1I[i11iII(0x2bd,'fAhj')](0x8*0x3c,0x3c),0x3e8))};lllIl&&('nBRVJ'==='nBRVJ'?lllIl={...lllIl,...I1iI1i}:(illIiI['log'](''+lI1lli+Ill1l['msg']+'['+llI1Il[i11iII(0x2dc,'Bx7f')]+']'),ii1iii[i11iII(0x304,'^[fV')]?.[i11iII(0x2c8,'FC*L')](i11iII(0x2b8,'Yvgw'))&&(Ill1i=!![])));Iliii&&(iiIi1I[i11iII(0x286,'mZMX')]!=='xbZWR'?Iliii={...Iliii,...I1iI1i}:lilIil[i11iII(0x1de,'cs0@')](iiIi1I['NathC']));const l1i1l={'url':lil1l,'method':illlii,'headers':{'accept':iiIi1I[i11iII(0x2ca,'0RPD')],'Accept-Language':iiIi1I[i11iII(0x1e7,'9lX)')],'Content-Type':iiIi1I[i11iII(0x33b,'j!2*')],'Cookie':iiIi1I[i11iII(0x283,')Y^l')](Ii1I1l,'\x20')+li11i,'X-Requested-With':'XMLHttpRequest','Referer':i11iII(0x34f,'8WrW'),'X-Referer-Page':iiIi1I[i11iII(0x2fa,')Y^l')],'Origin':iiIi1I[i11iII(0x201,'8WrW')],'x-rp-client':iiIi1I['KBfKU'],'User-Agent':Ii1I1i},'params':Iliii,'data':lllIl,'timeout':0x7530};illlii===iiIi1I[i11iII(0x314,'16Ht')]&&(iiIi1I[i11iII(0x35e,'FC*L')](iiIi1I[i11iII(0x2ce,')Y^l')],iiIi1I['ccCFx'])?(delete l1i1l[i11iII(0x316,'fAhj')],delete l1i1l['headers']['Content-Type']):lllI1l=!![]);const I1iI1l=0x1;let illlil=0x0,Iliil=null,I1lIIl=![];while(illlil<I1iI1l){if(iiIi1I['oqKQY'](i11iII(0x21f,'[GM1'),iiIi1I[i11iII(0x378,'e!*g')]))lil=IllI1l[i11iII(0x2f0,'JEn3')](',');else{const IIIIlI=await common[i11iII(0x209,'d(29')](l1i1l);if(!IIIIlI[i11iII(0x21e,'&wb&')]){if(i11iII(0x206,'4hai')===iiIi1I[i11iII(0x27d,'r5cN')])IliilI['log']('邀请链接:\x20'+i1II1[i11iII(0x353,'mZMX')]),iIIl11[i11iII(0x368,'r5cN')](i11iII(0x33c,'kLJ7')+l1l1I1['red618code']);else{Iliil=i11iII(0x234,'zOrt')+lllIi+'\x20请求失败\x20➜\x20'+IIIIlI[i11iII(0x1f0,')Y^l')],illlil++;continue;}}if(!IIIIlI[i11iII(0x26d,'sA6y')]){Iliil='🚫\x20'+lllIi+'\x20请求失败\x20➜\x20无响应数据',illlil++;continue;}iiIi1I[i11iII(0x347,'tDGI')](iiIi1l,lllIi,IIIIlI[i11iII(0x1fe,'EQD(')]),I1lIIl=![];break;}}illlil>=I1iI1l&&(iiIi1I[i11iII(0x2e1,'mZMX')](i11iII(0x33a,'EQD('),i11iII(0x325,'1nG8'))?(console[i11iII(0x29e,'x[iU')](Iliil),I1lIIl&&($[i11iII(0x255,'tDGI')]=!![])):lillII[i11iII(0x27b,'TBDw')]=!![]);}}async function getAuthorCodeList(lllII){const lI1Ii1=i11iIi,l11iII={'szsyi':lI1Ii1(0x27f,'^[fV')},l1i11i=await common['request']({'url':lllII,'method':'GET','headers':{'User-Agent':l11iII[lI1Ii1(0x1fb,')Y^l')]},'proxy':null,'debug':![],'timeout':0x7530}),l11iI1=l1i11i[lI1Ii1(0x1cd,'P%l#')];return l11iI1;}function random(IliiI,lI111i){const i1I11=i11iIi,I1lIII={'xUsLs':function(liIlll,I1iI1I){return liIlll-I1iI1I;}};return Math['floor'](Math[i1I11(0x23c,'g(cA')]()*I1lIII['xUsLs'](lI111i,IliiI))+IliiI;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
