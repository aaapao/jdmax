/*
PDD转赚红包助力3

链接：https://pro.m.jd.com/mall/active/3ehwhsrTRZUWWQYsTtHtD2sKvzcL/index.html

环境变量：
JD_PDD3_InviterId // 指定助力码 非必须，不填默认助力账号一
JD_PDD3_NUM // 指定人数  非必须，不填默认跑全部账号

cron:1 1 1 1 *

*/

const $ = new Env('PDD转赚红包助力3');
var iｉl='jsjiami.com.v7';const l11i11=iii1II;function Iii11l(){const IiII=(function(){return[...[iｉl,'VFjsIWqjniQaOemPiXYW.WfLcRomT.TDvy7fVGXW==','W6aUEqf4ACkeW7hcMmocxmkLWRldMSkWWRyp','W7lcU8kS','guyEa8o6','tmooWP/dS8od','W5T8W5RcSSkv','WQRcKSkBjbzuW6i','beLhW6C','W4FcT8kmW7FdLq','q8oWcf7cNG','W6LGWRzNlWK','WRfYW4lcG1tcPG','WQH3oq','aceCj38','a8o1W7NdJcvcWRi7cv3dR8kKW7elofxcSw8fxSopcsy','atldNxZdKW','W5HKW4lcV8ka','WQ3cICk6ha1oW7GL','y8oSq8k3f0xcSKxdGCkCW680WPOjfK5NW6nhWOKmW5tcIW','vSogWRhdJSoM','e8kfW5a','WPHuue/cIvHLimkrW5hcVSopWOW','W4aftZ8','vCkvuCkbf8oe','W5FcRCktW7tcRq','ECoiWOVdSg4','uCoUW5ZcTshdGCoOzW','d0/dU8oFWPS0aNJcLCoqW6ZdUa','W57cPYdcJSkIAmkyra','js1QW7qq','WQD1svJdIxKM','bsaF','hfNdOuBdNdy','W4dcQMNcRSod','rmkDvmkb','pK3cHmkP','W4BdI8o7WQNdQW','4P23wEs4SEIcRoIeJ+w3NowiPEwjT+IeLUw0Ua','WRVdJCkq','bSo+W6hdGIvp','nMpdHCo9WROzx1hcSSolW73dO3pdMG','o8o0W7rczrqY','WR7dM8kBWRHkgCkfefCe','WRDWp8oeW5nbW6/dNt/cLmoXnq','hCkpW5CuWO/cLahcJ8kRWQhdVCkAWRPsWPuSWONcGmkv','W6m9WQW','W6tcJSofW7GTsmkuxf1hjCozW5FdQLuPWOJcSSkpW5nueMDkW4tcM3NdS8kYW5LNpW','guNdJCoKna','W4ryW7JdTW','W5RdGCokqbu','dmkYW43cLIddGSo+smksW7BdRKVdLG3cKKiD','nddcOqK','WQLRoq','WRJdHSk0WPLn','BCofcmo6WOW','WPxcOvFcVCo/W5tcOxKLW5qxWP7dJSo9','4O6M77QEWQdMNkdOGQ3MRitNOkJOJiJLJ7VLIlRLIPdLIkRNOAxVVlJPGOBLH5JMIjxOOB/VVi8','EmosWPVdPwv7omoYWRJcM8kSWQxcPmkHW7dcMNjvhmkv','emkpW6JcUJC','FmoOWO/dOG','BCoTqSkTcq','voIUR+AZJowKJUI2L8kW4P+DzEAuNUwsV+w4H+AxJUApJq','WOO3WPhdPmorWQVcO8kmW5CRmCkMWOa','g0NdT8oSEW','4P67yEAYHUADLowiPEwjPEAVL+AxJW','jmkKWQyL','p8oZW6zigq','4P+pWQJMNP3NNktORBtMSl9I','z8oJrq','WRZcLmkBjqXa','qCo6gW','W4VcGSkRW7xdUmk0WPe','WQtdISkrWRLF','W7BcSCkNW7dcPePs','WQVcK8khlrfd','cI4wfwzMbIRcKt/dOq','BSo2WPxdQmoL','p2NdL0/dMYhdIq','bgSCn8oa','wmkJWR3cKwCqW4iliMVdR8k8W7K','W4KfqJq','oSoFW4VdOd9d','W6ldKNxdT3m','FCodWPZdPNCMCG','jmkvW5VcOszZjSksWO7cImkkW5VcOG','W5hcSCk4W4VcGq','WOtdKvZdMq/cO0i','W4SKhJX6DCobWP3cSSoyhSkiWRxdU8kvWPrDoePBW7mx','WR/dKmktWQ1G','iX3cVcNdGW','a1PwW6C3xa','eYFdJSocmCkqn21GcgRcKSor','WQnYeW','yCo0WOZdRSoJWP0Z','W5pdSmoTWRVdOq','deDu','4P6eioA0HUwkTUEdJUEiNG','gGRdUH9IWQO','aM7dS8oLnmkdW7DitdtcVICOWQy'],...(function(){return[...['W6LSW6CLFmoUWRhLVONLPQFJGixKUPFKU47OTPZLJR4','WOLru0i','WRuUWRjNaWTNW7NcNM0','pM3cMmkeW5u','itO7dMO','4PYlW6VLIAVLI5VNOAFLPO3MLyZVVztKVAROGPJMN4pLVBpLK53MT5ZLIOdVVAy','DCo/W7f2uSkjpgHgW6NcPtJcLmkJ','W4KfsdDvsG','mX3dMG','W67cOmkuW7dcO1e','EehcNCkFzSkC','EJW5e8oEtSkmuSo+DwlcR8kPamoKcq','4PYwdowjMEwjK+EIL+wLTEAwKU+/PoIUSowhTUwmNEw9IEwrQoAuLUs4S+I/NUA1V+wjP+wqPEwhSEI8OEIHTUwqVU+/Lq','WRX8dmkncCk7WQ4','WQldOCogW7GOt8oauqjjjmkoWRW','WOtdKu7dLqm','cCoIW6v4hGyRW5O','eJldPf3dLq','E8kSzmkGbq','amkUW4NcSIFdGa','WODQuNBdKW','cCoIWQZdSCoOFmoN','l8kyW6tcRXddO8klFSkVW5ddIG','WOTsW6u','W6nqbSoEW64','bSo0W6G','WQ9YW4FcLhi','WPSUqa','lsL3','vSkot8k4aCor','WQzYbW','W6frbCoV','WONcUHhdV8kIWO3dQMyhW4u5WRddHmokaSk6WPJdP2u+oJZcQmowbCkwyW','B8oMdSovWPe','W7FcUSk9W6NcVLP5WPn8fsxdQCk6WRBdUxLz','ouhdMCoVcq','oCo/W7y','rCoNcSo1WPhdK8ozsmkHWReaibTygCk+WOa','a8o1W7NdJcvcWRi7cv3dR8kKW7eHof/cRG','WO0PWRO','WRRdKCkq','WQhcMSkbi3WDmY/dJSkaW6u','mSoWW61V','W5jHW4/cMmkvW6G','DCoLWPZdGCom','s3hcKa','W6LKWOjzca','heFdVG','mmo+W6C','WOtcGwhcJ8oCWOWN','WPbinCk9hq','jdJcUa0','WPjzj8ovhmonWQeRiCklWPhdQaugWQBdPtP6ndWgD3NdRgD3lr17mmo9rCkJWQv8FcCPnSofWPjbWO4','WP9ntKVcI1bF','kK3cGSkPW7S3WP7cItpdNW','WQ5Ccmk0lW','qmoMgW','W6n4gmoPW6q','W4VdPfFdINK','B8oeWQ7dI8oSwCoRWQG','bmkmW6/cJHG','W4uCsd99','WRbCkSoMW6i','r8o6aM4','c8k1W5JcLbRdHSovra','4PYPwowfJUwLLEwWOoE4P8kwCCoiWQi','AxBdMmoLcSkZW6y','4P6VzUwjPowkLoEHL+AFRUwJSoweKa','WOvxW7lcPW','o1BdI8ofl8kfW4r1tsa','amooW5/dSIK','mJJcOGJdRZC','WPpMNkRNN5JLIRFLIl7NIQ7MGydcJN3cIG','wmoEWRhdTmorxW','jCkIWRGnfCoB','WOiZWRLNoCk2W5JdPGHW','fHBdVJTLWQJdVJBcLCoBtSocAsZdNMNdQa','WQTBg8o9W5G','p2JdHMddLYhdJG','W5xcTxlcJmo4WOWSWOxcQ8oJWOuAzSomuZRcKZf8','WRzTmmoZW5Hm','W7FdSfZdNge','WQRdPwpdQcG','tmoHeNVcRdVdH3HcsmoVAmodWO7cNupcVhjCW7HobSkOhCkvW6/dG8k+ESoCEZxdNSkqWO0tW5FcTCk2WP7dQ0PxWRanC8kvWRHNlmkxWP4NWRRcPCoNWPVdO2LasSoSESobW5j1WPpcK8k8W7LXWQm','cr1hW5Wy','WR0dyI/dK8kkWPJdS8kpW4j4WQxcUN7cQdxdSCovpY5OhmkfDmkEW4eIkmk+WP9zWO3dJsdcLCorW7ytxCk+W41iW7K','axONCYKItwG','w8ouWR/dKmouuCoYWQrTjSkQEZldHd3dPaBcH8kW','eeJdVq','WQ7cH8kaha','WQX0ga','bmoYW6ZdJH9gWPK3','cmk5W4JcJdxdGmoD','WPzNzwhcIq','gqVcGHZdLq','W48yvbXpsG','zmo1WP3dGSoLWOO','iJdcTIhdSZ0','gCoUW6ZdHJruWOC','oxy/fmowrCkA'],...(function(){return['g1ddUW','sx/cMSkE','4P+iW7tMTOdORzxOVjtPGkxMGjJKU5CHsglcJokEGSoE5P6B5yQ154Qk5Og+5QYT5BUmW5ldT8o4Aa','bmkHWRajeG','44gx5OYB56E444gr6k6r5yE06i6Z5y6oDCoYWOyyWPVcGG','W7S9WPGZW7BdJrVdLG','4P6VzUw0V+wkPUwlJEI8G+s4Nq','CCkkzmkwjG','w8oqrCkKcq','4O+D77IrW5FOT53LJ7ddUJn26BUW6k+K5y6z5yMj5yIV5l226igF','W4bwW6W','WOxdI17dGaJdVb9JW4pcGfbpsmoqW77dUCohW5ZdS8kFA8k6W6BdKv5oh8oxW6Lgct7dJYm','gdFdQq','wx0EEMm','vxVcHSkoySosDG','ldBcQW','W6VdNSoBxeKqWQaBW4tcKrGHrW','lcz1W7q','4P60pUwlV+wiOoAkUEwlLGJcRUAeP+IWT00','WPZdIJVdOCkVWOlcPa','zKtcSCkYya','WQpdU2VdOJm','lCodW5xdTZ4','dSk5W57cJ3NdHSousmkxW6a','uh/cNSkp','fHBdVJTLWQJdVJBcLCoBtSocAqBdNMpdT8ksAu5NjCoY','W7PXWQHVkqDPW6BcNMFcK8oiW5qqnCknW4uPiXSVWOZcQbBdQCoAsc5wWPBdL8ogW4y','W6NcTCkIW7q','g8k6W7CPWQi','gd3dOfJdHSo4','WRjOeh3dIW','Bmo7WO7dPG','W7S1ds7cLsX5WRWwWRZcSCkwBq','W7hdQCozWQxdRba','hKBdVCoPCCoYbW','4P2YWRxMNyZLOAdLHyBMJiBLRBlLI77LIQNLJ6lPHy/VVyRLVQ7LPAVLIz7LIRZOTRtLJ6zOWQq8','EmoJw8k6de0','W4meqJre','daZdUJT/WQRdKtNcNW','lKpcO8k8W6qTWRtcJW','WP5bva','WPvlrW','sCocWQJdMSohs8o1','4O6M77QEWQdOTkZLJQC8D8oI6BU16k6U5y6c5yIy5yU/5l2O6ikd','W5XyW7NdRmkc','W4NcR8kjW5xdLW','smocWQxdVmomxa','WOu0srJdOSkA','pedcLCkCW7G','W5pcU8kXW6NcPLnEW5u6shZcPSo8WPFdHNXtesVdJ8oCWPRcHJFcGqv9AXfGvuHUdJFcM2viWPVdU1SnWQVcJ8kAWRvGCmkOtfizW6tdOMroWRBdVd3cGSk7W4GLmCkDWOumwqq0WRrRW7jjWPldKuVdT0PRzsS2W6XGW4NdHCo0bM0edIxcVWBcKhRcHdi6WQC9AmkYWO3dTWnFaSohW5NdT31WWOFcNCohBWS0W6hcKsddSmkaxdddIxpcVmoTwKn9umoYW7y8t13dJCorW4ldIJbiDCoTv0v0W4xcLmo9W6yV','nKpcLW','eeldTmokWOO1','WQ1UsW','W5dcRcJdM8kJWRVdVt05W7eWWPVdMSoBjCk9WRddK3jdddm','ihldGG','cdOmkMHGidFcNdq','cWhcHsJdLW','r2annM5+ehFcQJtdPmk5WPbykGtcK8oqACoRerDp','WP4VqZJdTa','WOnFW7ZcI0NcPq','deBdQmomWPmUkg/cImof','WQBdN8kfWQL1d8kYbe8r','hZ3dT0W','EUIVLoAZVEwrOow7Lmox','evaad8oF','hSkPWOGema','uHDkomkrsmokWOxcJ8k6pCkdyMvjvZ4','W690WRfKnqvMW7u','WRP1u1VdI3W','p8k3bSoQvHxcJuJdO8kPW6Kw','bmkSW4VcKZ3dHmozvCkiW6RdQqVdGgJcILGpoJ3cKCoEDSoUwJZdGmkBaq9DW4rSiG','cqHzW54y','qCoTd38','gai8fh0','cmkFW40DWOdcHa','w8oHCSoTovNcOfxdK8owW54sWQWGb3HnW5n2W7yIW44','W4nRomo+W4CT','W48mWRJcP8oE','W4j7F0dcG14B','cCkZW5W','WQO0W6e1CXzjW6dcGv3cIG','d1xdJmoAfW','BSoJqCk/','WQ12oSotW44','ktFcUGxdTd8GCmkEvJhcULpcR8kDn0S','WPrxrW','t3/cHmkt','ySo2qCkUebRdMWpdGSkDW6L1WPLLguWMW7jnWQXmW5tcJ2KVWODbWP3cOYtdPmoFWP4blCosWOFdUSoehSoawGldPSoRWRJdUcbHjSoZWQFcLhnNvSk8WO3dM8k+n8o/oa5dW7xcPeqZW4FcPeu','WORdML7dVbRcSLu/W5BcSuKrC8kBW6BdRSkaW5ddSG','k8kKWQu','uSoJDSklbW','WOyKW7S4na','FokpME+6K8kT5yQ95yIB56g177Yk','WRpcICkabG','jYpcPrZcRhOcFmklstNcOvJdI8osofW','W4ddSbddHSkUWPldQIGYW4u','cXFdMYzJWQtdLJG','dCkpWOChfq','WRdcICkA'];}())];}())];}());Iii11l=function(){return IiII;};return Iii11l();};(function(ll1lI,l1iii,IIlli,l1iil,ii1l1,lIIill,I11iIi){return ll1lI=ll1lI>>0x2,lIIill='hs',I11iIi='hs',function(I1ilII,I11iIl,l1l11l,IilIil,l1iIi){const lIII1i=iii1II;IilIil='tfi',lIIill=IilIil+lIIill,l1iIi='up',I11iIi+=l1iIi,lIIill=l1l11l(lIIill),I11iIi=l1l11l(I11iIi),l1l11l=0x0;const l1l11i=I1ilII();while(!![]&&--l1iil+I11iIl){try{IilIil=-parseInt(lIII1i(0x244,'J[3J'))/0x1*(parseInt(lIII1i(0x270,'Sde1'))/0x2)+-parseInt(lIII1i(0x2ce,'0A0z'))/0x3*(parseInt(lIII1i(0x2a5,'rDWj'))/0x4)+-parseInt(lIII1i(0x294,'0b3R'))/0x5*(parseInt(lIII1i(0x2ea,'QW7m'))/0x6)+parseInt(lIII1i(0x239,'D8Qc'))/0x7+-parseInt(lIII1i(0x214,'*C7f'))/0x8+parseInt(lIII1i(0x2aa,'ezL@'))/0x9+parseInt(lIII1i(0x28d,'3NHr'))/0xa;}catch(l1iIl){IilIil=l1l11l;}finally{l1iIi=l1l11i[lIIill]();if(ll1lI<=l1iil)l1l11l?ii1l1?IilIil=l1iIi:ii1l1=l1iIi:l1l11l=l1iIi;else{if(l1l11l==ii1l1['replace'](/[IDLTnXWRyFGYPqefQOV=]/g,'')){if(IilIil===I11iIl){l1l11i['un'+lIIill](l1iIi);break;}l1l11i[I11iIi](l1iIi);}}}}}(IIlli,l1iii,function(illIll,iIli1I,Iiil1,iiilli,l1iIIl,iiilll,lI11Il){return iIli1I='\x73\x70\x6c\x69\x74',illIll=arguments[0x0],illIll=illIll[iIli1I](''),Iiil1=`\x72\x65\x76\x65\x72\x73\x65`,illIll=illIll[Iiil1]('\x76'),iiilli=`\x6a\x6f\x69\x6e`,(0x16bc2a,illIll[iiilli](''));});}(0x300,0x7eccb,Iii11l,0xc2),Iii11l)&&(iｉl=0x2b96);const notify=require(l11i11(0x2d9,'3NHr')),jdCookie=require(l11i11(0x2bb,'J[3J')),common=require(l11i11(0x22d,'mzO!')),{H5st}=require(l11i11(0x2c4,'UKA(')),isNotify=process[l11i11(0x228,'*C7f')][l11i11(0x27e,'d9#E')]===l11i11(0x291,']p(['),pddcode=process[l11i11(0x2dd,'*4@K')][l11i11(0x257,'3fbr')]||'',pddnum=process[l11i11(0x2d5,'vBO0')][l11i11(0x2cf,'Sde1')],linkId=l11i11(0x229,'3NHr'),PDD_WAIT='1';let waitTimes=parseInt(PDD_WAIT)*0x3e8;$['helpnum']=0x0,$[l11i11(0x276,'ltyz')]=![];function iii1II(_0xb5ae5d,_0x570c7b){const _0x2b89be=Iii11l();return iii1II=function(_0x12813e,_0x4f1c03){_0x12813e=_0x12813e-0x1eb;let _0xefb04a=_0x2b89be[_0x12813e];if(iii1II['ByPZMh']===undefined){var _0x21d7ed=function(_0x3670ca){const _0x230fd6='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x73f2ad='',_0x3d97f2='';for(let _0x466014=0x0,_0x313e4b,_0x15aa42,_0x57a885=0x0;_0x15aa42=_0x3670ca['charAt'](_0x57a885++);~_0x15aa42&&(_0x313e4b=_0x466014%0x4?_0x313e4b*0x40+_0x15aa42:_0x15aa42,_0x466014++%0x4)?_0x73f2ad+=String['fromCharCode'](0xff&_0x313e4b>>(-0x2*_0x466014&0x6)):0x0){_0x15aa42=_0x230fd6['indexOf'](_0x15aa42);}for(let _0x8e96f=0x0,_0xc14668=_0x73f2ad['length'];_0x8e96f<_0xc14668;_0x8e96f++){_0x3d97f2+='%'+('00'+_0x73f2ad['charCodeAt'](_0x8e96f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3d97f2);};const _0x32dc4d=function(_0xb4b6cd,_0x1092e1){let _0x2893ca=[],_0xc49cd8=0x0,_0x4cfa3b,_0x4bf9f4='';_0xb4b6cd=_0x21d7ed(_0xb4b6cd);let _0x2a4f32;for(_0x2a4f32=0x0;_0x2a4f32<0x100;_0x2a4f32++){_0x2893ca[_0x2a4f32]=_0x2a4f32;}for(_0x2a4f32=0x0;_0x2a4f32<0x100;_0x2a4f32++){_0xc49cd8=(_0xc49cd8+_0x2893ca[_0x2a4f32]+_0x1092e1['charCodeAt'](_0x2a4f32%_0x1092e1['length']))%0x100,_0x4cfa3b=_0x2893ca[_0x2a4f32],_0x2893ca[_0x2a4f32]=_0x2893ca[_0xc49cd8],_0x2893ca[_0xc49cd8]=_0x4cfa3b;}_0x2a4f32=0x0,_0xc49cd8=0x0;for(let _0x4c24d2=0x0;_0x4c24d2<_0xb4b6cd['length'];_0x4c24d2++){_0x2a4f32=(_0x2a4f32+0x1)%0x100,_0xc49cd8=(_0xc49cd8+_0x2893ca[_0x2a4f32])%0x100,_0x4cfa3b=_0x2893ca[_0x2a4f32],_0x2893ca[_0x2a4f32]=_0x2893ca[_0xc49cd8],_0x2893ca[_0xc49cd8]=_0x4cfa3b,_0x4bf9f4+=String['fromCharCode'](_0xb4b6cd['charCodeAt'](_0x4c24d2)^_0x2893ca[(_0x2893ca[_0x2a4f32]+_0x2893ca[_0xc49cd8])%0x100]);}return _0x4bf9f4;};iii1II['hnYPpi']=_0x32dc4d,_0xb5ae5d=arguments,iii1II['ByPZMh']=!![];}const _0x1a4600=_0x2b89be[0x0],_0x46c424=_0x12813e+_0x1a4600,_0x3de686=_0xb5ae5d[_0x46c424];return!_0x3de686?(iii1II['LhslZY']===undefined&&(iii1II['LhslZY']=!![]),_0xefb04a=iii1II['hnYPpi'](_0xefb04a,_0x4f1c03),_0xb5ae5d[_0x46c424]=_0xefb04a):_0xefb04a=_0x3de686,_0xefb04a;},iii1II(_0xb5ae5d,_0x570c7b);}let cookie='';const cookiesArr=Object[l11i11(0x232,'6r4!')](jdCookie)[l11i11(0x29a,'D8Qc')](IIII1I=>jdCookie[IIII1I])[l11i11(0x26d,'j[yP')](Iii111=>Iii111);!cookiesArr[0x0]&&($[l11i11(0x1f4,'Z#AX')]($[l11i11(0x2e3,'*4@K')],l11i11(0x1f8,']UHU')),process[l11i11(0x23c,')H(I')](0x1));!(async()=>{const IilIl1=l11i11,l1l1II={'PxPPw':function(Iil1I1,Ii1iII){return Iil1I1(Ii1iII);},'oHQSN':'http://code.257999.xyz/yqlxj.json','vtKbM':IilIl1(0x1f6,']sN@'),'OesKK':IilIl1(0x30e,'gn@P'),'kolJD':IilIl1(0x2ed,'cbAP'),'IfHgK':IilIl1(0x2ad,'3fbr'),'rtfqG':IilIl1(0x23f,'D8Qc'),'dAhLC':function(l1i11I,II11II,Ii1iI1){return l1i11I(II11II,Ii1iI1);},'Ojohv':IilIl1(0x2fa,'IVL*'),'rhWmH':function(lilIli,Iliili){return lilIli<Iliili;},'aPTqL':function(Iliill,IIII11){return Iliill+IIII11;},'HpLjj':function(i1illi,i1illl){return i1illi(i1illl);},'jUPWx':function(I1llil,I1llii){return I1llil*I1llii;},'UvswW':function(lilIll){return lilIll();}};authorCodeList=await l1l1II[IilIl1(0x2a4,'UKA(')](getAuthorCodeList,l1l1II[IilIl1(0x221,'8ou6')]);if(authorCodeList)console[IilIl1(0x1fe,'jpJ&')](l1l1II['vtKbM']),$[IilIl1(0x22b,'mzO!')]=authorCodeList[random(0x0,authorCodeList[IilIl1(0x227,'d9#E')])];else{let l1i111=[l1l1II[IilIl1(0x2ab,']sN@')],l1l1II['kolJD'],l1l1II['IfHgK'],l1l1II[IilIl1(0x29e,'NXh^')]];$[IilIl1(0x2fe,'esn4')]=l1i111[l1l1II[IilIl1(0x2f0,'cbAP')](random,0x0,l1i111[IilIl1(0x211,'6r4!')])],console[IilIl1(0x22a,'ltyz')](l1l1II[IilIl1(0x2cd,'*C7f')]);}if(pddnum)console[IilIl1(0x226,'7EKT')]('❖\x20已填写指定人数变量，指定人数\x20['+pddnum+']');pddcode?console[IilIl1(0x200,'6r4!')]('❖\x20已填写指定助力变量，开始助力\x20['+pddcode+']'):console[IilIl1(0x243,'Sde1')](IilIl1(0x217,')H(I'));notify[IilIl1(0x2c0,'3fbr')]({'title':$[IilIl1(0x1f5,'EcKM')]});for(let iliII1=0x0;l1l1II['rhWmH'](iliII1,cookiesArr[IilIl1(0x27d,'rDWj')]);iliII1++){$[IilIl1(0x26f,'ezL@')]=l1l1II[IilIl1(0x210,'7OQf')](iliII1,0x1),cookie=cookiesArr[iliII1],common['setCookie'](cookie),$[IilIl1(0x2f4,'0A0z')]=decodeURIComponent(common['getCookieValue'](cookie,IilIl1(0x2c2,']sN@'))),$['UA']=common[IilIl1(0x25f,')H(I')]($[IilIl1(0x272,'5@ah')]),$[IilIl1(0x2a9,'ezL@')]=notify[IilIl1(0x2b0,'4Ck4')]($[IilIl1(0x2ae,'NXh^')],$['UserName']),$[IilIl1(0x1eb,'rDWj')]='',console[IilIl1(0x283,'AtlP')](IilIl1(0x2b9,'((F7')+$[IilIl1(0x263,'mzO!')]+'】'+($[IilIl1(0x2f9,'Sde1')]||$[IilIl1(0x2c9,'*4@K')])+'******\x0a'),$['hash']=gen_jda_cookie(),$[IilIl1(0x2a3,'ltyz')]=IilIl1(0x2c3,'EcKM')+$[IilIl1(0x286,'jpJ&')]['jda']+IilIl1(0x242,'UBho')+$['hash'][IilIl1(0x2e8,'Z#AX')]+IilIl1(0x207,'3NHr')+$['hash'][IilIl1(0x2d0,'MIBZ')]+';__jdv='+$[IilIl1(0x24a,'EcKM')]['jdv']+';;',$['uuid']=l1l1II[IilIl1(0x25e,'8ou6')](l1l1II[IilIl1(0x2f5,'Sde1')](new Date()['getTime'](),''),l1l1II['HpLjj'](parseInt,l1l1II[IilIl1(0x2ff,'rDWj')](0x7fffffff,Math[IilIl1(0x300,'2AAk')]()))),await l1l1II[IilIl1(0x245,'esn4')](Main),common['unsetCookie']();if($[IilIl1(0x2a7,'rDWj')]||$[IilIl1(0x222,'0A0z')])break;await $[IilIl1(0x20f,']sN@')](l1l1II[IilIl1(0x2bc,'7EKT')](parseInt,l1l1II['jUPWx'](waitTimes,0x1)+0x64,0xa));}isNotify&&notify[IilIl1(0x253,'3NHr')]()&&(notify[IilIl1(0x26b,'UBho')]('\x0a'),await notify[IilIl1(0x2ba,'UBho')]());})()['catch'](II11I1=>$[l11i11(0x1f0,']p([')](II11I1))[l11i11(0x2ee,'UBho')](()=>$['done']());async function Main(){const lIII1l=l11i11,Iii11I={'zMvXY':function(Iil1II,iIIl1I){return Iil1II==iIIl1I;},'qpRyS':lIII1l(0x21f,'*4@K'),'oCEKn':function(I1iIli,lI1Ill){return I1iIli(lI1Ill);},'lqzwD':function(lI1Ili,IliilI){return lI1Ili==IliilI;},'rwjfo':function(i1II1){return i1II1();},'JxCSn':function(iIIl11,l1l1I1){return iIIl11(l1l1I1);},'ZUUEq':function(I1iIll,I1lliI){return I1iIll(I1lliI);}};$[lIII1l(0x2a1,'mzO!')]=!![];try{if(pddcode)Iii11I['zMvXY']($[lIII1l(0x2c8,'%190')],0x1)?(console[lIII1l(0x311,'d9#E')](Iii11I['qpRyS']),await Iii11I[lIII1l(0x1ed,'UBho')](inviteFissionhelp,$['authorCode'])):await Iii11I[lIII1l(0x306,'hDpb')](inviteFissionhelp,pddcode);else{if(Iii11I[lIII1l(0x269,'0A0z')]($[lIII1l(0x219,'3fbr')],0x1)){console[lIII1l(0x2d7,'cbAP')](lIII1l(0x1fd,'EcKM')),await Iii11I['rwjfo'](inviteFissionHome);if($[lIII1l(0x2a0,'4vzp')])return;await Iii11I['JxCSn'](inviteFissionhelp,$[lIII1l(0x304,'((F7')]);}else await Iii11I[lIII1l(0x2eb,'cbAP')](inviteFissionhelp,$[lIII1l(0x271,'d9#E')]);}}catch(llIllI){console[lIII1l(0x2b5,'4Ck4')](llIllI[lIII1l(0x1f3,'UKA(')]);}}async function inviteFissionHome(){const l1iIIi=l11i11,I1ilI1={'mNyhc':function(iillll,lIIilI){return iillll(lIIilI);},'tDtPT':'inviteFissionBeforeHome','ALtfi':function(II1li1,l1lIlI){return II1li1+l1lIlI;},'NDARH':function(IiiIl1,lIIil1){return IiiIl1*lIIil1;},'OZMRx':function(IIli1,II1liI){return IIli1(II1liI);},'JeSym':function(IlI1i1,l1lIl1,IiiIlI){return IlI1i1(l1lIl1,IiiIlI);},'fjjbg':function(Iilli1,I1l1Il){return Iilli1+I1l1Il;},'KXIDW':'yyyy-MM-dd\x20HH:mm:ss'};await I1ilI1['mNyhc'](sendRequest,I1ilI1[l1iIIi(0x2f7,'hDpb')]);if($[l1iIIi(0x223,'gn@P')])return;await $[l1iIIi(0x312,'4vzp')](parseInt(I1ilI1[l1iIIi(0x28c,'E0@B')](I1ilI1[l1iIIi(0x2d3,'MIBZ')](waitTimes,0x1),0x64),0xa)),await I1ilI1[l1iIIi(0x2a8,'CP4Y')](sendRequest,l1iIIi(0x248,'2AAk')),await $[l1iIIi(0x20c,'EcKM')](I1ilI1['JeSym'](parseInt,I1ilI1[l1iIIi(0x2ca,'6r4!')](I1ilI1[l1iIIi(0x209,'%190')](waitTimes,0x1),0x64),0xa));if($[l1iIIi(0x2db,']sN@')]?.['inviter']){$[l1iIIi(0x281,'hDpb')]=$['inviteFissionHome']?.['inviter'];const llIll1=new Date()[l1iIIi(0x2c6,'cbAP')](),Illl1l=I1ilI1[l1iIIi(0x266,'0b3R')]($[l1iIIi(0x288,'Sde1')]?.['countDownTime'],llIll1),Illl1i=$[l1iIIi(0x289,'2AAk')](I1ilI1[l1iIIi(0x22c,'2AAk')],Illl1l);console[l1iIIi(0x262,'hDpb')]('⏺️\x20已开启活动，到期时间：'+Illl1i+l1iIIi(0x250,'Z#AX')+$['shareinviter']);}else console[l1iIIi(0x24d,']UHU')](l1iIIi(0x28e,'*4@K')),$[l1iIIi(0x23e,'7OQf')]=!![];}async function inviteFissionhelp(lIIiil){const lilIi=l11i11,l1lIii={'JDEGs':function(I11iI1,l1lIil){return I11iI1(l1lIil);}};$[lilIi(0x2b3,']p([')]=lIIiil,await l1lIii[lilIi(0x255,']UHU')](sendRequest,lilIi(0x305,'IVL*'));}async function handleResponse(IiiIli,iillli){const l1l11I=l11i11,I1l1Ii={'ORWxn':l1l11I(0x2de,'E0@B'),'GZIXS':function(I1i11i,I1i11l){return I1i11i===I1i11l;},'gowsj':function(llIlii,llIlil){return llIlii===llIlil;},'ujSCa':function(IIlil,ilI1lI){return IIlil==ilI1lI;},'YRNpU':l1l11I(0x20d,'IVL*'),'CjrIt':function(IiiIll,IIlii){return IiiIll===IIlii;},'qMDVz':function(IlI1il,IilliI){return IlI1il===IilliI;},'HPYUw':'inviteFissionHome','fleTn':function(IlI1ii,lIIiii){return IlI1ii===lIIiii;}};try{switch(IiiIli){case I1l1Ii[l1l11I(0x2e5,'0A0z')]:if(I1l1Ii[l1l11I(0x30b,'%190')](iillli?.[l1l11I(0x2f8,')H(I')],0x0)&&I1l1Ii[l1l11I(0x292,'D8Qc')](iillli?.[l1l11I(0x21e,'0A0z')],!![])){$[l1l11I(0x2df,'rDWj')]=iillli[l1l11I(0x2fd,'MIBZ')];switch($[l1l11I(0x236,'unqe')]?.[l1l11I(0x280,'NXh^')]){case null:console['log'](l1l11I(0x2fc,'((F7'));break;case 0x0:console[l1l11I(0x21d,'UBho')](l1l11I(0x27b,'unqe'));break;case 0x1:if($[l1l11I(0x22e,'gn@P')]==0x1)console['log'](l1l11I(0x206,'l2b('));else{$['helpnum']++,console[l1l11I(0x258,']sN@')]('✅\x20助力成功\x20['+$[l1l11I(0x29f,']sN@')]+']');if(pddnum){if(pddnum<=$['helpnum']){console['log']('✅\x20当前助力已达到指定助力人数，退出！'),$[l1l11I(0x261,'MIBZ')]=!![];return;}}}break;case 0x2:console[l1l11I(0x2e6,'EcKM')](l1l11I(0x2b6,'*C7f'));break;case 0x3:console[l1l11I(0x2f1,'E0@B')](l1l11I(0x296,'gn@P'));break;case 0x6:console[l1l11I(0x2f1,'E0@B')](l1l11I(0x1fa,'((F7'));break;case 0x8:if(I1l1Ii[l1l11I(0x265,'6r4!')]($[l1l11I(0x247,'hDpb')],0x1)){console[l1l11I(0x2d4,'gn@P')](l1l11I(0x2be,']UHU'));break;}else{console['log'](l1l11I(0x2c5,'7EKT'));return;}default:{console[l1l11I(0x2d2,'rDWj')](l1l11I(0x301,'*C7f')+helpResult+']');break;}}}else{if(iillli[l1l11I(0x2ec,'2AAk')]?.[l1l11I(0x22f,'MIBZ')])console['log']('>\x20'+iillli[l1l11I(0x2b7,'IVL*')]);else{if(iillli[l1l11I(0x2cc,'Sde1')])console[l1l11I(0x1fe,'jpJ&')]('>\x20'+iillli[l1l11I(0x29b,'4vzp')]);else iillli[l1l11I(0x29c,'E0@B')]?console[l1l11I(0x2e1,'NXh^')]('>\x20'+iillli['msg']):console[l1l11I(0x2b5,'4Ck4')]('❓'+IiiIli+'\x20'+JSON['stringify'](iillli));}}break;case I1l1Ii[l1l11I(0x1ee,'2AAk')]:if(I1l1Ii[l1l11I(0x285,'esn4')](iillli?.[l1l11I(0x297,']UHU')],0x0)&&I1l1Ii[l1l11I(0x23d,'mzO!')](iillli?.['success'],!![]))$['inviteFissionBeforeHome']=iillli[l1l11I(0x25d,'4Ck4')];else{if(iillli[l1l11I(0x205,'vBO0')]?.[l1l11I(0x1f1,'2AAk')])console[l1l11I(0x283,'AtlP')]('>\x20'+iillli[l1l11I(0x213,']p([')]?.[l1l11I(0x302,'0A0z')]+'}');else{if(iillli[l1l11I(0x2d6,'j[yP')])$[l1l11I(0x240,'l2b(')]=!![],console['log']('>\x20'+iillli['errMsg']);else iillli[l1l11I(0x28a,'hDpb')]?console[l1l11I(0x2e9,'*4@K')]('>\x20'+iillli[l1l11I(0x28a,'hDpb')]):console[l1l11I(0x275,'mzO!')]('❓'+IiiIli+'\x20'+JSON['stringify'](iillli));}}break;case I1l1Ii[l1l11I(0x2cb,'j[yP')]:if(I1l1Ii[l1l11I(0x1f7,']UHU')](iillli?.[l1l11I(0x2a6,'3fbr')],0x0)&&I1l1Ii[l1l11I(0x224,'7EKT')](iillli?.[l1l11I(0x1f2,'rDWj')],!![]))$['inviteFissionHome']=iillli[l1l11I(0x279,'7EKT')];else{if(iillli['data']?.['bizMsg'])console['log']('>\x20'+iillli[l1l11I(0x246,'D8Qc')]?.[l1l11I(0x303,']UHU')]);else{if(iillli[l1l11I(0x1ef,'3fbr')])$[l1l11I(0x238,'*C7f')]=!![],console['log']('>\x20'+iillli['errMsg']);else iillli[l1l11I(0x249,'UBho')]?console[l1l11I(0x226,'7EKT')]('>\x20'+iillli[l1l11I(0x27c,'NXh^')]):console['log']('❓'+IiiIli+'\x20'+JSON[l1l11I(0x21a,'IVL*')](iillli));}}break;}}catch(iI1lli){console[l1l11I(0x203,'2AAk')]('❌\x20未能正确处理\x20'+IiiIli+l1l11I(0x233,'esn4')+(iI1lli['message']||iI1lli));}}async function sendRequest(ll1iI){const lilIl=l11i11,iI1lll={'RNPeG':lilIl(0x2d8,'l2b('),'TwHJg':lilIl(0x236,'unqe'),'uSSEc':lilIl(0x241,'jpJ&'),'mjkao':'4.7','YbJDV':lilIl(0x1ff,'%190'),'JnrUZ':lilIl(0x268,'D8Qc'),'CorIt':lilIl(0x201,'mzO!'),'zRlNN':'activities_platform','Zxdyj':lilIl(0x256,'4vzp'),'AZFIg':'inviteFissionHome','PxZzb':lilIl(0x24f,'((F7'),'QRpzj':lilIl(0x252,'2AAk'),'emXEW':lilIl(0x212,'*C7f'),'AOXKg':lilIl(0x20b,'Sde1'),'nxCQU':lilIl(0x23a,'Sde1'),'MURdM':lilIl(0x2b8,'esn4'),'GXZRo':function(Iillil,l1lIli){return Iillil+l1lIli;},'ovnnA':lilIl(0x30c,')H(I'),'RfNRM':lilIl(0x30f,'mzO!'),'IEwmx':'Content-Type','ZYMmx':function(lIIiiI,II1lil){return lIIiiI>II1lil;},'XaCUd':function(IIli1l,II1lii){return IIli1l>=II1lii;}};if($[lilIl(0x309,'hDpb')])return;let l1lIll='',I1l1II=null,IIli1I=null,I1i11I=iI1lll[lilIl(0x2d1,'l2b(')],llIliI={},I1l1I1={};switch(ll1iI){case iI1lll['TwHJg']:I1l1I1={'appId':iI1lll[lilIl(0x290,'Sde1')],'functionId':iI1lll['TwHJg'],'appid':'activities_platform','clientVersion':common[lilIl(0x282,'7OQf')](),'client':lilIl(0x2b2,'cbAP'),'body':{'linkId':linkId,'isJdApp':!![],'inviter':$[lilIl(0x2ac,'%190')]},'version':iI1lll[lilIl(0x273,'vBO0')],'ua':$['UA'],'t':!![]},llIliI=await H5st['getH5st'](I1l1I1),l1lIll=iI1lll['YbJDV'],I1l1II=llIliI[lilIl(0x2ef,'7EKT')];break;case iI1lll[lilIl(0x287,'MU*z')]:I1l1I1={'appId':iI1lll[lilIl(0x2da,'E0@B')],'functionId':lilIl(0x264,'rDWj'),'appid':iI1lll['zRlNN'],'clientVersion':common[lilIl(0x24c,'%190')](),'client':iI1lll[lilIl(0x30a,'CP4Y')],'body':{'linkId':linkId,'isJdApp':!![],'inviter':''},'version':'4.7','ua':$['UA'],'t':!![]},llIliI=await H5st['getH5st'](I1l1I1),l1lIll='https://api.m.jd.com/client.action',I1l1II=llIliI[lilIl(0x230,'d9#E')];break;case iI1lll[lilIl(0x208,'EcKM')]:I1l1I1={'appId':iI1lll[lilIl(0x2b4,'ytkf')],'functionId':iI1lll[lilIl(0x30d,'vBO0')],'appid':lilIl(0x310,'0A0z'),'clientVersion':common[lilIl(0x308,'QW7m')](),'client':lilIl(0x26a,'7OQf'),'body':{'linkId':linkId,'inviter':''},'version':iI1lll[lilIl(0x295,'Z#AX')],'ua':$['UA'],'t':!![]},llIliI=await H5st[lilIl(0x27f,'*4@K')](I1l1I1),l1lIll=iI1lll[lilIl(0x235,']UHU')],I1l1II=llIliI[lilIl(0x231,'NXh^')];break;default:console[lilIl(0x243,'Sde1')](lilIl(0x299,'ytkf')+ll1iI);return;}const I1i111={};I1l1II&&(I1l1II={...I1l1II,...I1i111});IIli1I&&(IIli1I={...IIli1I,...I1i111});const ilI1li={'url':l1lIll,'method':I1i11I,'headers':{'Accept':lilIl(0x20e,'J[3J'),'Accept-Encoding':iI1lll[lilIl(0x1fc,'D8Qc')],'Accept-Language':iI1lll['emXEW'],'Connection':iI1lll[lilIl(0x23b,'vBO0')],'Content-Type':iI1lll[lilIl(0x28b,'NXh^')],'X-Requested-With':iI1lll[lilIl(0x259,'UKA(')],'Cookie':iI1lll[lilIl(0x20a,'rDWj')](cookie,$[lilIl(0x25c,'4vzp')]),'Referer':lilIl(0x24b,'D8Qc'),'X-Referer-Page':iI1lll[lilIl(0x2f6,'3fbr')],'Origin':lilIl(0x28f,'ezL@'),'x-rp-client':iI1lll[lilIl(0x2f2,'l2b(')],'User-Agent':$['UA']},'params':IIli1I,'data':I1l1II,'timeout':0x4e20};I1i11I===lilIl(0x2c1,'6r4!')&&(delete ilI1li['data'],delete ilI1li[lilIl(0x216,'Z#AX')][iI1lll['IEwmx']]);const IIliI=0x1;let ilI1ll=0x0,Iillii=null,IlI1iI=![];while(ilI1ll<IIliI){iI1lll['ZYMmx'](ilI1ll,0x0)&&await $[lilIl(0x278,'j[yP')](0x3e8);const lIIii1=await common[lilIl(0x202,'EcKM')](ilI1li);if(!lIIii1[lilIl(0x307,'ltyz')]){Iillii='🚫\x20'+ll1iI+'\x20请求失败\x20➜\x20'+lIIii1[lilIl(0x25b,'0b3R')],ilI1ll++;continue;}if(!lIIii1?.['data']){Iillii='🚫\x20'+ll1iI+lilIl(0x293,'6r4!'),ilI1ll++;continue;}handleResponse(ll1iI,lIIii1[lilIl(0x205,'vBO0')]),IlI1iI=![];break;}iI1lll[lilIl(0x24e,'D8Qc')](ilI1ll,IIliI)&&(console[lilIl(0x2d7,'cbAP')](Iillii),IlI1iI&&($[lilIl(0x274,'*C7f')]=!![],$[lilIl(0x29d,'8ou6')]&&$[lilIl(0x1ec,'Sde1')][lilIl(0x313,'cbAP')](Iillii)));}function getAuthorCodeList(ll1i1){return new Promise(IIli1i=>{const IilIlI=iii1II,I1iIi1={'url':''+ll1i1,'timeout':0x2710,'headers':{'User-Agent':IilIlI(0x225,']sN@')}};$[IilIlI(0x21c,'UBho')](I1iIi1,async(lliil1,IIllI,lliilI)=>{const iIli11=IilIlI;try{if(lliil1){}else lliilI?lliilI=JSON[iIli11(0x220,'jpJ&')](lliilI):console[iIli11(0x1fe,'jpJ&')]('未获取到数据,请重新运行');}catch(lili1){$[iIli11(0x2e4,'0b3R')](lili1,IIllI),lliilI=null;}finally{IIli1i(lliilI);}});});}function gen_jda_cookie(){const Iiiil=l11i11,ll1l1={'HuCLm':function(ii1li,IIll1){return ii1li*IIll1;},'cbfBI':function(ll1il,IiiIiI){return ll1il(IiiIiI);},'cDpEC':function(lilii,l1iiI){return lilii-l1iiI;},'vyTJa':function(ll1li){return ll1li();},'ECLhh':function(Illl1I,lliiiI){return Illl1I+lliiiI;},'BvYcT':Iiiil(0x2c7,'NXh^'),'rzonZ':Iiiil(0x237,'J[3J')},IllIIi='3';let IllIIl=Math['floor'](ll1l1['HuCLm'](0x8ca6bff,Math[Iiiil(0x218,'D8Qc')]()))['toString'](),IiiIi1=[...ll1l1[Iiiil(0x298,'*4@K')](Array,0xc)]['map'](()=>Math[Iiiil(0x2a2,']p([')](Math[Iiiil(0x260,'J[3J')]()*0xa))[Iiiil(0x251,'4vzp')](''),l1ii1=ll1l1[Iiiil(0x2af,'2AAk')](ll1l1[Iiiil(0x25a,'0A0z')](timestamp),0x30d40),ii1ll=ll1l1['ECLhh'](l1ii1,Math['floor'](ll1l1[Iiiil(0x2bd,'mzO!')](Math['random'](),0x186a0))),IliI1l=ll1l1[Iiiil(0x234,'UKA(')](ii1ll,Math['floor'](Math['random']()*0x2710)),lliiil=ll1l1[Iiiil(0x27a,'ytkf')](l1ii1,Math['floor'](Math['random']()*0x186a0)),lliiii=[IllIIl,''+l1ii1+IiiIi1,l1ii1[Iiiil(0x267,'4vzp')](),ii1ll['toString'](),IliI1l[Iiiil(0x21b,'7EKT')](),IllIIi]['join']('.'),IliI1i=[IllIIl,IiiIi1['slice'](-0x2),''+l1ii1+IiiIi1+'|'+IllIIi,IliI1l[Iiiil(0x254,'IVL*')]()][Iiiil(0x26c,'3fbr')]('.'),ll1ii=IllIIl,IIli11=[IllIIl,'kong',ll1l1[Iiiil(0x1fb,'j[yP')],ll1l1[Iiiil(0x277,'QW7m')],Iiiil(0x284,'NXh^'),lliiil[Iiiil(0x1f9,'AtlP')]()],IllIII=ll1l1[Iiiil(0x2dc,'esn4')](encodeURIComponent,IIli11['join']('|'));return{'jda':lliiii,'jdb':IliI1i,'jdc':ll1ii,'jdv':IllIII};}function timestamp(){const Iiiii=l11i11;return Math['floor'](Date[Iiiii(0x2e0,'((F7')]()/0x3e8);}function random(lilil,ll1ll){const l11i1I=l11i11,Illl11={'reZZH':function(ii1lI,I1ilIl){return ii1lI+I1ilIl;},'IyXtg':function(I11iII,I1ilIi){return I11iII*I1ilIi;}};return Illl11[l11i1I(0x2e7,'J[3J')](Math[l11i1I(0x2f3,'CP4Y')](Illl11[l11i1I(0x26e,']sN@')](Math[l11i1I(0x215,'ytkf')](),ll1ll-lilil)),lilil);}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
