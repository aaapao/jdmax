/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大10，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

高并发脚本，谨慎使用并发
活动限制IP严重，建议使用代理

cron:55 9 * * *

*/
const $ = new Env('超市卡抽奖')
var iｉl='jsjiami.com.v7';const iliIlI=iii1II;(function(l1i11l,liiil1,lllII,l11iII,l1i11i,l11iI1,IliiI){return l1i11l=l1i11l>>0x8,l11iI1='hs',IliiI='hs',function(lI111i,I1lIII,liIlll,I1iI1I,illll1){const ll11li=iii1II;I1iI1I='tfi',l11iI1=I1iI1I+l11iI1,illll1='up',IliiI+=illll1,l11iI1=liIlll(l11iI1),IliiI=liIlll(IliiI),liIlll=0x0;const IIIIl1=lI111i();while(!![]&&--l11iII+I1lIII){try{I1iI1I=parseInt(ll11li(0x25d,'jABE'))/0x1*(parseInt(ll11li(0x100,'iJcd'))/0x2)+-parseInt(ll11li(0x192,'%]C&'))/0x3+-parseInt(ll11li(0x2aa,'LT#Q'))/0x4*(-parseInt(ll11li(0x277,'j$kW'))/0x5)+parseInt(ll11li(0x1e4,'bbAt'))/0x6*(-parseInt(ll11li(0x150,'B[RT'))/0x7)+-parseInt(ll11li(0x1d7,'Y1(5'))/0x8+-parseInt(ll11li(0x266,'Bd^%'))/0x9*(-parseInt(ll11li(0xf0,'gfY!'))/0xa)+parseInt(ll11li(0xfd,'QRO2'))/0xb;}catch(liiilI){I1iI1I=liIlll;}finally{illll1=IIIIl1[l11iI1]();if(l1i11l<=l11iII)liIlll?l1i11i?I1iI1I=illll1:l1i11i=illll1:liIlll=illll1;else{if(liIlll==l1i11i['replace'](/[HUCDbuPWgMpeOJnRTkExNS=]/g,'')){if(I1iI1I===I1lIII){IIIIl1['un'+l11iI1](illll1);break;}IIIIl1[IliiI](illll1);}}}}}(lllII,liiil1,function(lI111l,liiii1,IIiiIl,l1ilIl,IIiiIi,l1ilIi,l11iIi){return liiii1='\x73\x70\x6c\x69\x74',lI111l=arguments[0x0],lI111l=lI111l[liiii1](''),IIiiIl=`\x72\x65\x76\x65\x72\x73\x65`,lI111l=lI111l[IIiiIl]('\x76'),l1ilIl=`\x6a\x6f\x69\x6e`,(0x16f576,lI111l[l1ilIl](''));});}(0xc100,0x81818,Iii11l,0xc3),Iii11l)&&(iｉl=0x24b1);const jdCookie=require(iliIlI(0xf1,'4ufc')),notify=require(iliIlI(0x1b1,'Y1(5')),common=require(iliIlI(0xf8,'i#!t')),{H5st}=require(iliIlI(0x127,'A*7K'));console[iliIlI(0x2b4,'CBko')](''),console['log'](iliIlI(0x260,'t^7[')+$[iliIlI(0x177,'dIGZ')]+iliIlI(0x16f,'%Og4')),console[iliIlI(0x255,'5g%d')](iliIlI(0x10a,'PHeu')),console['log'](iliIlI(0x1c7,'&PF(')),console['log'](iliIlI(0x1df,'Vp28')),console[iliIlI(0x121,'jABE')]('jd_supermarket_pinFilter\x20//\x20账号pin过滤，多个用@进行分割'),console['log'](iliIlI(0x262,'E45i')+$[iliIlI(0x11f,'apwF')]+iliIlI(0xe0,'&PF(')),console['log']('');let linkId='QEiwQnSIGZU8-gf7Z0It2g',taskThreads=process['env'][iliIlI(0x1fa,'UqT5')]||'1';const runInterval=process[iliIlI(0x20b,'Vp28')]['jd_supermarket_interval']||'1000',isNotify=(process[iliIlI(0x129,'muBq')][iliIlI(0x245,'gCcv')]||process[iliIlI(0x1d0,'ockl')][iliIlI(0x259,'Bd^%')])==='true',pinFilter=(process[iliIlI(0xdb,'dIGZ')]['jd_supermarket_pinFilter']||'')['split']('@');let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object[iliIlI(0x251,'Y1(5')](jdCookie)['map'](II11l=>jdCookie[II11l])['filter'](II11i=>II11i);function iii1II(_0x31a147,_0x128ec2){const _0x3fe139=Iii11l();return iii1II=function(_0x369586,_0x21a382){_0x369586=_0x369586-0xd3;let _0xbee482=_0x3fe139[_0x369586];if(iii1II['faKaLZ']===undefined){var _0x2e3200=function(_0x327b08){const _0x4f4e99='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x476ef4='',_0x4eac19='';for(let _0x2f96ee=0x0,_0x3dc262,_0x503749,_0x519627=0x0;_0x503749=_0x327b08['charAt'](_0x519627++);~_0x503749&&(_0x3dc262=_0x2f96ee%0x4?_0x3dc262*0x40+_0x503749:_0x503749,_0x2f96ee++%0x4)?_0x476ef4+=String['fromCharCode'](0xff&_0x3dc262>>(-0x2*_0x2f96ee&0x6)):0x0){_0x503749=_0x4f4e99['indexOf'](_0x503749);}for(let _0x52fc88=0x0,_0x322d85=_0x476ef4['length'];_0x52fc88<_0x322d85;_0x52fc88++){_0x4eac19+='%'+('00'+_0x476ef4['charCodeAt'](_0x52fc88)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4eac19);};const _0x233d52=function(_0x1cb8b1,_0x34fb8f){let _0x5136e6=[],_0x2511ad=0x0,_0x5f40db,_0x2f7316='';_0x1cb8b1=_0x2e3200(_0x1cb8b1);let _0x573c06;for(_0x573c06=0x0;_0x573c06<0x100;_0x573c06++){_0x5136e6[_0x573c06]=_0x573c06;}for(_0x573c06=0x0;_0x573c06<0x100;_0x573c06++){_0x2511ad=(_0x2511ad+_0x5136e6[_0x573c06]+_0x34fb8f['charCodeAt'](_0x573c06%_0x34fb8f['length']))%0x100,_0x5f40db=_0x5136e6[_0x573c06],_0x5136e6[_0x573c06]=_0x5136e6[_0x2511ad],_0x5136e6[_0x2511ad]=_0x5f40db;}_0x573c06=0x0,_0x2511ad=0x0;for(let _0x1630ca=0x0;_0x1630ca<_0x1cb8b1['length'];_0x1630ca++){_0x573c06=(_0x573c06+0x1)%0x100,_0x2511ad=(_0x2511ad+_0x5136e6[_0x573c06])%0x100,_0x5f40db=_0x5136e6[_0x573c06],_0x5136e6[_0x573c06]=_0x5136e6[_0x2511ad],_0x5136e6[_0x2511ad]=_0x5f40db,_0x2f7316+=String['fromCharCode'](_0x1cb8b1['charCodeAt'](_0x1630ca)^_0x5136e6[(_0x5136e6[_0x573c06]+_0x5136e6[_0x2511ad])%0x100]);}return _0x2f7316;};iii1II['iljxlY']=_0x233d52,_0x31a147=arguments,iii1II['faKaLZ']=!![];}const _0x46b898=_0x3fe139[0x0],_0x58cd27=_0x369586+_0x46b898,_0x5e8593=_0x31a147[_0x58cd27];return!_0x5e8593?(iii1II['GRUWaz']===undefined&&(iii1II['GRUWaz']=!![]),_0xbee482=iii1II['iljxlY'](_0xbee482,_0x21a382),_0x31a147[_0x58cd27]=_0xbee482):_0xbee482=_0x5e8593,_0xbee482;},iii1II(_0x31a147,_0x128ec2);}!cookiesArr[0x0]&&($[iliIlI(0x264,'UqT5')]($[iliIlI(0x21f,'$Ulu')],iliIlI(0x104,'bbAt')),process[iliIlI(0x146,'V&hP')](0x1));function Iii11l(){const I1lII1=(function(){return[...[iｉl,'TOTjDUsPjiuRaNmRiSEn.cJOoHkme.MvgC7bWxpU==','WQZcNxaQhc8','W4zfaMtcG8kVDSkA','W4hcQSosW683','w8oRW5CXWQe','W6dINAq+','5OUV5PYf5lUv5yI66ykS5BEY57UX5A2m5OMj77Ya','rWW5thNdMq','lCotW5BdUG','W7DtneJdOq','WRipaCojW5D1ua','WPnTBmkTW4NcH8keW5GTdJiZmW','koISQ+AWTUwsGow6NZG','nSoQjrJcMG','tCo6WQyniCkC','W59+r8oHnenrWQq8','W7BcP8ok','BSkaW5xcLmkV','W6LXmmkInSka','yCkLCgldGW','umoRWQCb','W7iFbmobWRS','W6LME8kOW4DXWR5TW60','h8o2WOeEW67cI3dcKmoqzt5+cmolzmk8W7r3W6BcRH4LW6VcMYFcLmkL','vhBcSCoXFW','5yId5yQTW5a','jCoNndBcICkvWOZcS8ovB3ZcUq','tSkMW5hdI8kb','mSovW5BdTJVdGhZcJG','W5X5tmoOjxjxWQ4+','sN9zW7ab','DEAiHowjHrhINkBdKa','s0ZcU1n3','W5VdTCkQWO98W4q','W5RcJCo8W5ew','5y2K5ycWuSky','WOZcTCoOWPvaW5RdTLTn','emkrW7BcVui','sSk4FCoYBW','F8k9htK','WRtcMw0MlI7dHGDmiSkpia','imkaW5xcTxpdLSoQWO/dMmop','mCk+WPekBa','yaeBx3u','W5bSlstcPW','DMdcImodz39SmrCcW73cVmo/WPddICo0W7xdHbaXW4ddL8knBaBdLJVOH7pLR5FKUOZOVAdOOzZPLldPMyJMLyFPLyBVVRJPUiZORyKCW43cSCkh','WRdcINC3dqtdHWbzi8kncSkfbvS','WP0CW6NdG8k5','dJddTSk/WOq','A8kYWO4/W70','6lAQ5y+05PAI5PAN','oCozW4/dL3RdOhW','A8kFfIfN','a8ofna','ubCH','W7n6W5ldH8oZ','bSonW7OLyKpdOG7dTZ43E24','n8oambFcGW','WO3LRQFMIBhVVitLJjNMIBBLPyu','fSkZyWnY','rSkbBea','b8oQW4XEWR/dLJxdRmoyzdz3cG','iCoNntZcRCksWQ3cV8oTzW','F2VcS8ov','vCo6W48pWRPMW50NWRtdRW','rCk4WOCbW5pcNNpdMG','W5BdG8kQWQPj','r8kshGfJ','EmkjbfC','bCoodh/cHGKtkCkVgCoiWQWUEI3dTmkMzuJcJxRcHmozW4FcMoAAP+wtS+McLEECO8o9W6VdIwJdVSoxgvZdLSkVWQGe776u6BM86kYE5lQO5O+Y6ycw','WOCozq','W6vibSk5dq','W77cQt1OfW','j8oeW4yyDG','WOGQgCkvW68hkG9hmCkVW7PZ','r8ksAMZdGSoY','ESkauCodtq','ySk2WRmUW54','pSonWPtdO8kDW73cJta','rhVcVq','W7FcG8oOW60I','jIhdLW','WONcTxm9dq','W7XVW4/dJSou','bmkMW5lcLh4','W5z2W60','W6PpBCoFjq','WQ8FaCos','W6JcVCods3S1','6lwE5yYX5PE65PsI','jSodWOa','k8kkAIr+','WRPpWPisW6m','W5vRkmkFjq','sSkooXPyxxK','5yQY5yM9oW','W7dcRmoYFwaHW5JdRheSWOZdJIdcQmkDbCodWQKYzaGM','eCkOEqzVWQhcP2y','BXfUWOe9zCkjW4q','EmkjW7lcUmkdyCkeFKzRAsVdQgtdSr9BWOqO','W5TKs8o2nfrBWRGT','l8kPAcnd','sXpdJ8o5','mCksW4tcPG','W68aWQHsF8kXtXv1W486za','5RwL5yIu5Bwj57Mq57QC5P+m5lQoWOi','s2VcPCo5sW','WPmLpSk9W6jzW5lcLfRdOvtdNSoDz1FdLdlcTsBcICoXW7pcUKFcLK4/W7JdO3FdGCo7wq','4P2ac+IeM+AEPoI+MUIHKUMcQEwjK+s5RoMvV+IVN3y','fmkxWP8','W7XxmCkMba','FfLOW7iVsSkxe8kp','yL/cM3PH','cSoejq','FGTOWQmj','t3hcRN1cWOroWP1NW7q6W7NdTspdLmoRW5/dOI0','W61wka','w+wLJUI0Qo+/T+w2UUE7JUwjHEwiRoI/Ma','r8o7W4qlWQXAW7y6WQu','WR4AjSoBW4v5CuxdSbTWBa','pCotW5/dUG','A8kSCKRdPa','jCkbW5NcVvddUSoPWO3dKCorW4vvW6ZcG1C','W6NcVCooBxaIW44','WQ8lamoBW5THCuhdSbS','AmktefC2fCk8WQhcSmksWOtcPf7dP2a','W6vWa8kDn8kgWQW','5yUQ5yU0vG','Bmklu2/dKW','sxNcTurnWOq','WROyamo3W4v1','WRKNW5xdJCk9mmo0WPNdPmkmWOFcPfSS','W6z9fehcLa','D8klW6VcTa','WQNcJhSGism','W6pcJtX/jmkr','WRqrW5xdQ8kG','W7tcLmo8','mSotW5W','FxtcPmo0FvTOmbe','WOGfcSkzW4a','Arv/WRS5','o8ooW4NdKJZdTa','W5RcOCo6W6am','WRGTDq','nanJnSo7','nmo/W6i2yG','W4TUgSkCiq','W4bFbmo1lG','zuvLW60YuCki','6lEu5y6I5PAU5PAz','W5jIwSo0WRa','W7/cNsfW','W59OxSoUWQTy','W4L1qCog','ASkjnCojqbhcOZRdSJldVshdVCo0W7C','W6Phg1VcGW','m8kVWRKqyW','WPGnA8ohuW','W4VcSSoCW6y','jWDjcCoU','nHXOlCobWRpdQSoz','W7H8DSk3W5zIWRK','W59Txmo6phn6WQeTya','ye5VW68+DG','4PQcW4dOH7lLRRVKU7JOVyxOOBFPLPlPMPhMLOJPLlVOR6xNV7xPL4FORAa'],...(function(){return[...['nmofW4pdPqO','ASkJW5ZcP8kG','W4m3oSo4WP3dMSol','hmogoM/cLG','5yE46lAa5BQi5yYB','W7b3rSkOW4zZWRjXW6FdT2SBtNJdMfJdVSkmtSoeWRa','W7Dnx8oVaq','l8oivW','CmkeW7dcUmkbBCkICLbTwI8','hSodW64','fmoxibFcHCkIddn/cXyUW68','W4XtaSo6ohJdL8oM','smk0W4ddMSkD','W6mdWPS','hsdcV1uu','4PQOW7ZOHP7LR5FKUylOV4JOOARPLjBPM73MLyBPL67ORQtNV6pPL4pORzm','zmkZC1NdOG','wSk8WO0z','mSoAlCkdbvxcQWpcHtZdNIq','x8k5W63cQCkM','n8ozcKlcGW','W6bSjq','FxFcPmozDwe','W7DGFG','W5PeW6ldVmoEtSoJWQ5/BG','WRuolCojW4nIufldQrTRA8koWOFcNCkSW4pcNSksWPNcUa','rSkIvmo2EJBcMq','umkfAe3dKmo2xG','ESkwnfm3mSkDWQxcO8kgWOJcGa','W793WPdcLmobyCouWOhdQCk6WQVcVW','W7TIk8kBeCkoWRGW','W5ldQmk/','a8k3W7DzF8oegSodwb8','umkrW7xdR8kN','fsNdPWWEW40wW5mUWOG','W5pdTmk/','W7FcU8ok','4PYJWORMNBNNN6NORitMSlTw','W6LDsSkmWOiLaNxdVG9lDCkF','W7vYmSoc','W7zyjGm','BNZcM8orrq','WPy0oSkW','x8o8W4y','w8kNW6xcKmkh','WP8Mkq','v8oKWQKin8kDqSkn','W7XaW40aWP4','W7/cPdn6mq','y8k3Cw/dSmozWQtcR8oGzeRcUW','hLLrb8obwa','W5zwpt7cTq','pSoIW6iyyG','rCoRW4SZWQm','lWbQ','W7pdJc57xrddMJ5Cl8kN','suLhW7i9','nCoNmZW','hmkEya','fVcEKltcKoI/GUIHG+E7MUAFN3a','ldFdHmknW4y2xG','W6DphSkJbW','WOaGimkuW6vE','D8kws1tdGq','W4LsbG','FZiwqLu','fCk2WRSSqa','W4LVtSoqWQXnCsbW','W4HWW6GjWQBcHCoiWR18','oCozW4/dKY7dP23cJ2HZWQLqsSkJW4n1W7OrW5C','W6Lyq8oYoW','WPqpuSkHEI7cGSorhYXEf8kn','dKztcmolwG','cvDmcSoSubejumkLWOq','jZ3dLW','W4HobG','6ls65y+Z5Ps35PE4','j8kqW5NcN3K','WPStA8oEu18snSkYDmkLWPSLfmk4','EmkhDuxdIq','oCkwW57cOehdKq','AZJdKSoveq','WQ3cI3K','W4/cKCoUW4uh','fmkPFq','W5jCcmoI','W5/cPmoxxwa','BdBdUSoUeW','omoOW7tdKaC','WPOinmoaW4e','hCodWPxdGCkq','W60rWOHqza','vCkCf0y9','WO0S5lUv5yI6','CSkia14XpCk8WRm','CSk1W6JdVmkLWRS','W5vpcmoSkfxdHSoWprS','tfxcLCo5rG','qSk3kxut','WQGupmkfW5W','C8kLW7RdQSkWWR15tmkX','rSk4WP0EW5pcJM7dMG','rSoGW4quWO9HW78UWR7dVa','W5DQW60','kGb+','WQeoBCo9wq','WP0zuv/cUCkYrCkkWRW','kqbKmq','5Bs76k62576A6lAp6l2M6lYy6kgZ5B2z5yMw6lED5y2/','W45/xCoYnM4','WPKeB8ofx3iPmCk5EmkX','AKj5','W4P+xmowiMC','cCodWONdVmkSW6RcIxHcCvZdTa','lWPJomo2WRq','W4zzW6W','D8kjbW','WQZcL3K','W79DBmosbq','W59KW74B','BmkcFW','k8oplG7cGW','W6X3ieddRa','s8kpAW','W516v8oQiW','W6vTjSkkpCkOWRm','W5z1sW','WRq/cCk7W4C','f8kfW5FcVKm','W4XPtmkHW7a','W7PZamk4fa','WROZjSkmCq','BSkTW7pcH8kA','5yMG5yQtWQ8','BSklW6/cPq','cSkrWOG+u8oZuNO+W5ddR8oPWOFcMf42rmkIEcaEgq','W6lcIsi','dKnpbmoACYabwSk1WPlcPCoiBvyfxLq','5lYE5OkF5yI1','gfHj','WPSrv8oRwG','WQu4nSoXW70','eH7dQCkeWRS','W4RdS8kSW7S','5O+m56s+57Ie5P+VlZi0FKDEWRldQSkNW5K','mXP+nW','W5KOWPn6vq','WO8aDSof','5l6c5OcO5yQvjW','W4j/sq','W7ZcOqHUbq','ySk9WOW8W6m','A051W4qRASklemkEj0amcCkQu8ovWQ0PWOS','nmkdW4dcQ1ZdMSoNWPFdNSoxW4W0W7xdG0vjWP5TFWtdPJu/WQi9WO0gW6NcUYVcRCkUxq','owvjnCoh','W4ZcSSoDW50H','W4jSnmk1otu','Emk9bIXMA2lcGX3dKq','W6Hwpa','lGvRhCod','WQNdI8oPW7Obd8oKaq','av3dKCo8ncNcKmoEFSkg','W5ddOSk9WQzDW4BdJvDsv1OjWRf6WRKmx2Oyxr8','uCkqlqXd','dSomc2dcSa','sSkbA3hdG8o8vrjehtasW7xcUmoG','W5pLPyhOT5NVVkK'],...(function(){return['FSkYW6VcTmk0','kfb4WPKHBCkFWPHnWQBcICkjh8kBtmoPWQFcGmkQW4xcNbBcMa','W4nSkSkvjr3dVmk/W7q8omkNW6ddVSkF','5yQg5yUPW6a','W7ZcHdT7nq','5RAH5yMG5AE75zop77Yp','WRalFeddMZXkpmkldZ/cTgi','W5zje8o/i3VdM8oZkq','qmoMW4ifWQX9W6a','ACoohX/cLmkMWRe','WRRORl/MS6/LK4pLUOfX','oNn4g8oK','qX3dNa','44kQ5O+k56sw44kY6kYV5yw36i6V5y6yvdJcSmoIxw0','W5PgW57dICox','W7NcK8o0W6OK','xCkAzJRdHefegSkshSokWRqm','xK/cMmo3DG','thxcRLa','imoiWRJdU8k8W7tcMcD7Av7dUL5VaqxdOdT+WR7cTMiFbSkWz+ApU+wiVEw4G+wpKUE6PEEQJUAxMo+9G+M6MoISMCk9772o5P2z5AACaGO','W5TwxmkRW70','g19h','W6VcHqTxcG','Cw3cUq','E8ksWRuHW4u','DNLfW4mb','iSoZjs7cTmktWOdcSmo+','WRFcMxC5pc7dHqS','W6DogCkBjW','CSkMsxNdOa','twBcQhXqWPC','DcW8zh4','WOipyCoiq3GykW','qXFdLCo/aY4','W5z4hY/cPG','BSk1W73dVCkwWQP9tCkGqXvHiSozi8oIWOVdKeK6W7e','E8oDW6ldOmoc','aSozna','rXFdMSo8eJtcJa','emkoCYLWtZO2l8ohW5DFW4VcGM3dV8oOW5ZdQq','W5jhd2W','W5n0t8opWQ1BFt0','WQePW4e','DIldR8o+iG','ACkbevKc','W4z4s8o2ggq','W4KXmW','CxFcSa','Bub4k8oRWRddVCktW4HJW6fCExXtCq','WQutrmorza','W55RW7W','W4XKW6moWOBcNSomWRy','wSoRWR4f','pbBdHmkqWP4','W5TikeldGa','W59zchlcK8kiFmknWRa','W4aSjSouWOldKq','W7z8FG','DHy5FxldKZldUSo1W6ZdS8o8','evLy','k8kFtGHZ','5BYg5AA05yQK5yM2eW','W41KD8o4hW','zSo0W6pdNrVdLfa','W5RcSSoWW4SM','iSoyWPpdUmk6WR7dKNP3EexcV1y1nbxcPIP0WRldVxbpqa','h8oFigq','jSkhW4lcRLVdNSoVWOxdJG','Cr5KWPK','WRP9WOqzW5pcHfPRFmkoW63dLSkxEKpdPCkqW6KWbsJcJq','xColW7S/WP0','W7HImCkeeCkEWQuW','l8oEWPxdHCk6W6m','W7DnochcHa','W6ijErxdMW','W70MW4m','ymkYptxcGSk1WPVcQW','W6pcHZu','W4jTxG','r8kyCvu','W7zQpXpcNW','gmoloNG','5RAl5yQX5Asm5zcX772n','WOqqW5pdR8kt','W5NcLmo4W48k','v8kSsmoIFW','WQaXW43dImkG','WQflWRe4W40','5y+L5yoMWPVcVq','mCoKW6ldSCkgWPTIvW','i8ocWOtdPmk8W6dcMcy','DCkfW6e','44k/6lsQ5y+z','mSoPiZG','W5r4lSkr','CtH4WRSN','jmoFcqVcHG','W7JcItTS','WOaWpCkKW6DoW77cK1q','nSoJmX7cR8koWOlcT8o8ug7cOszX','W7JLPiZOTytVVOZLI6tLIOFLTydMUBq','nSkRW5hcPwe','5Rwc5yMm5Bsk57Qu57UY5P+G5lQXzq','xCkBbaPK','kJpdK8kGWR8','WQiedmkyW58','rmkdW67dJCkR','s8kLW47dMmkD','W4jLdmoZda','W5q5eCo7WOm','WP48i8k4W79PW4FcKG','wNhcNvj3','W6HnW4SOWPFcQa','W4bRtCouWOG','CUwLG+I2NU++GUAZLUADJ+wjLUwiRUASTUAwK+s5GW','W75YBCk6','a8kiDdvQuGmSlq','W45tdeZdLMa','W7ZcMSoVW4LahCoBfmkb','tmoYWOyffq','5y296yEY6k6v5PQyCchcJ8kOBvumBSo3jq','E8kPfJ5/AK/cJa4','5lYb5Ock5yQ+W7G','WPStA8oEu1Gyk8k3','W79pkmoEoa','vSkbA0RdOSo9vbfrfZa3W74','B8k5aau+A1i','bSoNW64lEG','e1Dsba','W49segddLMpdQmoPaa','zmk0t3VdHq','Bmkhcuyqmmk0WQu','W4e/imo4','W5BcPaTzga','WOiLW6xdJmk+','E2VcUmo4zq','WOyitSonqW','CgVcSa','fCklWP8Eu8on','WO3cS8oOW7q6W7tdKMHhv1q','W7JcItTSbmkqWR/cKW','W4LLvG','WOxOR4RMSkpLPQFOTAG84PYUWRu','W5HkchW','s8koE03dHmoXxHu','umoVWQ8aemkCsSkre0FcT8oJlSoJsZGGWOyqWPJcQq','mmklW5NcSW','W5e/j8oYWQldNSoDW7WJaYWZoa','4PQGW7dOHBlLRipKUO3OVj/OOzZPL5BPMylML5dPLkNORRdNVkpPLQVORQu','W6NcGCo3Eea','W5lMI7JLI4044P2vW5K','44cJ5O2d56AB44g36kY+5ywg6iYK5y6uWPldPgPDW5dcTG','emkkWOS+u8ol','sbFdJ8oufJlcMSogy8kIWRuPmZHSCCoQWQBcHa','kGfUm8o3WRJdQ8op','oSoRqxq7leVcQtpdK8otBq','lCo1W6hdQrO','D8kddLuWmq','WP4Be1RcL8k9q8kz','WP4Vn8okW7G','8jc4OCoQ','amo4jeJcMa','WQ0pa8opW5nHqq','W4zIxCo+i3q'];}())];}())];}());Iii11l=function(){return I1lII1;};return Iii11l();};!(async()=>{const lI111I=iliIlI,iI1Iii={'bhYcN':function(liI1ii){return liI1ii();}};notify[lI111I(0x272,'dIGZ')]({'title':$['name']}),await iI1Iii[lI111I(0x135,'lZG#')](Main),isNotify&&notify['getMessage']()&&await notify[lI111I(0xe1,'A*7K')]();})()[iliIlI(0x29b,'@#OP')](lIIiIl=>$[iliIlI(0x181,'mV1[')](lIIiIl))[iliIlI(0x242,'9D2#')](()=>$['done']());async function Main(){const IlilI=iliIlI,iI1Iil={'qNyJQ':function(il1iI,i1iIii){return il1iI>i1iIii;},'JKAKB':function(i1iIil,liI1il){return i1iIil!==liI1il;},'OcCjO':IlilI(0x261,'B[RT'),'ojrVq':IlilI(0x1b2,'&PF('),'JRdXd':function(llIlIi,llIlIl){return llIlIi(llIlIl);},'nuyih':IlilI(0x1b8,'(Env'),'ILjkU':IlilI(0x275,'auS5'),'wDtUm':function(II11I,il1i1){return II11I>il1i1;},'JmORL':IlilI(0x2b9,'iJcd'),'obVse':IlilI(0x19f,'j$kW'),'isoVJ':IlilI(0x105,'J11@')};try{try{const liI1iI=parseInt(taskThreads);iI1Iil['qNyJQ'](liI1iI,0x0)&&iI1Iil[IlilI(0x237,'mV1[')](liI1iI,0x1)&&(iI1Iil['JKAKB'](iI1Iil[IlilI(0x17d,'jABE')],'vfWzH')?taskThreads=liI1iI:iIli1l[IlilI(0x28a,'#nZX')](''+i1i1II+liiIIl[IlilI(0x1eb,'#nZX')]));}catch{taskThreads=0x1;}taskThreads=Math[IlilI(0x10e,'&PF(')](taskThreads,0xa),$[IlilI(0x183,'@FVg')]=null;if(runInterval)try{if(iI1Iil[IlilI(0x20a,'E45i')](iI1Iil[IlilI(0x227,'i#!t')],'HrfAm'))IliI1i=ll1ii['data'];else{const i1lli1=iI1Iil['JRdXd'](parseInt,runInterval);i1lli1>=0x0&&(iI1Iil[IlilI(0x1d5,'Sbm5')]!==iI1Iil[IlilI(0x213,'V&hP')]?$['waitTime']=i1lli1:lil11i[IlilI(0x20e,'QRO2')]('❓'+IlIIl+'\x20'+lI1liI['stringify'](i1i1Ii)));}}catch{iI1Iil[IlilI(0x281,'ockl')](IlilI(0x1e6,'nYmv'),IlilI(0x222,'jABE'))?console[IlilI(0x152,'$Ulu')](IlilI(0x18b,'B[RT')):II1lil[IlilI(0x120,'bbAt')](IIli1l)&&IIli1i['splice'](I1iIi1[IlilI(0x22f,'(Env')](lliil1),0x1);}$[IlilI(0x188,'t^7[')]=[],await common['concTask'](taskThreads,cookiesArr,taskFnc),$[IlilI(0xf5,'V&hP')]=![],$[IlilI(0x27e,'p95B')]=![];iI1Iil[IlilI(0x12c,'#nZX')]($['needRemoveCookieIndex'][IlilI(0x221,'@FVg')],0x0)&&(iI1Iil[IlilI(0x10f,'Y1(5')](iI1Iil['JmORL'],IlilI(0x1ab,'$Ulu'))?(cookiesArr=cookiesArr['filter']((lIIiII,i1iIlI)=>!$['needRemoveCookieIndex']['includes'](i1iIlI+0x1)),$['needRemoveCookieIndex']=[]):ii1ill[IlilI(0x280,'%Og4')](II1iI));const lIIiIi=notify['getMessage']();lIIiIi&&console[IlilI(0x255,'5g%d')](IlilI(0x27b,'&PF(')+lIIiIi[IlilI(0x25b,'V&hP')](/：/g,iI1Iil['obVse']));}catch(liI1lI){if(IlilI(0xdc,'xBoV')!==iI1Iil['isoVJ'])for(let ll1I1 of l1lIll){llIliI[IlilI(0x26e,'t^7[')](ll1I1)&&ilI1li[IlilI(0x288,'dIGZ')](IIliI[IlilI(0x22f,'(Env')](ll1I1),0x1);}else console['log'](IlilI(0x206,'(Env')+liI1lI);}}async function taskFnc(Ii1ili,iI1Ii1){const llIi1=iliIlI,Ii1ill={'IVuIb':function(ill1II,i1llil){return ill1II+i1llil;},'UhOVG':llIi1(0x10b,'gCcv'),'DJiMf':llIi1(0x286,'lZG#'),'RJhAM':function(i1llii,l1i1I1){return i1llii+l1i1I1;},'YQIGW':function(llIIil,llIIii){return llIIil+llIIii;},'GmXsd':function(Ii1I1i,llIIlI){return Ii1I1i>=llIIlI;},'pLaba':'data\x20does','XsYNp':function(Ii1I1l,IIlIl){return Ii1I1l>=IIlIl;},'sIZvU':function(ili11l,Iiilll){return ili11l!==Iiilll;},'WAPXJ':function(Iiilli,IIlIi){return Iiilli(IIlIi);},'FjGjL':llIi1(0xda,'i#!t'),'uYNVF':function(ili11i,iiIi1l){return ili11i===iiIi1l;},'rvyqr':'FYLxr','miLiu':llIi1(0xf4,'Vp28'),'hxvWh':function(li11I,lliiII){return li11I!==lliiII;},'hDDUg':llIi1(0x114,'V&hP'),'wGuVo':function(iiIi1i,liI1ll){return iiIi1i===liI1ll;},'mSaEg':function(ll1II,IllIii){return ll1II===IllIii;},'ZkzUz':function(liI1li,IllIil){return liI1li===IllIil;},'cXabT':llIi1(0x1ed,'J11@'),'ahoBD':llIi1(0x13c,'^]2*'),'xteNA':function(ill1Ii,llIIl1){return ill1Ii==llIIl1;},'iNPaa':function(ill1Il,i1lll1){return ill1Il===i1lll1;},'ZrvHp':llIi1(0x168,'bbAt'),'HZiQM':function(Ii1I1I,l1i1Ii){return Ii1I1I===l1i1Ii;},'dmYOZ':function(l1iI1,lliiI1){return l1iI1===lliiI1;},'FSkxS':function(IiiI1,lilII){return IiiI1!==lilII;},'zLXlK':'yGzko','iKDVH':'dJxWr','Etkuu':function(IIIiI,iii1i1){return IIIiI===iii1i1;},'PRIRh':'function','gXmeA':function(IllIll,i1lllI){return IllIll(i1lllI);},'vtwVh':llIi1(0x2a3,'p95B'),'uaJqO':'fFwJC','aaceL':function(llIIi1,iI1IlI){return llIIi1===iI1IlI;},'jyxzE':llIi1(0x1ce,'%]C&'),'LNkVS':'apTaskList','UxLVb':llIi1(0x25c,'CBko'),'ZrIHu':llIi1(0x1e2,'@FVg'),'lRCwa':function(l1i1Il,ill1I1){return l1i1Il===ill1I1;},'MPWCe':llIi1(0x1c6,'QRO2'),'NvIRE':llIi1(0x29c,'CBko'),'glbEZ':'apsDoTask','uYmjz':'AHfse','SoGDY':llIi1(0x166,'E45i'),'mjfBA':llIi1(0x267,'%Og4'),'PQBIT':llIi1(0x2bb,'V&hP'),'Zgmdx':llIi1(0x22a,'5g%d'),'gnJKx':llIi1(0x217,'CBko'),'EbFzw':llIi1(0x11e,'OFSn'),'YLYAH':'https://api.m.jd.com/api','WVDSP':llIi1(0x22e,'%Og4'),'ElzSu':function(l1i1II,ili111){return l1i1II(ili111);},'JUeHZ':llIi1(0xdf,'A4!V'),'qgnRq':'https://prodev.m.jd.com','FTWZt':'https://pro.m.jd.com/mall/active/3xhqjGH1wMz5FaMgrfYhR22sFvqz/index.html','NYQdt':'GET','ECCDt':llIi1(0x2b1,'PHeu'),'hCEDl':function(Ii1I11,IllIli){return Ii1I11!==IllIli;},'rgqkF':llIi1(0x108,'&PF('),'NkKNb':function(ii1Ii,ii1Il){return ii1Ii>=ii1Il;},'ljvEO':'pt_pin','WWCkp':function(l1iII,iI1Ill,lilI1){return l1iII(iI1Ill,lilI1);},'nXZYT':llIi1(0x23c,'gCcv'),'DahFd':'efpIO','NrFuR':llIi1(0x1f3,'Sbm5'),'AUkmi':function(IIIi1,i1llli,i1llll){return IIIi1(i1llli,i1llll);},'CEhCr':function(iI1Ili,llIIiI){return iI1Ili*llIIiI;},'BkDzt':llIi1(0x297,'4ufc'),'Wjumg':'FOLLOW_','qgEbr':llIi1(0xdd,'Bd^%'),'wlniy':'EgvnM','hQgcp':llIi1(0x2a6,'auS5'),'HAccE':function(iI1111,IIIl1){return iI1111===IIIl1;},'fTOOH':function(ii1ii,Iii1,I1I1lI){return ii1ii(Iii1,I1I1lI);},'hDrhF':function(ii1il,l1iIlI){return ii1il+l1iIlI;},'wSpds':'WXoIY','KuVAY':function(iI111I,IIIlI1){return iI111I<IIIlI1;},'YPTfU':function(i1lIiI,IiiIl){return i1lIiI!==IiiIl;},'zxrxm':llIi1(0x26c,'$Ulu'),'BIkcF':function(ii1l1l,l1lli1){return ii1l1l(l1lli1);},'oRwDk':function(IiiIi,ii1l1i){return IiiIi*ii1l1i;},'NcEhh':function(l1iIl1,ii1iI){return l1iIl1(ii1iI);},'oxsEB':llIi1(0x167,'muBq'),'eycAP':function(IIIil,IIIii){return IIIil!==IIIii;},'YfjLy':llIi1(0x16e,'t^7['),'pwZDu':function(iI111i,I1I1l1){return iI111i>=I1I1l1;},'JooYo':llIi1(0x14b,'gfY!'),'HdXCY':'HqUou','UvSup':function(iI111l,i1lIii){return iI111l+i1lIii;},'sGfnB':function(III11i,i1lIil){return III11i>i1lIil;},'CKSaT':'cgXha','zPDHK':'superLeagueLottery','eYmbS':function(III11l,llIl1i){return III11l*llIl1i;}};if($['runEnd'])return{'runEnd':!![]};const llIlI1=decodeURIComponent(common[llIi1(0x15a,'iJcd')](Ii1ili,Ii1ill['ljvEO']));function iI1IiI(llIl1l,IiiII){const II1l=llIi1,Iiil={'BZaHl':function(IIIli,ii1i1){return IIIli-ii1i1;},'kpQDL':function(Iiii,llIl11){const IliIII=iii1II;return Ii1ill[IliIII(0x14a,'jABE')](Iiii,llIl11);}};if(Ii1ill[II1l(0x1e3,'9d1n')]===II1l(0x196,'Bd^%')){if(llIl1l[II1l(0x194,'CBko')]<=0x4)return llIl1l;else{if('roBVs'===Ii1ill[II1l(0x291,'4ufc')])li1i1i['log'](''+IlIli1+illIiI[II1l(0x26d,'p95B')]);else{const I1I1il=llIl1l['slice'](0x0,0x2),l1llii=llIl1l[II1l(0xfb,'@FVg')](-0x2),liII1=Math['max'](IiiII-I1I1il['length']-l1llii[II1l(0x19b,'j$kW')],0x0),I1I1ii='*'['repeat'](liII1);return Ii1ill['RJhAM'](Ii1ill[II1l(0x2a2,'CBko')](I1I1il,I1I1ii),l1llii);}}}else{if(li1Ii[II1l(0x118,'4ufc')]<=0x4)return IIII1I;else{const IIIlIi=Iii111[II1l(0x238,'xBoV')](0x0,0x2),llIl1I=l1l1II[II1l(0x243,'Vp28')](-0x2),i1lIl1=Iil1I1['max'](Iiil[II1l(0x229,'gfY!')](Ii1iII-IIIlIi[II1l(0x2b2,'A*7K')],llIl1I['length']),0x0),liIli1='*'[II1l(0x29f,'B[RT')](i1lIl1);return Iiil['kpQDL'](IIIlIi,liIli1)+llIl1I;}}}const IIlI1=Ii1ill[llIi1(0x119,'QRO2')](decodeURIComponent,llIlI1),i1iIli=Ii1ill[llIi1(0x113,'L&^4')](iI1IiI,IIlI1,0x6),i1iIll=llIi1(0x153,'lZG#')+iI1Ii1+'】'+i1iIli+'：',i1lliI=notify['create'](iI1Ii1,llIlI1);if(pinFilter[llIi1(0x194,'CBko')]>0x0&&(pinFilter[llIi1(0x117,'xBoV')](llIlI1)||pinFilter[llIi1(0x1fb,'Sbm5')](encodeURIComponent(llIlI1)))){i1lliI[llIi1(0x2af,'(Env')](llIi1(0x2ac,'^]2*')),console['log'](i1lliI['getInlineContent']()),$['needRemoveCookieIndex'][llIi1(0x1f1,'Bd^%')](iI1Ii1);return;}const liI1l1=await common['getLoginStatus'](Ii1ili);if(!liI1l1&&typeof liI1l1===Ii1ill[llIi1(0x13d,'auS5')]){if(Ii1ill['sIZvU']('ltJcq',Ii1ill['DahFd'])){console[llIi1(0x25f,'A4!V')](i1iIll+llIi1(0x28c,'&PF(')),i1lliI[llIi1(0x10c,'dIGZ')](Ii1ill[llIi1(0x128,'xBoV')]),$[llIi1(0x11a,'B[RT')][llIi1(0x139,'Vp28')](iI1Ii1);return;}else IilIl1['log'](lIII1l+'助力['+l1iIIi[llIi1(0x1b7,'lZG#')](0x0,0xa)+llIi1(0x1b9,'E45i'));}const IllIlI=common['genUA'](llIlI1);let IiillI=![],ili11I=![],li11l=0x0,lliiIl,li11i,lliiIi,iiIi1I,IllIl1,ll1Ii;await Ii1ill[llIi1(0x296,'UqT5')](iiIi11,'superLeagueHome'),await $[llIi1(0x295,'%Og4')](Ii1ill[llIi1(0x116,'ockl')](parseInt,Ii1ill[llIi1(0x1ad,'V&hP')]($[llIi1(0x12a,'muBq')],0x1)+0x1f4,0xa));if($[llIi1(0x27e,'p95B')]||IiillI)return;if(lliiIl){li11l=lliiIl[llIi1(0x2ae,'xBoV')];if(!hasGetBasicInfo&&lliiIl['prizeItems']){if(Ii1ill[llIi1(0x193,']#]I')](Ii1ill['BkDzt'],Ii1ill['BkDzt']))iIII1l=lllil?.['data'];else{hasGetBasicInfo=!![];const iIi1i=lliiIl[llIi1(0x258,'J11@')][llIi1(0xd8,'@FVg')](l1iIli=>l1iIli[llIi1(0x12e,'LT#Q')]),l1iIll=iIi1i['join']('，');console[llIi1(0x2b5,'j$kW')](llIi1(0x149,'L&^4')+l1iIll+'\x0a');}}await Ii1ill[llIi1(0x163,'%Og4')](iiIi11,Ii1ill[llIi1(0x208,'L&^4')]);let IIIlI=![];if(IllIl1&&Array[llIi1(0x218,'5g%d')](IllIl1))for(let iIi1l=0x0;iIi1l<IllIl1[llIi1(0x290,'DHs4')];iIi1l++){li11i=IllIl1[iIi1l],lliiIi=li11i['taskSourceUrl'];const i1lIlI=li11i[llIi1(0x1c2,'j$kW')],l1lliI=li11i[llIi1(0x1d2,'9d1n')],I1I1iI=li11i[llIi1(0x21d,'jABE')],IIIlII=li11i[llIi1(0x289,'dIGZ')],iiIiI1=li11i[llIi1(0x1e8,'PHeu')];if(!i1lIlI&&(iiIiI1[llIi1(0x1fc,'i#!t')](llIi1(0x1f8,'%]C&'))||iiIiI1[llIi1(0x151,'PHeu')](Ii1ill[llIi1(0x293,'gfY!')]))){if(llIi1(0x110,'(Env')===Ii1ill[llIi1(0x164,'9D2#')]){iiIiI1[llIi1(0x191,'A*7K')](Ii1ill['Wjumg'])&&(Ii1ill['hCEDl'](Ii1ill[llIi1(0x22b,'A*7K')],Ii1ill['wlniy'])?iii1I1=0x1:(await iiIi11(Ii1ill['hQgcp']),await $[llIi1(0x13b,'i#!t')](parseInt(0x1f4))));if(lliiIi)for(let ili1Ii=IIIlII;ili1Ii<I1I1iI;ili1Ii++){Ii1ill['HAccE'](llIi1(0xea,'dIGZ'),llIi1(0x161,'B[RT'))?(IIIlI=!![],console[llIi1(0x1aa,'UqT5')](i1iIll+llIi1(0x14f,']#]I')+l1lliI+'\x22\x20任务'),await Ii1ill[llIi1(0x14c,'nYmv')](iiIi11,Ii1ill[llIi1(0x1a7,'iJcd')]),await $['wait'](Ii1ill[llIi1(0x298,']#]I')](parseInt,Ii1ill[llIi1(0x1dc,'A4!V')]($[llIi1(0x112,'j$kW')]*0x1,0x5dc),0xa))):il1i11[llIi1(0x2be,'bbAt')](''+IlIll1+IlIII[llIi1(0x115,'E45i')]);}else{if(Ii1ill[llIi1(0xe6,'@FVg')](llIi1(0xe2,'@#OP'),Ii1ill[llIi1(0x147,'QRO2')]))try{const iIi1I=lI1Iii(i1li);Ii1ill[llIi1(0x22d,'5g%d')](iIi1I,0x0)&&(IliI11[llIi1(0x2a5,'Y1(5')]=iIi1I);}catch{i1l1lI[llIi1(0x130,'gCcv')](llIi1(0x24f,'%]C&'));}else for(let liIIl=0x0;Ii1ill['KuVAY'](liIIl,0x1);liIIl++){IIIlI=!![],console['log'](i1iIll+'去做\x20\x22'+l1lliI+llIi1(0x29d,'lZG#')),await iiIi11(llIi1(0x211,'Bd^%'));const IlI1lI=ll1Ii?.[llIi1(0x1b4,'iJcd')]||[],liIIi=ll1Ii?.['status']?.[llIi1(0x1da,'auS5')];for(let IilllI=0x0;Ii1ill[llIi1(0x162,'B[RT')](IilllI,liIIi);IilllI++){const iI1lIi=IlI1lI[IilllI];iI1lIi?(iiIiI1['includes'](llIi1(0x25a,'nYmv'))?Ii1ill[llIi1(0x122,'4ufc')](Ii1ill['zxrxm'],'AecNE')?lliiIi=iI1lIi['itemName']:(l1iil[llIi1(0x1cf,'Vp28')](ii1l1+llIi1(0x203,']#]I')),lIIill['runEnd']=!![]):lliiIi=iI1lIi[llIi1(0x220,'j$kW')],iiIi1I=iI1lIi['taskInsert'],await Ii1ill[llIi1(0x137,'gfY!')](iiIi11,Ii1ill['glbEZ']),await $[llIi1(0x186,'LT#Q')](parseInt(Ii1ill[llIi1(0x21e,'LT#Q')](Ii1ill[llIi1(0x198,'Vp28')]($['waitTime'],0x1),0x5dc),0xa))):console[llIi1(0x26b,'auS5')](i1iIll+'任务失败，没有获取到任务ID');}}}}else li1i1l[llIi1(0x280,'%Og4')](''+II1i1+lI1lll[llIi1(0x1fe,'lZG#')]);}else{if(!i1lIlI&&iiIiI1[llIi1(0x19c,'LT#Q')](llIi1(0x239,'gfY!')))for(let i1lIli=IIIlII;i1lIli<I1I1iI;i1lIli++){IIIlI=!![],console[llIi1(0x1f4,'PHeu')](i1iIll+llIi1(0x1bd,'Bd^%')+l1lliI+'\x22\x20任务'),await Ii1ill['NcEhh'](iiIi11,llIi1(0x225,'&PF(')),await $[llIi1(0x158,'@FVg')](parseInt(Ii1ill['oRwDk'](Math['random'](),0x5dc)+0x5dc,0xa));}else{if(!i1lIlI&&iiIiI1['includes'](Ii1ill[llIi1(0x1ea,'gfY!')])){console[llIi1(0x255,'5g%d')](i1iIll+'开启邀请任务（'+IIIlII+'/'+I1I1iI+'）');for(let i1lIll=IIIlII;Ii1ill[llIi1(0x1a3,'apwF')](i1lIll,I1I1iI);i1lIll++){if(Ii1ill['eycAP'](Ii1ill['YfjLy'],llIi1(0x269,'&PF(')))lilIil[llIi1(0x130,'gCcv')](llIi1(0x23f,'V&hP'));else{IIIlI=!![];let liIlii=lliiIl[llIi1(0x23b,'A*7K')];if(!shareCodes[llIi1(0x24b,'%Og4')](liIlii)){shareCodes['push'](liIlii);if(Ii1ill['pwZDu'](shareCodes[llIi1(0x2b2,'A*7K')],0x3)){if(llIi1(0x1dd,'%]C&')===Ii1ill[llIi1(0x2a9,'xBoV')])['结束',Ii1ill[llIi1(0x270,'@FVg')]][llIi1(0x1a2,']#]I')](liIlil=>llIlll[llIi1(0x1ef,'muBq')][llIi1(0x187,'V&hP')](liIlil))?(lliii1['log'](Iiii1+'活动已经结束了~'),lIIili[llIi1(0x1f2,'UqT5')]=!![]):IiiIil[llIi1(0x2a7,'muBq')](''+IiiIii+IIlll[llIi1(0x126,'&PF(')]);else for(let llii1i of shareCodes){if('HqUou'!==Ii1ill[llIi1(0x24c,'B[RT')])iiili1=ill11i?.[llIi1(0x17b,'9D2#')];else{inviteCode=llii1i,console['log'](i1iIll+llIi1(0x134,'i#!t')+inviteCode[llIi1(0x111,'iJcd')](0x0,0xa)+']'),await iiIi11(llIi1(0xd7,'mV1['));if(ili11I)break;await $[llIi1(0xd6,'$Ulu')](parseInt(Ii1ill[llIi1(0x27f,'V&hP')](Ii1ill['oRwDk']($['waitTimes'],0x1),0x9c4),0xa));}}}}}}}}}}if(Ii1ill[llIi1(0x1f6,'^]2*')](needRemoveCodes[llIi1(0x23e,'(Env')],0x0))for(let iI1lIl of needRemoveCodes){Ii1ill[llIi1(0x231,'bbAt')](Ii1ill['CKSaT'],llIi1(0x246,'lZG#'))?shareCodes['includes'](iI1lIl)&&shareCodes[llIi1(0x1a8,'t^7[')](shareCodes[llIi1(0x2bd,'5g%d')](iI1lIl),0x1):il1i1l[llIi1(0x224,']#]I')](''+IlIlll+IIIl1I['msg']);}!IIIlI&&console[llIi1(0x2b3,'J11@')](i1iIll+llIi1(0x1a0,'lZG#'));if(li11l>0x0)while(li11l--){await Ii1ill['ElzSu'](iiIi11,Ii1ill[llIi1(0x226,'p95B')]),await $[llIi1(0x1c1,'%]C&')](parseInt(Ii1ill[llIi1(0x19d,'gfY!')]($[llIi1(0x17a,'CBko')]*0x1,0x5dc),0xa));}}if($[llIi1(0xec,'L&^4')])return{'runEnd':!![]};await $[llIi1(0x148,'Vp28')](parseInt(Ii1ill['eYmbS']($[llIi1(0x25e,'5g%d')],0x1)+0x1f4,0xa));async function ll1Il(Iili,iIi11){const liiiiI=llIi1,Iil1={'TIFuA':liiiiI(0x18e,'auS5'),'WorIY':function(ll11lI,llliI1){const II1i=liiiiI;return Ii1ill[II1i(0x1af,'9D2#')](ll11lI,llliI1);},'mwknQ':Ii1ill['FjGjL']};if(Ii1ill[liiiiI(0x157,'iJcd')]('muzzm','muzzm'))try{if(Ii1ill[liiiiI(0x2bc,'lZG#')]===Ii1ill[liiiiI(0x17f,'xBoV')])li1i1I['log'](''+illIii+ii1il1['resultMsg']);else switch(Iili){case'superLeagueHome':if(iIi11['code']==0x0&&iIi11['success']){if(Ii1ill[liiiiI(0x19e,'auS5')](Ii1ill['hDDUg'],'IkSIq'))lliiIl=iIi11['data'];else{I1l1Il=!![];const Iillli=llIll1[liiiiI(0x2a0,'%Og4')][liiiiI(0x145,'lZG#')](ll111=>ll111[liiiiI(0x1a9,'lZG#')]),ll11l1=Iillli[liiiiI(0x2ab,'A*7K')]('，');Illl1l['log'](liiiiI(0xfc,'UqT5')+ll11l1+'\x0a');}}else{if(iIi11[liiiiI(0x2b0,'lZG#')]){if(Ii1ill[liiiiI(0xd4,'$Ulu')]('yeugq',liiiiI(0xe7,'Y1(5')))return Iliill;else console['log'](''+i1iIll+iIi11['errMsg']);}else iIi11[liiiiI(0x257,'gCcv')]?['结束',liiiiI(0x16d,'gfY!')][liiiiI(0x234,'bbAt')](iiIiIl=>iIi11['msg'][liiiiI(0x29e,'CBko')](iiIiIl))?Ii1ill['mSaEg'](liiiiI(0x23a,'A*7K'),'dhDVl')?(console['log'](i1iIll+liiiiI(0x15d,'mV1[')),$[liiiiI(0x1a1,'ockl')]=!![]):illlII[liiiiI(0x2b8,'nYmv')](''+iIII11+IiI1i['errMsg']):Ii1ill[liiiiI(0x1cb,'Y1(5')](Ii1ill[liiiiI(0x1ba,'E45i')],Ii1ill[liiiiI(0x15c,'DHs4')])?console[liiiiI(0x1e0,'xBoV')](''+i1iIll+iIi11[liiiiI(0x257,'gCcv')]):iIiI1[liiiiI(0x256,'&PF(')](liil1I,i11ii1):console['log']('❓'+Iili+'\x20'+JSON[liiiiI(0x13a,'DHs4')](iIi11));}break;case Ii1ill[liiiiI(0x106,'gfY!')]:if(Ii1ill[liiiiI(0x20c,'i#!t')](iIi11[liiiiI(0x1de,'CBko')],0x0)&&iIi11[liiiiI(0x215,'UqT5')]){const llii1I=iIi11['data'][liiiiI(0x248,'$Ulu')];if(Ii1ill['iNPaa'](llii1I,0x0))console[liiiiI(0x276,'A*7K')](i1iIll+'助力['+inviteCode[liiiiI(0x283,'bbAt')](0x0,0xa)+liiiiI(0x18d,'@FVg'));else{if(Ii1ill['uYNVF'](llii1I,0x18a8a))liiiiI(0x15e,'%]C&')===Ii1ill['ZrvHp']?I1lIli['assign'](II1ii,IIIIII):console[liiiiI(0x1e9,'E45i')](i1iIll+liiiiI(0xfa,'4ufc')+inviteCode[liiiiI(0x170,'%]C&')](0x0,0xa)+liiiiI(0x20f,'i#!t'));else{if(Ii1ill[liiiiI(0x1c4,'mV1[')](llii1I,0x18a89))console['log'](i1iIll+'助力['+inviteCode[liiiiI(0x1b0,'gCcv')](0x0,0xa)+liiiiI(0x169,'4ufc')),ili11I=!![];else Ii1ill[liiiiI(0x10d,'@FVg')](llii1I,null)?(console['log'](i1iIll+liiiiI(0x1b3,'J11@')+inviteCode[liiiiI(0x284,'muBq')](0x0,0xa)+liiiiI(0x15b,'%Og4')),needRemoveCodes['push'](inviteCode)):console[liiiiI(0x130,'gCcv')](i1iIll+liiiiI(0x219,'A*7K')+inviteCode['substring'](0x0,0xa)+liiiiI(0xf6,'@#OP')+llii1I);}}}else{if(iIi11[liiiiI(0x12f,'9D2#')])console['log'](''+i1iIll+iIi11[liiiiI(0x21c,'Bd^%')]);else iIi11['msg']?Ii1ill['FSkxS'](Ii1ill['zLXlK'],liiiiI(0x176,'9d1n'))?console[liiiiI(0x180,'&PF(')](''+i1iIll+iIi11[liiiiI(0x11c,'Vp28')]):IllI1l['log'](''+i11I1i+IillIl[liiiiI(0x292,'j$kW')]):console[liiiiI(0x223,'gfY!')]('❓'+Iili+'\x20'+JSON['stringify'](iIi11));}break;case liiiiI(0xd9,'dIGZ'):if(iIi11['code']==0x0&&iIi11['success']){if(Ii1ill[liiiiI(0x1e1,'5g%d')]!=='dJxWr')IilIlI[liiiiI(0x144,'@FVg')](iIli11+liiiiI(0x1f9,'CBko')+Iiiil[liiiiI(0x2a4,'B[RT')](0x0,0xa)+']失败：已经助力过');else{const liIlli={0x0:'空气',0x1:Iillll=>Iillll?.[liiiiI(0x201,'DHs4')]?.[liiiiI(0x165,'p95B')]+'('+Iillll?.['data']?.['prizeDesc']+liiiiI(0xe4,'UqT5'),0x2:lllI1=>(lllI1?.[liiiiI(0x12b,'t^7[')]?.['amount']||'0')+'红包',0x3:III11I=>III11I?.[liiiiI(0x155,'L&^4')]?.[liiiiI(0x28e,'xBoV')]||'京豆',0x5:Ilii1=>'实物：'+Ilii1?.['data']?.[liiiiI(0x1c8,'j$kW')],0x16:ll11i1=>ll11i1?.[liiiiI(0x2b7,'muBq')]?.[liiiiI(0x21b,'E45i')]+liiiiI(0x244,'muBq')},lil11=liIlli[iIi11?.[liiiiI(0x109,'E45i')]?.['prizeType']]||iIi11?.[liiiiI(0x200,'4ufc')]?.[liiiiI(0x209,'(Env')]+'-'+iIi11?.[liiiiI(0x279,'iJcd')]?.[liiiiI(0x214,'DHs4')];if(Ii1ill['Etkuu'](typeof lil11,Ii1ill['PRIRh'])){console[liiiiI(0x144,'@FVg')](''+i1iIll+lil11(iIi11));if(Ii1ill[liiiiI(0x22c,'9d1n')](lil11(iIi11),'空气')&&!Ii1ill[liiiiI(0xf7,'$Ulu')](lil11,iIi11)['includes'](Ii1ill[liiiiI(0x2bf,'p95B')])){if(liiiiI(0x2c1,'gCcv')!==Ii1ill[liiiiI(0x140,'QRO2')])i1lliI[liiiiI(0x19a,'lZG#')](lil11(iIi11));else{const Iill=lI1Iil(lilIiI);Ii1ill[liiiiI(0x254,'Vp28')](Iill,0x0)&&(IiilIi[liiiiI(0x183,'@FVg')]=Iill);}}}else{if(iIi11?.[liiiiI(0xe3,'xBoV')]?.['prizeType']===0x1)console[liiiiI(0x280,'%Og4')](''+i1iIll+iIi11?.[liiiiI(0x12b,'t^7[')]?.[liiiiI(0x1b6,']#]I')]+'('+iIi11?.[liiiiI(0x16a,'gCcv')]?.[liiiiI(0x172,'xBoV')]+liiiiI(0x171,'$Ulu'));else iIi11[liiiiI(0x27a,'OFSn')]?console[liiiiI(0x2b3,'J11@')](''+i1iIll+iIi11['msg']):Ii1ill[liiiiI(0x241,'$Ulu')](liiiiI(0x1d3,'iJcd'),Ii1ill['uaJqO'])?(delete iiill1['data'],delete lIli1i[liiiiI(0x11d,'4ufc')][liiiiI(0x131,'ockl')]):console['log'](''+i1iIll+lil11);}}}else iIi11[liiiiI(0x233,'bbAt')]?console['log'](''+i1iIll+iIi11[liiiiI(0x1ac,'5g%d')]):Ii1ill[liiiiI(0x15f,'#nZX')]('ORgak',Ii1ill[liiiiI(0x240,']#]I')])?IiI1I[liiiiI(0x294,'Sbm5')](''+illlIl+i11ill[liiiiI(0x263,'A4!V')]):console[liiiiI(0x180,'&PF(')]('❓'+Iili+'\x20'+JSON['stringify'](iIi11));break;case Ii1ill['LNkVS']:if(iIi11[liiiiI(0x1d9,'&PF(')]==0x0)IllIl1=iIi11?.['data'];else{if(iIi11['errMsg'])console[liiiiI(0x103,'4ufc')](''+i1iIll+iIi11[liiiiI(0x228,']#]I')]);else iIi11[liiiiI(0xe5,'lZG#')]?console[liiiiI(0x2b3,'J11@')](''+i1iIll+iIi11['msg']):console['log']('❓'+Iili+'\x20'+JSON[liiiiI(0xfe,'%Og4')](iIi11));}break;case Ii1ill[liiiiI(0x1c5,'ockl')]:if(iIi11[liiiiI(0x154,'iJcd')]==0x0)Ii1ill[liiiiI(0x253,'$Ulu')](Ii1ill[liiiiI(0x133,'OFSn')],Ii1ill[liiiiI(0x173,'%Og4')])?i1III['log']('❌\x20脚本运行遇到了错误\x0a'+Ii1iIi):ll1Ii=iIi11?.[liiiiI(0x26a,'p95B')];else{if(iIi11[liiiiI(0x1bb,'A4!V')]){if(Ii1ill[liiiiI(0x282,'mV1[')](liiiiI(0x1ee,'DHs4'),Ii1ill['MPWCe']))console[liiiiI(0x125,'9D2#')](''+i1iIll+iIi11[liiiiI(0x1e5,'V&hP')]);else{const I1I1li=i1ili1(i1l1l1);I1I1li>0x0&&Ii1ill[liiiiI(0x18c,'UqT5')](I1I1li,0x1)&&(II11Ii=I1I1li);}}else iIi11[liiiiI(0x24d,'@#OP')]?liiiiI(0x1bc,'gfY!')!==liiiiI(0x2c0,'DHs4')?(lilIl1[liiiiI(0x207,'mV1[')](i1l1ii[liiiiI(0x1ae,'t^7[')],Iil1[liiiiI(0xeb,'gfY!')]),i1l1[liiiiI(0x189,'DHs4')](0x1)):console['log'](''+i1iIll+iIi11[liiiiI(0x257,'gCcv')]):Ii1ill[liiiiI(0x1b5,'B[RT')]===liiiiI(0x1c9,'jABE')?(ilil11++,illlI1[liiiiI(0x2b5,'j$kW')](IIIl11+'\x22'+I1lIi1[liiiiI(0x18a,'9D2#')]+'\x22完成，可抽奖'+liiIIi+'次')):console[liiiiI(0x132,'dIGZ')]('❓'+Iili+'\x20'+JSON['stringify'](iIi11));}break;case Ii1ill['glbEZ']:if(Ii1ill['xteNA'](iIi11['code'],0x0))li11l++,console['log'](i1iIll+'\x22'+li11i[liiiiI(0x174,'V&hP')]+liiiiI(0x1d4,'LT#Q')+li11l+'次');else{if(iIi11['errMsg'])Ii1ill['uYmjz']!=='ZXQZE'?console['log'](''+i1iIll+iIi11[liiiiI(0x1bb,'A4!V')]):(llliii['log'](''+IllI11+Iil1[liiiiI(0x29a,'PHeu')](l1llIi,II1llI)),Iil1[liiiiI(0x1ff,'Sbm5')](i11I11,l1llIl)!=='空气'&&!Iil1[liiiiI(0x204,'&PF(')](ii1I1l,ii1I1i)[liiiiI(0x1fb,'Sbm5')](Iil1[liiiiI(0x14d,'jABE')])&&lllii1[liiiiI(0x18f,'mV1[')](Iil1[liiiiI(0x273,'QRO2')](liIli,liIll)));else iIi11[liiiiI(0x292,'j$kW')]?console['log'](''+i1iIll+iIi11[liiiiI(0x28b,'%Og4')]):console['log']('❓'+Iili+'\x20'+JSON['stringify'](iIi11));}break;case liiiiI(0x1c3,'DHs4'):if(iIi11[liiiiI(0x212,']#]I')]==='0')Ii1ill[liiiiI(0x250,'V&hP')](Ii1ill[liiiiI(0x1e7,'Y1(5')],liiiiI(0x2c2,'5g%d'))?console['log'](''+i1iIll+iIi11[liiiiI(0x210,'auS5')]):l1iIII[liiiiI(0x1cf,'Vp28')]('❌\x20未能正确处理\x20'+llI1I1+liiiiI(0x101,'UqT5')+(IlIlil['message']||lIli1I));else iIi11[liiiiI(0x159,'p95B')]?console[liiiiI(0x121,'jABE')](''+i1iIll+iIi11[liiiiI(0x16b,'OFSn')]):console['log']('❓'+Iili+'\x20'+JSON['stringify'](iIi11));break;}}catch(III111){console[liiiiI(0x2a7,'muBq')]('❌\x20未能正确处理\x20'+Iili+liiiiI(0x1a6,'%]C&')+(III111[liiiiI(0x1a4,'Bd^%')]||III111));}else lIII1I[liiiiI(0x249,'9d1n')](illIlI+liiiiI(0xd5,'^]2*')+liIiI[liiiiI(0x283,'bbAt')](0x0,0xa)+']失败：没有助力次数了'),l1il1I=!![];}async function iiIi11(l1llli){const illli1=llIi1;if($[illli1(0x16c,'apwF')])return;let iI1lII='',ll11iI=null,l1i1I=null,l1llll=Ii1ill[illli1(0xef,'A*7K')],I1I1ll={},lil1i={};switch(l1llli){case illli1(0xf9,'L&^4'):lil1i={'appId':illli1(0x11b,'$Ulu'),'functionId':l1llli,'appid':illli1(0x1fd,'$Ulu'),'clientVersion':common['getLatestAppVersion'](),'client':Ii1ill[illli1(0x2a1,'&PF(')],'body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':Ii1ill[illli1(0x1f5,'OFSn')],'ua':IllIlI,'t':!![]},I1I1ll=await H5st['getH5st'](lil1i),iI1lII=illli1(0x138,'PHeu'),ll11iI=I1I1ll[illli1(0x1d8,'iJcd')];break;case Ii1ill['ahoBD']:lil1i={'appId':'b7d17','functionId':Ii1ill[illli1(0x12d,'apwF')],'appid':Ii1ill[illli1(0x1bf,'DHs4')],'clientVersion':common['getLatestAppVersion'](),'client':Ii1ill[illli1(0x160,'p95B')],'body':{'linkId':linkId,'taskId':li11i['id'],'inviter':inviteCode,'inJdApp':!![]},'version':Ii1ill[illli1(0x28f,'V&hP')],'ua':IllIlI,'t':!![]},I1I1ll=await H5st['getH5st'](lil1i),iI1lII=Ii1ill[illli1(0xf3,'%]C&')],ll11iI=I1I1ll['paramsData'];break;case'superLeagueLottery':lil1i={'appId':illli1(0xd3,'5g%d'),'functionId':l1llli,'appid':Ii1ill[illli1(0x278,'(Env')],'clientVersion':common[illli1(0xe8,'(Env')](),'client':illli1(0x2a8,'A*7K'),'body':{'linkId':linkId},'version':'4.7','ua':IllIlI,'t':!![]},I1I1ll=await H5st[illli1(0x27c,'#nZX')](lil1i),iI1lII=Ii1ill[illli1(0xde,'#nZX')],ll11iI=I1I1ll[illli1(0x23d,'lZG#')];break;case Ii1ill[illli1(0x274,'9d1n')]:lil1i={'appId':illli1(0x141,'QRO2'),'functionId':l1llli,'appid':Ii1ill[illli1(0x299,'Bd^%')],'clientVersion':common[illli1(0x20d,'E45i')](),'client':illli1(0xee,'QRO2'),'body':{'linkId':linkId},'version':illli1(0x142,'^]2*'),'ua':IllIlI,'t':!![]},I1I1ll=await H5st[illli1(0x1cd,']#]I')](lil1i),iI1lII=Ii1ill[illli1(0x1d1,'J11@')],ll11iI=I1I1ll[illli1(0x216,'Bd^%')];break;case illli1(0x202,'@#OP'):lil1i={'appId':Ii1ill[illli1(0x27d,'L&^4')],'functionId':l1llli,'appid':'activities_platform','clientVersion':common[illli1(0x285,']#]I')](),'client':Ii1ill[illli1(0x2b6,'lZG#')],'body':{'taskType':li11i[illli1(0x1db,'Y1(5')],'taskId':li11i['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':'4.7','ua':IllIlI,'t':!![]},I1I1ll=await H5st['getH5st'](lil1i),iI1lII='https://api.m.jd.com/api',ll11iI=I1I1ll[illli1(0xed,'%]C&')];break;case Ii1ill['glbEZ']:lil1i={'appId':illli1(0x24e,'E45i'),'functionId':l1llli,'appid':Ii1ill[illli1(0x1ca,'#nZX')],'clientVersion':common[illli1(0x190,'4ufc')](),'client':Ii1ill[illli1(0x2ba,'apwF')],'body':{'taskType':li11i[illli1(0x13e,'5g%d')],'taskId':li11i['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':lliiIi,'taskInsert':iiIi1I},'version':illli1(0x247,'CBko'),'ua':IllIlI,'t':!![]},I1I1ll=await H5st[illli1(0x175,'%]C&')](lil1i),iI1lII=Ii1ill[illli1(0x17c,'@FVg')],ll11iI=I1I1ll['paramsData'];break;case'userFollow':iI1lII='https://api.m.jd.com/userFollow',ll11iI={'functionId':l1llli,'body':JSON[illli1(0x178,'apwF')]({'pin':Ii1ill[illli1(0x236,'LT#Q')](encodeURIComponent,llIlI1),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':Ii1ill[illli1(0x1c0,'nYmv')],'isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':illli1(0x235,'nYmv'),'client':'m','t':Date['now']()};break;default:console['log'](illli1(0x265,'Vp28')+l1llli);return;}const liiiil={};ll11iI&&Object[illli1(0x2ad,'lZG#')](ll11iI,liiiil);l1i1I&&Object['assign'](l1i1I,liiiil);const IIIIli={'url':iI1lII,'method':l1llll,'headers':{'origin':Ii1ill['qgnRq'],'Referer':Ii1ill[illli1(0x179,'V&hP')],'User-Agent':IllIlI,'Cookie':Ii1ili,'content-type':illli1(0xe9,'DHs4'),'accept':illli1(0x205,'p95B')},'params':l1i1I,'data':ll11iI,'timeout':0x7530};if(Ii1ill[illli1(0x156,'i#!t')](l1llll,Ii1ill['NYQdt'])){if(illli1(0x28d,'DHs4')===illli1(0x1ec,'j$kW')){IiiIl1[illli1(0x1aa,'UqT5')](lIIil1+illli1(0x1cc,'5g%d')),IIli1[illli1(0x184,'lZG#')](illli1(0x230,'p95B')),II1liI[illli1(0xf2,'A4!V')][illli1(0x232,'@FVg')](IlI1i1);return;}else delete IIIIli['data'],delete IIIIli['headers'][Ii1ill[illli1(0x1f0,'lZG#')]];}const lllIi=0x1;let lil1l=0x0,lllIl=null;while(lil1l<lllIi){if(illli1(0x102,'dIGZ')===illli1(0x26f,'muBq')){lil1l>0x0&&await $[illli1(0x268,'QRO2')](0x3e8);const illlii=await common[illli1(0x199,'Bd^%')](IIIIli);if(!illlii[illli1(0xff,'auS5')]){lllIl='🚫\x20'+l1llli+illli1(0x185,'%Og4')+illlii[illli1(0x1f7,'L&^4')],lil1l++;continue;}if(!illlii[illli1(0x1d6,'V&hP')]){if(Ii1ill[illli1(0x14e,'^]2*')](Ii1ill[illli1(0x123,'CBko')],illli1(0x17e,'&PF('))){lllIl=illli1(0x197,'t^7[')+l1llli+'\x20请求失败\x20➜\x20无响应数据',lil1l++;continue;}else I1i11l=llIlii[illli1(0x124,'lZG#')];}await ll1Il(l1llli,illlii['data']);break;}else lllili['log'](''+IliiiI+Ill11[illli1(0x13f,'PHeu')]);}Ii1ill[illli1(0x21a,'V&hP')](lil1l,lllIi)&&console['log'](lllIl);}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
