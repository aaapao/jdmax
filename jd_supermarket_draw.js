/*
活动名称：超市卡抽奖
环境变量：jd_supermarket_threads // 控制并发线程数（正整数），默认1，最大3，尽量使用默认值，否则请开启代理运行
        jd_supermarket_interval // 自定义运行间隔时长（整数，单位毫秒），默认1000
        jd_supermarket_notify // 是否推送通知（true/false），默认不推送
        jd_supermarket_pinFilter // 账号pin过滤，多个用@进行分割

cron:1 1 1 1 *

*/

const $ = new Env('超市卡抽奖')
function _0x1ca3(_0x2b5065,_0x43694d){const _0x58d23e=_0x58d2();return _0x1ca3=function(_0x1ca344,_0x2f8bf2){_0x1ca344=_0x1ca344-0x1cc;let _0x1f9881=_0x58d23e[_0x1ca344];if(_0x1ca3['nHMvvQ']===undefined){var _0x5c9bab=function(_0x2ce3c6){const _0xac6feb='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x59dd3b='',_0x387d68='';for(let _0x512b46=0x0,_0x4e0232,_0x31a544,_0x537d5d=0x0;_0x31a544=_0x2ce3c6['charAt'](_0x537d5d++);~_0x31a544&&(_0x4e0232=_0x512b46%0x4?_0x4e0232*0x40+_0x31a544:_0x31a544,_0x512b46++%0x4)?_0x59dd3b+=String['fromCharCode'](0xff&_0x4e0232>>(-0x2*_0x512b46&0x6)):0x0){_0x31a544=_0xac6feb['indexOf'](_0x31a544);}for(let _0x28f63f=0x0,_0x1ca171=_0x59dd3b['length'];_0x28f63f<_0x1ca171;_0x28f63f++){_0x387d68+='%'+('00'+_0x59dd3b['charCodeAt'](_0x28f63f)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x387d68);};const _0x1379cf=function(_0x3e746c,_0xc1b47b){let _0x23ff9f=[],_0x202adb=0x0,_0x16104e,_0x1882de='';_0x3e746c=_0x5c9bab(_0x3e746c);let _0x459411;for(_0x459411=0x0;_0x459411<0x100;_0x459411++){_0x23ff9f[_0x459411]=_0x459411;}for(_0x459411=0x0;_0x459411<0x100;_0x459411++){_0x202adb=(_0x202adb+_0x23ff9f[_0x459411]+_0xc1b47b['charCodeAt'](_0x459411%_0xc1b47b['length']))%0x100,_0x16104e=_0x23ff9f[_0x459411],_0x23ff9f[_0x459411]=_0x23ff9f[_0x202adb],_0x23ff9f[_0x202adb]=_0x16104e;}_0x459411=0x0,_0x202adb=0x0;for(let _0x4922bd=0x0;_0x4922bd<_0x3e746c['length'];_0x4922bd++){_0x459411=(_0x459411+0x1)%0x100,_0x202adb=(_0x202adb+_0x23ff9f[_0x459411])%0x100,_0x16104e=_0x23ff9f[_0x459411],_0x23ff9f[_0x459411]=_0x23ff9f[_0x202adb],_0x23ff9f[_0x202adb]=_0x16104e,_0x1882de+=String['fromCharCode'](_0x3e746c['charCodeAt'](_0x4922bd)^_0x23ff9f[(_0x23ff9f[_0x459411]+_0x23ff9f[_0x202adb])%0x100]);}return _0x1882de;};_0x1ca3['YxjGyj']=_0x1379cf,_0x2b5065=arguments,_0x1ca3['nHMvvQ']=!![];}const _0x19ed86=_0x58d23e[0x0],_0x5483b3=_0x1ca344+_0x19ed86,_0x2ec793=_0x2b5065[_0x5483b3];return!_0x2ec793?(_0x1ca3['CVlihe']===undefined&&(_0x1ca3['CVlihe']=!![]),_0x1f9881=_0x1ca3['YxjGyj'](_0x1f9881,_0x2f8bf2),_0x2b5065[_0x5483b3]=_0x1f9881):_0x1f9881=_0x2ec793,_0x1f9881;},_0x1ca3(_0x2b5065,_0x43694d);}const _0x1adb9d=_0x1ca3;function _0x58d2(){const _0x1fe960=['EIj+mam','zCkVbh3cHhe','hvddVW','yCo1W4O/WQ3cJSoVFbfEyxPSWPNcNW','W4GFW48','WQfZtSkszXy','WRJcLmoJW74OWQldUG','zmk/bh3cL0Kaq1ZcPCkof8oJzmoDWQmyWOK','W4uaW5VdTmoHwCkQFby','cd5+WQH3WRXB','yr/dSq','r0RcPhFdUmoNq8o4aHjcW5nri8k4WQakdq','AXxcGW','rbBcRSk1W7BcJmkSWOFdSwlcHmopwW','ov7cOq','WQrzW5WxbG','W6NdMs7dJCoZ','uCoeFa','W4tdVXu','uGvXtSo6mI0','g/ggSiGv6lYt6kk757IV5P2uEa','W4TlWR9j','W7XCnGrmWPldHaHltfOGarjaAhNcV3ZcLfFdRNxdQwddHe8yWPTAW5GgWQa','zmo0W4y3WO7cOSoSFHHa','z8k4hwlcGfeCuL4','DCo4W5ZcNCkJlqPqnq','emo4csi','vsBdRvj0W6FcKmoOoajsW4FcVmkQ','DI54pXxdLCkQuG','W55bWR9hsmkvaSovW5NdMW','W49SqSodW5OqWRnypmoNW47cIbXPz8kKA8o2p8kBuwddLdtdNoAzQEwtGoMcIEECOCohysZcPCk9g8kVW6BdIbNdJmkk776u6BMr6k+l5lI05OYf6ycm','WRpOR6NMSj3LPBNOTjGq4P67W63MLjdLKQBLUi3MLkdMJOO','W6FcISkRWQHtWR3dM8o0FbnEWOmkWOLKa2SUWPq','WORdQMbAjLW','yCo7WRxdKmkHq8oddYb7u8kocdVcUSo+WRb/rY7dH8kelcrYW4yAWOqgWOS5kmk2ze7cJSovvshcSmkUmmkHWOKtbSkaWPWuWPNcGxL2W7JdK8o6W5WrF8oPW5uzpSodBComWOFdGSoIW49LBmkwWQ7cLCk9WQVdGmk4WQXKdr8oWQ/dSJxdUCkRq8o7W5anvmkeW65DsH7cPxToWRRcU8kefYZdHti1lCo2zrFdNXmCemoNB8kZpmoeW7ZdOvDaah1mWPOfWOpcVCo4DqhdGSonnCkje8oKWRTqhSoKW6pcKZnuxIVdH0ldJW','uCk6ugJcLf/cImkZbq','EsnBDmoNfH/cHq','n8kcda','WPhdRMDj','z8oVW5RcNCk7iXDFktRcVsJdOCkhmhBcNLit','lCkSWP7dI8kFW4y','kCkOWOpdVmkzW4FcGZtcMmkcWRldJCk5wh4','WP/cKHnck8kOW7PKFfxdU8oXAa','W4mEW5tcKCknpa','zSoMW4OX','kmoIWRDc','fSkShComDq','FdtdVCkwWRpcPNFdGCkHtYpcIae','fxjlnrKp','W4ddMmkB','W4ldKSkzcNSxWPpdIbiWp8oBzmkFWPSyf2xdKmoSma','zmkvWO5hWOxcMmkqWQqDmW','dSkSngO','WPJdH8oxjSoNW7xdK8ogWPvyWQXrW7NdLCkAW7VdP8o/','wajFB1Pr','uZpdJxbOW6pcV8oKktvAW4C','W5GAW5pcGSkTpuFdTa','CSo+W5VcKq','DSk6ihNcLM4Ps0JcPa','W4ldPbzofajOW4tcKhVcMHBdJCoCW6pdPtpcQSojW6GveCoefq','W4fPACor','AmoPW4VcKmkFlW5zoIZcOtFdOSknlxxcUe4AW4ZcJa','5A+f54UK77+a','WPZdPSkR','p2xcUCoqW6FdPqRdTCkU','WOpcHXrzc8o6WRO8suZdPSkZymkWkLz5Av3cISozW5NcISk5','wmowB1q','uvhcOG','W7m7bmkGgMqJWOldR8oFW7S','WPrnWQ/cQLzqlq','WPfrWOK','W69QWRlcImkjgmkDkW','eMTZia8woSkaE8kJW51n','vCozAfddImkt','gu3dU8oQWRxdNSoXWPK','WQzoW5O0g8ogWPhdPSktDCoKCfhcIq','WR7dH8kPWOndW5RcSSoQW4VdG8oeAXe','jmkNWOy','b8kOlupcJNldRCkkl8oGWQtdTN9hWOG/WRZcNmkQ','WQBINPJdSq','FmkvWOW','5yI65yQfba','WOBcLmklWOe','q17cVwBdNSocs8o8','smoaWQldOK0ozmokmSkfWOC3','W4GEW47cVSomj14','f3Ptia','WQrnW5KRn8ogWRxdKCkTtmoKCulcS1JdJ8oWhaddL8oRW4O','5lYj5OgN5yQBBa','W6RcGmkYWQHrWOFdM8oV','W7bFiq','WPnovxOqCu3cNaSQWPKEW7/cPeJdIGVcN0y','jxtcVSovW7JcQ2JcQCkOEbNdTqhcOmohWQVcQJydW7DoWOy1WOO','wJFdRwfOWRldLmkUpcrAWOxcPmoHW7ZcKmkOFWtcIHyOWPn3','y8oIW5iWWQ3cVSo0','sCoMWR3dTmk+sa','mmkvnfeKvCoQWQxdSf/dSSofo3pcHSohpMddN8o8W5VdT8ojnGuaW6Gn6ls+5yYhWP/dIY3OV7hMUOpVVR7LPi3KU5/NLOeb6l+R6kck5yQW5yUX','iSoLyw3cR8o7W6jUW4JcPq','lSkqgeKfxmo/WRi','jg7cQCojW77dTsldTq','W79Xoa','WRvIw8kUjXy3','reVcI2ldO8of','WRa2yZe','lCkGWP3dHCkFW73cMti','5BsH6k+N572P6lAN6l6a6l+M6kgb5BYR5yMA6lw75yY6','iw/cRq','W6m/fSoxj1yHW4ZcPebzW6C','pmoHDMJcKmoTW4TGW4RcOCoEdhFdVhiKocnFjfy','Cmo3W5abWQFcMCoHyrW','ur9k','WO7dU3Pniq7cOJ9sFsrrFhSqqGdcL8kcaCkuWQiBgG','qmo7WQG','gNvelqKzg8kw','BZjYkqxdPCk2uv8','zZzxBCo9hH/cHq','WOxdQmkQW615m8owpmkzW7u','s8owCKhdRSkok8kK','pSoHFwVcTSoG','W5TJcIrQWQBdUG','ifjGdW','WQzMxmknrHWZW4a','nSkOWPNdMa','W5ZcNuOHWPBdRdG3WQHkWOldMmomA8oM','6lsG5y275Pwo5PA8','oKNdHSoCWO4m','W6fRmq1tva','x8oGWR3dKmkJsmolrMW','W6FcMCkSWOvkWOddJSoUCG','oSo9WQLJo0O/ot8','WQXkW54','EcnkACoAtv3dJ8kzW60aWRlcUCkRW7JcHmkFW4HQWPtdPgpdMa','5Rwi5yQZ5AwX5zka772M','tCorWOldOG','qmk4sLBcNK/cJmkZdq','W75/lW','puxcSLZcGmkCqmkyW5/dGGxcSCo4jmolWPuIW6pcHfxdGCoZz08JWR9gAG0UWPNdJhxdGSkiaXpcK8k1eg/dN8kaW5u+cv8','cCkVeW','WPdcGmkrWQveWRO','bCk/k0lcNge','sHfevN1FwCks','W5ZcGCkxDCkNWO3cHmomWP18WQnfW4e','Fsrz','WPhdQmkSW60','W6dcL8oI','uCo1qSkCjSofW6ndW5ZcOCkcrmoN','WPNdPSk/','W4/dMmkycW','WRzSoCkfi0y8WRi','WOpdHSotm8oMWOpcMCkiWPnDWQaZW7VcJ8keW7RcU8oLWRfudSoWr8owcbHWW6NdMXFdJW','v8o+AtNdNtlcUSksnmoWWR7dNN4','heZdVW','lCkMWPC','hEIUH+AXR+wKK+I0JbBINQJdLW','CmkVaftcHheauu/cKCkBk8oADCoBWRudWP82','WPrrWP0','W6D3ma','5O2/56wb57MP5P6PW4rPf8kSW5PgEweaWRG','CYv1nbtdMq','vGLq','5y236yA06k2o5PU4W4rPf8kSW5PgEweaWRG','W4SAW47cLW','kmo5WQHooNK3lc0','W5mrWPVcRe1DjXTJgHVcTCkeD8krCSkOd3ddGmoQCmoqWRtcNtNdIq','W40EW57dMCo6AmkzAG7dLSoLDG','mvdcSK0','jKtcPu/dN8oaha','cSkPDhZcMNBdRCklDSomWRxdTejhWO4','44k66lA25y6v','xGZdRCoYWQNdLSoNW4xdIM3cRCoRvSkRW6me','WQjeW4aBimoaWOVdOW','C8kWW4D0W78','CSoTW53cN8kbiW5Fob3cIZxdQmkv','z8k/b3a','WQjzW4Szamoe','5l6v5Ocw5yQI','smkMwN7cHh/cImkZ','W55bWR9hsmkFgCoEW5ldGqHdW75rW5m','WQ1XWR3cJa','WPVcHHnb','5lYL5Okq5yIvcW','W47cMg4LWPFdIXe/WRXl','WQddGejXhwpdKG','jCkOWOtdJq','W5jLha','rKRcULFdPmop','imk5WOddGmkcW43cJdtcSmkoWQJcQ8k9tx5SWOhcTr/cVx1EWQbWW5CsWQhcG8onWRZcGCoLgW','xmo1WR3dMmkGxmoMqwe0','ihpcRq','amkYbSoIy8ku','WPODW6e','WP3dMWX0W5FcLJ4zWOjnWPhdTW','W6VcN8oI','W5PRd1C','kmkqbuy+sa','WOjmu3ilA33cLbO4','zCkVbhtcHgya','4PYtg+IgRUAEVEI8REIGP+MdJEwiQUs6RoMuUoISLY8','W4OvW43dLmoCAmkMyaVdHSokBsKIWQJcR2xdHmkbW4/dVa','wY3dUN1UW6ZcNSoY','o8kcgeS2sW','6lAi5y+e5Ps25Pw1','6lAA5BMc5y265OUU5As2W6O','8yA4Pc4','ur5OWRzeWR5khmoCz2TJv0xdHCodCaWoWPqV','wCofAxJdICka','eCkHb8oermkkWQTl','iLdcR1JdRSoAaSkEW4m','of7dGmoCWPGyW7L7tuq','DdzkEa','oLxdGG','vqrzuLOmg8oyW4f+WP0QW6S7WO7cQCofu8k3WPNdQva5y8kRWOOxWPVdPmkRWPbbW44az8ooyvnZW49GWOxdK3PIWRaVzCoSWRa+WPTAiKvoWOf1qwzgW6SjW5VdIePQW7uHW7lcKfe','cCkJoMpcMMldRCkk','sWHEWR9uWO1aamoxB35gu1ZdVW','WQJdHSkQWRvmWRJdNmkYsWvJWPykWPTpd2aFWPzjtSkVW4K','n8oIWR0','wfdcSW','W4iiW50','WPXkWONdGCoazbRdGSk+kq89uq','jmkopxxcO3Cr','ySkwWODCWQdcKG','44c55O2G56Em44ks6k+j5ysT6i6x5y25bCklWOeWWQqR','zSkhWOjb','le7dHmo0WO8NW697tvtcNw0LW4zW','hKJcI8o3W47dJG','W7fdiq','FCoOW4q','6lsw5BIC5yY+5OU15AwRAW','WOLFWP3cS3DEiuzsgIZcOSke','eSoWdcBdHcVdNmklpNutex4','aKBdQ8oZWQZdJSozWPNdVW','wHvzAHXfqa','pmoOWQ5RnwO7osddRWvRrfhcOSkdWQpdT20','m1tdKW','5Rsx5yI85Bs957M257IE5P2W5lIKxG','W4ddKSkscv0A','C8kRahK','WORdOgK','vrTAWQa','aCkHamoo','wuZcSW','F+IVJoAZTUwrNow5QuS','W4xdMCkFaLWwWPVdLa','WOZcLHrKhCkZW6zYt1K','W7e/g8kGhNKZWORdTSoB','wrfzqW','uSowDLa','W7bXoY0','y8oYW40aWQBcQq','8jIRQZS','pftdKmo0','WOlcHWvemCkK','AcfYjW','WO7cMSky','fvhdQSolWRpdNq','W4ddMmkBk1Sa','rSo7WQBdLW','nSkEda','lSkqgeKys8o8WRldR0O','oMhcO8or','W6ZcHSooW5ujWOhdJSoqW6hdPq','WQ1eW4K','W7iRgCkKauysWORdPCopW61pyw/cHa','WP7dGCocmCotW5BdMSolWP1A','WRldH8oO','W5RcISkECSkGWORdLmooWQHIWRbP','WOJcNarm','jmoYqsZdKdvuAwpcP8kthSoL','WQfYx8kdycKMW4tcMxPfW5VcGSolW6e6wCkgDxhdRHa','p8oIWRrc','WRvIw8kQCXeMW5BcIK5qW6pcU8odW7ywuCkAAa','W6n/lsLqq2pcRmkecG','W6JcHmoOW7KjWO0','EcvVgG7dNCkMt19IvHNdSbHQhG','W5/cMLm+WOhdTcqMWQO','mCoPWOvuiw47odNdJWDWD0dcJ8kaWQpdTKunzCohsIa','omoGth/cT8o4W4n9W5hcPCoVch3dO0q1gt9EieRdK8kRWPHSWPhMJipLI4NLU47LJllNUyBNQO/MLB/VVlNPUQZORyZcT++8QUACTEwLO3Ww','EtLDDCoCeXFcKW','o8kCbfC/uq','hUwSU+AiI++8UEwnLEAjMUwKKa','WOFcNaC','W5FcUZKoAGpcVvDBsH4SFa','aSkLamoNjCkaWQ8','FSkKf3tcKgeauq','WR82ya','omk9W6XfyW','WObyt1yiFa','y8o+W5ZcUCk+lq','W4PsWQjCdCk4gCovW4C','W7y/amk1j2mAWO4','W4pcH10','4P6QWQ/MNktOG4dMRlhNOzRLPONNKjyt','W4muW50','WPvivvTtA00','WQbiW5OraSoiWOZdOCkLCSoADeJcM1/dQSkRhWO','W5LVfwpdHW','umoyFa','WPbxWOa','iCoWywxcRmoVW49PW4u','lSkqgeKxtmoHWR7dRLBdPCok','vY3dRW','WOhdQNPXm0ddQgnhtd0prZaivuFcM8kd','kmkJW4tcKmkojqXDjsW'];_0x58d2=function(){return _0x1fe960;};return _0x58d2();}(function(_0x3f249a,_0x107343){const _0xc9c8fa=_0x1ca3,_0x1e104e=_0x3f249a();while(!![]){try{const _0xec8df7=-parseInt(_0xc9c8fa(0x1ee,'p9[9'))/0x1*(parseInt(_0xc9c8fa(0x2a7,'@nLR'))/0x2)+parseInt(_0xc9c8fa(0x2c3,'WZLY'))/0x3*(parseInt(_0xc9c8fa(0x279,'sj8@'))/0x4)+parseInt(_0xc9c8fa(0x217,'uijo'))/0x5+-parseInt(_0xc9c8fa(0x27e,'7zSf'))/0x6+parseInt(_0xc9c8fa(0x2cd,'[CC5'))/0x7+parseInt(_0xc9c8fa(0x27c,'S0Wd'))/0x8*(parseInt(_0xc9c8fa(0x253,'6wT4'))/0x9)+parseInt(_0xc9c8fa(0x234,'p9[9'))/0xa;if(_0xec8df7===_0x107343)break;else _0x1e104e['push'](_0x1e104e['shift']());}catch(_0x542331){_0x1e104e['push'](_0x1e104e['shift']());}}}(_0x58d2,0xa6608));const jdCookie=require(_0x1adb9d(0x1e7,'8[Ym')),notify=require(_0x1adb9d(0x28b,'1cq!')),common=require(_0x1adb9d(0x2be,']iqW')),{H5st}=require(_0x1adb9d(0x291,'H*gX'));console[_0x1adb9d(0x27a,'w)e)')](''),console[_0x1adb9d(0x2d5,'(k$]')]('=========='+$[_0x1adb9d(0x2de,'drrC')]+_0x1adb9d(0x288,'7K1g')),console[_0x1adb9d(0x252,'uijo')](_0x1adb9d(0x1cd,'!xL!')),console[_0x1adb9d(0x1d5,'qrwy')]('jd_supermarket_interval\x20//\x20自定义运行间隔时长，默认1000'),console[_0x1adb9d(0x2e5,'Qd@8')](_0x1adb9d(0x206,'OCtY')),console[_0x1adb9d(0x2ca,')iF]')](_0x1adb9d(0x248,'7FZa')),console[_0x1adb9d(0x2c9,'TsIF')]('=========='+$['name']+_0x1adb9d(0x285,'7K1g')),console[_0x1adb9d(0x2ed,'iK&i')]('');let linkId,taskThreads=process[_0x1adb9d(0x22b,'Z1RI')]['jd_supermarket_threads']||'20';const runInterval=process[_0x1adb9d(0x2ba,'nI[N')]['jd_supermarket_interval']||_0x1adb9d(0x202,'[CC5'),isNotify=(process['env']['jd_supermarket_notify']||process[_0x1adb9d(0x1e5,'hbyN')][_0x1adb9d(0x2b4,'rQro')])===_0x1adb9d(0x221,'8[Ym'),pinFilter=(process[_0x1adb9d(0x235,'3aUW')][_0x1adb9d(0x1cc,'Fa^e')]||'')['split']('@'),maxThreads=0x32;let shareCodes=[],needRemoveCodes=[],hasGetBasicInfo=![],cookiesArr=Object['keys'](jdCookie)[_0x1adb9d(0x26a,'iK&i')](_0x1379cf=>jdCookie[_0x1379cf])['filter'](_0x2ce3c6=>_0x2ce3c6);!cookiesArr[0x0]&&($['msg']($[_0x1adb9d(0x2d6,'rQro')],_0x1adb9d(0x2c5,'hA7(')),process[_0x1adb9d(0x1fd,'pkqB')](0x1));!(async()=>{const _0x5f06ac=_0x1adb9d;notify['config']({'title':$[_0x5f06ac(0x21c,'7zSf')]}),await Main(),isNotify&&notify[_0x5f06ac(0x2db,'@5uQ')]()&&await notify['push']();})()[_0x1adb9d(0x1f8,'R$^a')](_0xac6feb=>$[_0x1adb9d(0x2e7,'iABL')](_0xac6feb))['finally'](()=>$[_0x1adb9d(0x2f5,'Fa^e')]());async function Main(){const _0x264361=_0x1adb9d;try{authorCodeList=await jsonurl(_0x264361(0x270,'n3Q2'));if(authorCodeList&&authorCodeList['length']>0x0)for(let _0x387d68=0x0;_0x387d68<authorCodeList[_0x264361(0x2d3,'iABL')];_0x387d68++){linkId=authorCodeList[_0x387d68],console[_0x264361(0x1ec,'j5Ud')](_0x264361(0x2b2,'DTs*')+linkId+']');}else linkId=_0x264361(0x23f,'iK&i'),console[_0x264361(0x1db,'@nLR')](_0x264361(0x2cb,'%Hb[')+linkId+']');try{const _0x512b46=parseInt(taskThreads);_0x512b46>0x0&&_0x512b46!==0x1&&(taskThreads=_0x512b46);}catch{taskThreads=0x1;}taskThreads=Math[_0x264361(0x1e2,'1cq!')](taskThreads,maxThreads),$[_0x264361(0x25b,'XVsb')]=null;if(runInterval)try{const _0x4e0232=parseInt(runInterval);_0x4e0232>=0x0&&($[_0x264361(0x25d,'drrC')]=_0x4e0232);}catch{console[_0x264361(0x1d1,'@5uQ')]('⚠\x20自定义运行间隔时长设置错误');}$[_0x264361(0x254,'!xL!')]=[],await common[_0x264361(0x292,'iK&i')](taskThreads,cookiesArr,taskFnc),$[_0x264361(0x211,'3aUW')]=![],$[_0x264361(0x2a1,'Z1RI')]=![];$[_0x264361(0x21a,'iABL')][_0x264361(0x213,'7K1g')]>0x0&&(cookiesArr=cookiesArr[_0x264361(0x218,']9)H')]((_0x31a544,_0x537d5d)=>!$['needRemoveCookieIndex'][_0x264361(0x2da,'iABL')](_0x537d5d+0x1)),$[_0x264361(0x2ae,'j5Ud')]=[]);const _0x59dd3b=notify[_0x264361(0x2b8,'nI[N')]();_0x59dd3b&&console['log'](_0x264361(0x1fc,'E]os')+_0x59dd3b[_0x264361(0x2ac,'WZLY')](/：/g,_0x264361(0x237,'gO5h')));}catch(_0x28f63f){console[_0x264361(0x27a,'w)e)')](_0x264361(0x2ad,'nI[N')+_0x28f63f);}}async function taskFnc(_0x1ca171,_0x3e746c){const _0x53ec41=_0x1adb9d;if($['runEnd'])return{'runEnd':!![]};const _0xc1b47b=decodeURIComponent(common[_0x53ec41(0x203,'hbyN')](_0x1ca171,_0x53ec41(0x24e,'Z1RI')));function _0x23ff9f(_0x1d8a60,_0x50adb5){const _0x400e94=_0x53ec41;if(_0x1d8a60[_0x400e94(0x210,'3aUW')]<=0x4)return _0x1d8a60;else{const _0x4ca4a1=_0x1d8a60[_0x400e94(0x216,'sj8@')](0x0,0x2),_0x2aac3c=_0x1d8a60['slice'](-0x2),_0x4140d2=Math[_0x400e94(0x278,'p9[9')](_0x50adb5-_0x4ca4a1[_0x400e94(0x209,'(k$]')]-_0x2aac3c['length'],0x0),_0x31a20e='*'[_0x400e94(0x1e9,'WZLY')](_0x4140d2);return _0x4ca4a1+_0x31a20e+_0x2aac3c;}}const _0x202adb=decodeURIComponent(_0xc1b47b),_0x16104e=_0x23ff9f(_0x202adb,0x6),_0x1882de=_0x53ec41(0x290,'1Meq')+_0x3e746c+'】'+_0x16104e+'：',_0x459411=notify[_0x53ec41(0x296,'iK&i')](_0x3e746c,_0xc1b47b);if(pinFilter[_0x53ec41(0x25e,'!xL!')]>0x0&&(pinFilter[_0x53ec41(0x1d4,'WZLY')](_0xc1b47b)||pinFilter[_0x53ec41(0x22f,'gO5h')](encodeURIComponent(_0xc1b47b)))){_0x459411['fix'](_0x53ec41(0x251,'qrwy')),console[_0x53ec41(0x27f,'H*gX')](_0x459411[_0x53ec41(0x2f9,'DTs*')]()),$[_0x53ec41(0x225,'8[Ym')]['push'](_0x3e746c);return;}const _0x4922bd=await common[_0x53ec41(0x233,'iK&i')](_0x1ca171);if(!_0x4922bd&&typeof _0x4922bd==='boolean'){console['log'](_0x1882de+_0x53ec41(0x2b1,'pkqB')),_0x459411[_0x53ec41(0x2a8,'p9[9')](_0x53ec41(0x264,'8[Ym')),$['needRemoveCookieIndex'][_0x53ec41(0x29b,'@5uQ')](_0x3e746c);return;}const _0x46dab3=common[_0x53ec41(0x1e0,'nKK3')](_0xc1b47b);let _0x1eb5a2=![],_0x541aa4=![],_0x110eb0=0x0,_0x1c5ee3,_0x112ce7,_0x146955,_0x56b592,_0xfdd79b,_0x35f1c7;await _0x59f13a(_0x53ec41(0x2ee,'S0Wd')),await $[_0x53ec41(0x214,')iF]')](parseInt($[_0x53ec41(0x1da,'S0Wd')]*0x1+0x1f4,0xa));if($[_0x53ec41(0x2e0,')iF]')]||_0x1eb5a2)return;if(_0x1c5ee3){_0x110eb0=_0x1c5ee3[_0x53ec41(0x22c,'S0Wd')];if(!hasGetBasicInfo&&_0x1c5ee3['prizeItems']){hasGetBasicInfo=!![];const _0x308a2c=_0x1c5ee3[_0x53ec41(0x205,'pkqB')][_0x53ec41(0x26f,'%Hb[')](_0x32da9c=>_0x32da9c['prizeCode']),_0x1b7244=_0x308a2c[_0x53ec41(0x2e8,'3r5O')]('，');console[_0x53ec41(0x2e9,'7FZa')](_0x53ec41(0x26c,']9)H')+_0x1b7244+'\x0a');}await _0x59f13a(_0x53ec41(0x222,'WZLY'));let _0x1a436f=![];if(_0xfdd79b&&Array[_0x53ec41(0x22d,'1cq!')](_0xfdd79b))for(let _0x40112a=0x0;_0x40112a<_0xfdd79b['length'];_0x40112a++){_0x112ce7=_0xfdd79b[_0x40112a],_0x146955=_0x112ce7[_0x53ec41(0x2cc,'1cq!')];const _0x1da678=_0x112ce7[_0x53ec41(0x1e4,'7FZa')],_0x383bbf=_0x112ce7['taskShowTitle'],_0x339913=_0x112ce7[_0x53ec41(0x294,'8[Ym')],_0x281631=_0x112ce7['taskDoTimes'],_0x3e9359=_0x112ce7[_0x53ec41(0x261,'6wT4')];if(!_0x1da678&&(_0x3e9359['includes'](_0x53ec41(0x1fb,'XVsb'))||_0x3e9359[_0x53ec41(0x259,']9)H')](_0x53ec41(0x25f,'TsIF')))){_0x3e9359[_0x53ec41(0x232,'H*gX')](_0x53ec41(0x29e,'(k$]'))&&(await _0x59f13a(_0x53ec41(0x21b,'E]os')),await $['wait'](parseInt(0x1f4)));if(_0x146955)for(let _0x2b69a1=_0x281631;_0x2b69a1<_0x339913;_0x2b69a1++){_0x1a436f=!![],await _0x59f13a(_0x53ec41(0x269,'Fa^e')),await $[_0x53ec41(0x2c6,'E]os')](parseInt($['waitTime']*0x1+0x5dc,0xa));}else for(let _0x2cfd78=0x0;_0x2cfd78<0x1;_0x2cfd78++){_0x1a436f=!![],await _0x59f13a(_0x53ec41(0x23c,'hA7('));const _0xfffdf9=_0x35f1c7?.['taskItemList']||[],_0x2206df=_0x35f1c7?.[_0x53ec41(0x1ed,'6wT4')]?.['finishNeed'];for(let _0x94ac04=0x0;_0x94ac04<_0x2206df;_0x94ac04++){const _0xa9d51a=_0xfffdf9[_0x94ac04];_0xa9d51a?(_0x3e9359[_0x53ec41(0x204,'DTs*')](_0x53ec41(0x25f,'TsIF'))?_0x146955=_0xa9d51a[_0x53ec41(0x20c,'XVsb')]:_0x146955=_0xa9d51a[_0x53ec41(0x2e3,'@5uQ')],_0x56b592=_0xa9d51a[_0x53ec41(0x2ea,'7FZa')],await _0x59f13a(_0x53ec41(0x1f0,'j5Ud')),await $[_0x53ec41(0x2e4,'DTs*')](parseInt($[_0x53ec41(0x274,'o!3D')]*0x1+0x5dc,0xa))):console[_0x53ec41(0x219,'iABL')](_0x1882de+'任务失败，没有获取到任务ID');}}}else{if(!_0x1da678&&_0x3e9359['includes'](_0x53ec41(0x260,']9)H')))for(let _0x565b8a=_0x281631;_0x565b8a<_0x339913;_0x565b8a++){_0x1a436f=!![],await _0x59f13a(_0x53ec41(0x26e,'[CC5')),await $[_0x53ec41(0x20e,'(k$]')](parseInt(Math[_0x53ec41(0x2aa,'7FZa')]()*0x5dc+0x5dc,0xa));}else{if(!_0x1da678&&_0x3e9359[_0x53ec41(0x24b,'uijo')](_0x53ec41(0x2c8,'uijo')))for(let _0x57ca4a=_0x281631;_0x57ca4a<_0x339913;_0x57ca4a++){_0x1a436f=!![];let _0x1f2f47=_0x1c5ee3['userCode'];if(!shareCodes[_0x53ec41(0x1ce,'XVsb')](_0x1f2f47)){shareCodes[_0x53ec41(0x295,'WZLY')](_0x1f2f47);if(shareCodes[_0x53ec41(0x286,'DTs*')]>=0x3)for(let _0x40a9c2 of shareCodes){inviteCode=_0x40a9c2,await _0x59f13a('superLeagueHome_assist');if(_0x541aa4)break;await $[_0x53ec41(0x262,'3aUW')](parseInt($[_0x53ec41(0x2b7,'n3Q2')]*0x1+0x9c4,0xa));}}}}}}if(needRemoveCodes[_0x53ec41(0x2d3,'iABL')]>0x0)for(let _0x3878be of needRemoveCodes){shareCodes[_0x53ec41(0x2af,'hbyN')](_0x3878be)&&shareCodes[_0x53ec41(0x2c4,'E]os')](shareCodes['indexOf'](_0x3878be),0x1);}if(_0x110eb0>0x0)while(_0x110eb0--){await _0x59f13a(_0x53ec41(0x21d,'Jlwd')),await $[_0x53ec41(0x2eb,'uijo')](parseInt($[_0x53ec41(0x23b,'Z1RI')]*0x1+0x5dc,0xa));}}if($[_0x53ec41(0x266,'%Hb[')])return{'runEnd':!![]};await $[_0x53ec41(0x20e,'(k$]')](parseInt($[_0x53ec41(0x220,'7K1g')]*0x1+0x1f4,0xa));async function _0xd9d3a9(_0x32d758,_0x1386f5){const _0x3ab258=_0x53ec41;try{switch(_0x32d758){case'superLeagueHome':if(_0x1386f5[_0x3ab258(0x27b,'iABL')]==0x0&&_0x1386f5['success'])_0x1c5ee3=_0x1386f5[_0x3ab258(0x2d4,'WZLY')];else{if(_0x1386f5[_0x3ab258(0x2f8,'p9[9')])console[_0x3ab258(0x2a0,'nKK3')](''+_0x1882de+_0x1386f5[_0x3ab258(0x2b5,'drrC')]);else _0x1386f5[_0x3ab258(0x276,'XVsb')]?['结束',_0x3ab258(0x1d9,'pkqB')][_0x3ab258(0x215,'Fa^e')](_0x108a04=>_0x1386f5[_0x3ab258(0x287,'rQro')][_0x3ab258(0x298,'[CC5')](_0x108a04))?(console[_0x3ab258(0x2bf,'Fa^e')](_0x1882de+_0x3ab258(0x2d2,'3r5O')),$[_0x3ab258(0x272,'Qd@8')]=!![]):console['log'](''+_0x1882de+_0x1386f5[_0x3ab258(0x238,'E]os')]):console['log']('❓'+_0x32d758+'\x20'+JSON[_0x3ab258(0x1e3,'!xL!')](_0x1386f5));}break;case _0x3ab258(0x2f4,'6wT4'):if(_0x1386f5[_0x3ab258(0x2f2,'@5uQ')]==0x0&&_0x1386f5[_0x3ab258(0x28e,'n3Q2')]){const _0xa3c95f=_0x1386f5[_0x3ab258(0x2dd,'o!3D')][_0x3ab258(0x28c,'j5Ud')];if(_0xa3c95f===0x0)console[_0x3ab258(0x24c,'%Hb[')](_0x1882de+_0x3ab258(0x239,'%Hb[')+inviteCode['substring'](0x0,0xa)+']成功\x20✅\x20');else{if(_0xa3c95f===0x18a8a){}else{if(_0xa3c95f===0x18a89)_0x541aa4=!![];else{if(_0xa3c95f===null)needRemoveCodes['push'](inviteCode);else{}}}}}else{if(_0x1386f5[_0x3ab258(0x2e6,'H*gX')])console[_0x3ab258(0x2ca,')iF]')](''+_0x1882de+_0x1386f5[_0x3ab258(0x273,'7zSf')]);else _0x1386f5[_0x3ab258(0x20d,'7FZa')]?console[_0x3ab258(0x256,'o!3D')](''+_0x1882de+_0x1386f5[_0x3ab258(0x242,'TsIF')]):console['log']('❓'+_0x32d758+'\x20'+JSON['stringify'](_0x1386f5));}break;case _0x3ab258(0x1ef,'WZLY'):if(_0x1386f5['code']==0x0&&_0x1386f5['success']){const _0xdce7e9={0x0:'空气',0x1:_0x310177=>_0x310177?.['data']?.[_0x3ab258(0x250,'3aUW')]+'('+_0x310177?.[_0x3ab258(0x28d,'n3Q2')]?.[_0x3ab258(0x20b,'[CC5')]+_0x3ab258(0x240,')iF]'),0x2:_0x406bfe=>(_0x406bfe?.['data']?.['amount']||'0')+'红包',0x3:_0x709de0=>_0x709de0?.[_0x3ab258(0x2d7,'sj8@')]?.[_0x3ab258(0x299,'pkqB')]||'京豆',0x5:_0x3fa856=>_0x3ab258(0x226,'Fa^e')+_0x3fa856?.[_0x3ab258(0x289,'7K1g')]?.[_0x3ab258(0x2bd,'rQro')],0x16:_0x4f8dc0=>_0x4f8dc0?.[_0x3ab258(0x224,'OCtY')]?.[_0x3ab258(0x1cf,'7FZa')]+'元超市卡'},_0x3523ef=_0xdce7e9[_0x1386f5?.['data']?.[_0x3ab258(0x25a,'DTs*')]]||_0x1386f5?.[_0x3ab258(0x22a,'drrC')]?.[_0x3ab258(0x200,'WZLY')]+'-'+_0x1386f5?.['data']?.[_0x3ab258(0x1eb,')iF]')];if(typeof _0x3523ef==='function')console[_0x3ab258(0x22e,'1cq!')](''+_0x1882de+_0x3523ef(_0x1386f5)),_0x3523ef(_0x1386f5)!=='空气'&&!_0x3523ef(_0x1386f5)[_0x3ab258(0x2bc,'7zSf')](_0x3ab258(0x297,'p9[9'))&&_0x459411[_0x3ab258(0x231,'drrC')](_0x3523ef(_0x1386f5));else{if(_0x1386f5?.[_0x3ab258(0x2d7,'sj8@')]?.[_0x3ab258(0x2fa,'@nLR')]===0x1)console[_0x3ab258(0x2c0,'Z1RI')](''+_0x1882de+_0x1386f5?.[_0x3ab258(0x23a,'Qd@8')]?.[_0x3ab258(0x241,']iqW')]+'('+_0x1386f5?.[_0x3ab258(0x2dd,'o!3D')]?.['prizeDesc']+_0x3ab258(0x29c,'o!3D'));else _0x1386f5['msg']?console[_0x3ab258(0x27f,'H*gX')](''+_0x1882de+_0x1386f5[_0x3ab258(0x2d8,'Z1RI')]):console['log'](''+_0x1882de+_0x3523ef);}}else _0x1386f5['errMsg']?console[_0x3ab258(0x1e1,'drrC')](''+_0x1882de+_0x1386f5[_0x3ab258(0x265,'nI[N')]):console[_0x3ab258(0x256,'o!3D')]('❓'+_0x32d758+'\x20'+JSON[_0x3ab258(0x28a,'Fa^e')](_0x1386f5));break;case _0x3ab258(0x29d,'@nLR'):if(_0x1386f5[_0x3ab258(0x2e2,'nI[N')]==0x0)_0xfdd79b=_0x1386f5?.[_0x3ab258(0x277,'w)e)')];else{if(_0x1386f5[_0x3ab258(0x21e,'o!3D')])console['log'](''+_0x1882de+_0x1386f5[_0x3ab258(0x1d8,'8[Ym')]);else _0x1386f5[_0x3ab258(0x2c1,'7K1g')]?console['log'](''+_0x1882de+_0x1386f5[_0x3ab258(0x2a4,'uijo')]):console[_0x3ab258(0x2d1,'nI[N')]('❓'+_0x32d758+'\x20'+JSON['stringify'](_0x1386f5));}break;case _0x3ab258(0x230,']9)H'):if(_0x1386f5[_0x3ab258(0x24f,'qrwy')]==0x0)_0x35f1c7=_0x1386f5?.[_0x3ab258(0x2a9,'nKK3')];else{if(_0x1386f5[_0x3ab258(0x2a5,'sj8@')])console[_0x3ab258(0x1ec,'j5Ud')](''+_0x1882de+_0x1386f5['errMsg']);else _0x1386f5['msg']?console[_0x3ab258(0x258,'3r5O')](''+_0x1882de+_0x1386f5[_0x3ab258(0x1ea,'H*gX')]):console['log']('❓'+_0x32d758+'\x20'+JSON[_0x3ab258(0x201,'8[Ym')](_0x1386f5));}break;case _0x3ab258(0x268,']iqW'):if(_0x1386f5[_0x3ab258(0x24f,'qrwy')]==0x0)_0x110eb0++,console[_0x3ab258(0x1dd,'7K1g')](_0x1882de+'\x22'+_0x112ce7[_0x3ab258(0x212,'@5uQ')]+_0x3ab258(0x1d0,'drrC')+_0x110eb0+'次');else{if(_0x1386f5[_0x3ab258(0x2e6,'H*gX')])console[_0x3ab258(0x252,'uijo')](''+_0x1882de+_0x1386f5[_0x3ab258(0x247,'3r5O')]);else _0x1386f5[_0x3ab258(0x1f9,'drrC')]?console[_0x3ab258(0x280,'3aUW')](''+_0x1882de+_0x1386f5['msg']):console['log']('❓'+_0x32d758+'\x20'+JSON[_0x3ab258(0x267,'3r5O')](_0x1386f5));}break;case _0x3ab258(0x1ff,')iF]'):if(_0x1386f5[_0x3ab258(0x2df,'%Hb[')]==='0'){}else _0x1386f5[_0x3ab258(0x228,'uijo')]?console['log'](''+_0x1882de+_0x1386f5[_0x3ab258(0x2ce,'H*gX')]):console[_0x3ab258(0x1f6,'n3Q2')]('❓'+_0x32d758+'\x20'+JSON[_0x3ab258(0x28a,'Fa^e')](_0x1386f5));break;}}catch(_0x32b7f0){console[_0x3ab258(0x258,'3r5O')](_0x3ab258(0x1dc,'(k$]')+_0x32d758+_0x3ab258(0x2d9,'nI[N')+(_0x32b7f0['message']||_0x32b7f0));}}async function _0x59f13a(_0x4f0604){const _0x4a43ec=_0x53ec41;if($[_0x4a43ec(0x1d7,'%qRd')])return;let _0x41fc87='',_0x4d9339=null,_0x1ca6e4=null,_0x2bb3f0=_0x4a43ec(0x29a,'1cq!'),_0xec85d0={},_0xb5a2ce={};switch(_0x4f0604){case _0x4a43ec(0x2c7,'nI[N'):_0xb5a2ce={'appId':'b7d17','functionId':_0x4f0604,'appid':_0x4a43ec(0x208,']iqW'),'clientVersion':common[_0x4a43ec(0x236,'7zSf')](),'client':'ios','body':{'linkId':linkId,'taskId':'','inviter':'','inJdApp':!![]},'version':_0x4a43ec(0x2a6,'pkqB'),'ua':_0x46dab3,'t':!![]},_0xec85d0=await H5st[_0x4a43ec(0x1de,'%qRd')](_0xb5a2ce),_0x41fc87='https://api.m.jd.com/api',_0x4d9339=_0xec85d0[_0x4a43ec(0x25c,'w)e)')];break;case'superLeagueHome_assist':_0xb5a2ce={'appId':_0x4a43ec(0x293,')iF]'),'functionId':_0x4a43ec(0x263,'@nLR'),'appid':'activities_platform','clientVersion':common['getLatestAppVersion'](),'client':_0x4a43ec(0x227,'w)e)'),'body':{'linkId':linkId,'taskId':_0x112ce7['id'],'inviter':inviteCode,'inJdApp':!![]},'version':_0x4a43ec(0x1f2,'n3Q2'),'ua':_0x46dab3,'t':!![]},_0xec85d0=await H5st[_0x4a43ec(0x23d,'7K1g')](_0xb5a2ce),_0x41fc87=_0x4a43ec(0x229,'@5uQ'),_0x4d9339=_0xec85d0[_0x4a43ec(0x2dc,'S0Wd')];break;case _0x4a43ec(0x1f3,'Z1RI'):_0xb5a2ce={'appId':'60dc4','functionId':_0x4f0604,'appid':_0x4a43ec(0x20f,'8[Ym'),'clientVersion':common[_0x4a43ec(0x282,'WZLY')](),'client':'ios','body':{'linkId':linkId},'version':_0x4a43ec(0x1f4,'nI[N'),'ua':_0x46dab3,'t':!![]},_0xec85d0=await H5st[_0x4a43ec(0x1d3,'sj8@')](_0xb5a2ce),_0x41fc87=_0x4a43ec(0x257,'(k$]'),_0x4d9339=_0xec85d0[_0x4a43ec(0x2a3,'3r5O')];break;case _0x4a43ec(0x2ec,'p9[9'):_0xb5a2ce={'appId':_0x4a43ec(0x1d6,'Fa^e'),'functionId':_0x4f0604,'appid':_0x4a43ec(0x1df,'iK&i'),'clientVersion':common[_0x4a43ec(0x2f6,'6wT4')](),'client':'ios','body':{'linkId':linkId},'version':_0x4a43ec(0x2f0,']iqW'),'ua':_0x46dab3,'t':!![]},_0xec85d0=await H5st['getH5st'](_0xb5a2ce),_0x41fc87=_0x4a43ec(0x223,'1Meq'),_0x4d9339=_0xec85d0[_0x4a43ec(0x2ab,'%qRd')];break;case _0x4a43ec(0x21f,'hbyN'):_0xb5a2ce={'appId':_0x4a43ec(0x1e8,'DTs*'),'functionId':_0x4f0604,'appid':'activities_platform','clientVersion':common[_0x4a43ec(0x2d0,'Fa^e')](),'client':'ios','body':{'taskType':_0x112ce7[_0x4a43ec(0x2b6,'sj8@')],'taskId':_0x112ce7['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId},'version':'4.7','ua':_0x46dab3,'t':!![]},_0xec85d0=await H5st[_0x4a43ec(0x2cf,'o!3D')](_0xb5a2ce),_0x41fc87=_0x4a43ec(0x245,'hbyN'),_0x4d9339=_0xec85d0[_0x4a43ec(0x2f7,'%Hb[')];break;case _0x4a43ec(0x255,')iF]'):_0xb5a2ce={'appId':'54ed7','functionId':_0x4f0604,'appid':_0x4a43ec(0x243,'%qRd'),'clientVersion':common[_0x4a43ec(0x1e6,'(k$]')](),'client':_0x4a43ec(0x283,'1cq!'),'body':{'taskType':_0x112ce7[_0x4a43ec(0x24a,'7FZa')],'taskId':_0x112ce7['id'],'channel':0x4,'checkVersion':!![],'linkId':linkId,'itemId':_0x146955,'taskInsert':_0x56b592},'version':_0x4a43ec(0x284,'qrwy'),'ua':_0x46dab3,'t':!![]},_0xec85d0=await H5st[_0x4a43ec(0x24d,'6wT4')](_0xb5a2ce),_0x41fc87=_0x4a43ec(0x244,'uijo'),_0x4d9339=_0xec85d0[_0x4a43ec(0x249,'!xL!')];break;case _0x4a43ec(0x2ef,'Jlwd'):_0x41fc87=_0x4a43ec(0x27d,'Jlwd'),_0x4d9339={'functionId':_0x4f0604,'body':JSON['stringify']({'pin':encodeURIComponent(_0xc1b47b),'type':'0','businessId':0x1,'themeId':0x70,'babelChannel':'ttt9','isJdApp':'1','isWx':'0'}),'rfs':0x0,'appid':_0x4a43ec(0x28f,'7zSf'),'client':'m','t':Date[_0x4a43ec(0x1fa,'1Meq')]()};break;default:console['log']('❌\x20未知请求\x20'+_0x4f0604);return;}const _0x2077b9={};_0x4d9339&&Object[_0x4a43ec(0x2b0,'7FZa')](_0x4d9339,_0x2077b9);_0x1ca6e4&&Object['assign'](_0x1ca6e4,_0x2077b9);const _0x38b787={'url':_0x41fc87,'method':_0x2bb3f0,'headers':{'origin':_0x4a43ec(0x26b,'XVsb'),'Referer':_0x4a43ec(0x2bb,'o!3D'),'User-Agent':_0x46dab3,'Cookie':_0x1ca171,'content-type':_0x4a43ec(0x1fe,'TsIF'),'accept':_0x4a43ec(0x2a2,'3aUW')},'params':_0x1ca6e4,'data':_0x4d9339,'timeout':0x7530};_0x2bb3f0==='GET'&&(delete _0x38b787[_0x4a43ec(0x29f,'3aUW')],delete _0x38b787['headers']['Content-Type']);const _0xdaf64d=0x1;let _0x5303ef=0x0,_0x3cad99=null;while(_0x5303ef<_0xdaf64d){_0x5303ef>0x0&&await $['wait'](0x3e8);const _0x161880=await common[_0x4a43ec(0x246,')iF]')](_0x38b787);if(!_0x161880['success']){_0x3cad99=_0x4a43ec(0x2b3,'(k$]')+_0x4f0604+_0x4a43ec(0x281,'o!3D')+_0x161880[_0x4a43ec(0x1f7,'iK&i')],_0x5303ef++;continue;}if(!_0x161880[_0x4a43ec(0x26d,'hA7(')]){_0x3cad99=_0x4a43ec(0x2e1,'DTs*')+_0x4f0604+_0x4a43ec(0x207,'%Hb['),_0x5303ef++;continue;}await _0xd9d3a9(_0x4f0604,_0x161880[_0x4a43ec(0x2b9,'XVsb')]);break;}_0x5303ef>=_0xdaf64d&&console[_0x4a43ec(0x271,'sj8@')](_0x3cad99);}}async function jsonurl(_0x1e5661){const _0x1d0e6c=_0x1adb9d,_0x4df678=await common['request']({'url':_0x1e5661,'method':'GET','headers':{'User-Agent':_0x1d0e6c(0x20a,'3r5O')},'proxy':null,'debug':![],'timeout':0x7530}),_0x3e07fd=_0x4df678[_0x1d0e6c(0x23e,']9)H')];return _0x3e07fd;}
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
