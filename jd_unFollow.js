/*
取关（收藏的）店铺和商品
环境变量：JD_UNFOLLOW_PIN_FILTER_GOODS // 不取关商品收藏的账号（填入pin，多个用@分割）
          JD_UNFOLLOW_PIN_FILTER_SHOP // 不取关店铺关注的账号（填入pin，多个用@分割）

cron:15 0-23/12 * * *
============Quantumultx===============
[task_local]
#取关（收藏的）店铺和商品
15 0-23/12 * * * jd_unfollow.js, tag=取关（收藏的）店铺和商品, enabled=true

注：系统可能会存在无法被正常取关的异常商品或异常店铺

*/

const $ = new Env('取关店铺关注和商品')
const _0x555c24=_0x3a2a;function _0x2c05(){const _0xeefca=['dbTdW6q','bHhcOCkwW6vlWRiQw8oweCkTW4pdTCoKBW','wh5IWQqtW6TCdmkKma','W5DItha','W4isW4e','W5iJfq','iSoycfrkga','z3xcVKuEWR0UaeGDWQNcPHGEWPddJ8oj','WQSlpYu','WPLJeSkIq8oaiSkRt8k5zN1Jv8oRWQlcKq','bHPeW60ZW5ZcGSog','vSomWPPVWOBcKG','W4adqmksWP3cUha','m8kHB2tdMCo8W4zSWQRcSIVcKfm','qsRdMKBdGeVdOCkwvM9GvCk6W5H9WRBcTa','rComWRmnl8oigCkKsW','cYfSmSo8baLs','uCoDWRuIlSodhmkTrCkpW4TXWRi','WQ9iWR9MW7lcPCovW6xdLSoJWQf0zq','bsOJW6rgWRKp','FhtdKmoaW41nnL0LWP9QW78','ECop5y+D5yAv5zE55zkR5Psm6jEU5OQJ5yUl','qvdcP8khW75t','WRfcW7GAW4uSWOO','W7NcQmoE','juGgW7uMWOddJe3cGx7cUSoKECk8W4RdRcFdM3b/l2JdH8kYzcBdKCkeW6ZdLhtKU4ZLJl7LHiZLUBNPK53LHOdMSO7NMQZOTPtLJz7VVkFLOAxLHBpcO1JdVE+9QEwMSUs5QEEuQCoh5yMO5yQR','WQVcNbC9W5C5WRb0WOO1pGdcPCkmWPNdHmo6','x8owWQiinmolfCkX','nmkKyNZcRuzSamo4','wCoYW5K','uCokWPfRWPJcHK/dS8kR','W5KCW4/cNq','lgm3W5qnWQJdTYZcMuJcNCoE','W443amokvYihWRmzkmkwW53cMHJcRIjbFq','W5akw8kbWRW','4P+fW7hMN6BOR5pLLBdLKAlLH7NMSPVLIy3OOjhLPQ7OTj00WQxcNCkF','W4ScWQy','W6f3rhP7','jtb4W5qiW77cQmo5W6ijW7/dG8osdCoPlu7dRmoCWPK5iSkeuSkmlSoJ','WRpdLSkZBMTHW7xdOSoMWR/cU8oJW7GtW7fDrcpdPSkjbGKgW7e4WRlcGG','W5xcN8olgG','W4H/bYNdSCkB','W5BcM8orkCkJwCoyEYBcIuxcJCo2xJu','luNdJmoLhcJcR8kgW5vRWOFdTSk9WRStWRRdVq','W4O6rSo6yCoCjmkACCk8','w1BcU8kvW59pWQ51rCoAamk8','WPFdK8oSmcGNWQZLV43LPB/JG4RKUBxKUPROTRlLJPC','BN8LlmocCSoYW7SwW5e','dKWMWP0','5BA55Psq6jwV','WO1sxW','W5GNeCo+qqGeWRacfmkjW6lcMa','5lMh5zA45zg+','WOijcI7cVa','uSoNW5hdKG','gXTtW6aQW7BcKSoy','j8otfvzmba','wKeFWRL3WOdcO8o6W58CW4pdMq','iHTDW6GQW5tcHSkAWPTOWPJcVmkQlCo3e2ZcNSkWWO4SjCo7tSkxqCkcWOGEeaPmWO4VgmkDWP3cMhVcKCkGWRZdU8ksdSklsmoMWRBdNuKEBmotomkQiZddIeFdVCkkW5VdOmoRcLlcTgDrW6rlBCouWR45WR01kmoQFSoWc341W7dcPCknutRdNCknW5TLW4ZdUbpcIwrYzmoVW5OIuCkbWR9dWQ8ZWP3cVJpcG8oXjb1iW5aREH5uW53cI8kyWRBdMSkXWRtcISk0WO/dJmklzNqWyqPWWO7cNYf7rhdcVHNdL3VcUmoKwCoOoqddSeFdVSkregxcJwlcUevMWO3cHu4xF8kuqSkBW5BdISkfW6WsAWSKW4xdLgZcPZhcMSkrW4KXW5vZ','W4e2Da','5y6w5yA65zwg5zov5PAW6jwE5OQj5yQz','W74hbJXnW7KBWOy3W5u4wrVdPCokWRBcLIzGrvpdRCkL','vCo6W5JdN0BcSW84y8oI','5RkK5P6J5PA+6jEb55Ms5zsI5zo6','k8k1FNlcT0K','44gT5O2h56s344g/6k245yEB6iY55y+bWQlcNGv6WR7cSW','6lER5yYe5PAB5Psz','W5CwW5yoevfAywddVq','W5bTqNLIxKhcUq','fuiO','lCoIta','4P+cW6dMNi7OR7BLU4BPKPNLHPpMSAJLIjhOOBFLPA3OTOpcOmkCnCo5','5yYh5yw25zA95zc75PAh6jwM5AsY6lEv','WRhdLmkpWQxcPSoYW6qJW4dcJmozbSkZW6m','FxuLamolt8o0W7C','WO1bWOq','WOXys23cVhdcQa','WQhcNbW','mu7cJCokpxpcHCkCWOf+W4/cPCoNW45wWQZdP1fhpSopW73cLrzWoJZcLx7dSqjEWRRdTILSWOG7CJBcL8kSW6mocuhdJa','j8o5tItcR8oLW60','W7eCW7qL','5lMf5zsT5zoU','WOjyuxi','WO1gWQ/dLqCpW68eW40pWPNdGq','lCk6mhFdP8kOWQW3W7/dMq','5Rcp5P205PAq6jsM55MF5zwF5zg5','W7OcWRni','8kcRPtG','W7FcHmorW6m','W5aoac/dQcpdVHj1gfJcSLG+','eYf/','W5RdMtm','DSocW6D5WOumvmoJWQ/dOmoqlq','W51Ivxq','W5CeqCkh','WRb2WOJcK8owW4C','wConWRuIlCoofW','kmoKAbZdGCoYW6nY','WQLSCmkqWOVdKMDh','W6JcR8khEd4uWRpdQgLV','k8oPuW4','5lQ65BIP6zgj','W5WmvSocWPXTdNi9W48','WOHaWPbEjKq','W6SmW6GKWRpdK8kkW4RdOmoRWRT9Ct1ZvdbE','esD7omoEkXfA','WO9BWQxdKc0HW68yW60jWP3dPCkFfSkUW5GXpq','x8o6W5m','W4tdKYxcPmkwhH0','W5/cKCoi','AmopW7T9WRCdxG','W7q7wa','W6pdLSoCWPtcQ2G','W54yr8knWQtdSxaDW5PWgG','rCoqWQ4teSohh8kYFSk1W5bQ','kSk1y2BcOKzG','WPPsaCkbWOjUn0eGW4FcS8kE','WPRcHCoSW4RdHGG','xSoMWOtdKeJdVwLHpCkM','WP/ORRxMSkFLPONOTiTe4P+0W78','jtb4W5qiW77cQmo5W6ijW7/dG8osdCoPlu7dRmoCWPK5iSkerSkllSo3W61Hc3PD5lQJ5y6v5ysc5zAW5zc55PAo6jE555M06lEL5y2R77685AkQ5ywlWQmiWQJVV7VLPRFKUjpNLzPj5yQc5yIV','yCopW6riWRKiv8o8WPtdMCornSoFjwSL','WOPva8kBWPHI','dSoIBG3dQSoGW70','W7pdKCoxWOe','oe7dJ8o5ldlcOmkEW55qWPhdUSkK','hcf1pSozlG','l0pdJmophdpcK8kBW41FWOddUSkTWOizWR0','W4q3ydRdRCoJ','rfhcSW','j8kSDfldQCo9W7vPWRNcVIdcKe4','lSkbEmkdW40E','W40pW4pcImkVFa','5lIz5BIc6zgo','c1GHWQZdPwe','5Roo5PYf5ysQ5Rgi55US5BMr6zg5','W4rJbGhdSmki','et7cHmkbWRyzava','g2mTW4eeWOJdTMW','dgm0W40HWQi','WQOyosSf','emkxW4m','WPPohmkFWR9HmvCv','W7hOR7lMSRNLP4VOTPtcIEkEN8oq5Pst5zkp5BMl5PAg5O2P','W5aes8kh','WR7cMXqHW7eQWPm','4P6dsUADOEIcUEASLoEISUwMTUEtS8k+','5O6x56Ev57Uy5P65WOjxbXZcJMNdIspdRJK','C3VcPvXCW7OJa1C','wd7cM0ZdHa','y358aSoxACoLW78hW5hdIxldTmoEWPObW64','eYT2nmoKiG','W64wW7K3WQBdM8kqW4S','WOjssM0','5yY56yEH6kYx5PI1Aq0HfsFcRSo2vmkFhW','5yYd5yAX5BQv6zow5yAX5Rgz5AwM6lsM','W747u8kQWOBdVffMsf4','W4auW4xcGSkvEmovWRq','WQpdMEwmKowfQEwvHowtJoAwSoIuGUwMHEI3V8o5WRVcQKa','WQGppWGyWRVdM8kBW41Eo8oTW506','W4yyWQtdI8kybGBcT8oQAffUjSo8W7XhqCkEW7ywW5VcTCklWOvEW7NdVmodk0ldOeDWW70','W6tdKCohWOxcJKjGW7K','W5ddNZJcPCkwhW','cYa9W7PZWRCEv8o5','W5edx8ofW6qZaLKBW4ZcICkA','fCkbWRT8WORcR37dLG','n8kLy30','keNdJSoVgJG','WOZdG8kcrSo/cSkbkxBdPW','W5PShba','bMi9W4uq','j8ozha','i8ocd0flvSoKWOFcMCkUW7ldOXPPWPaYWRL6pmoKzqy','W6ZcISoF','W7ldKCoCWOJcH217','jLxdImoMa3lcJmkzW5T9WOy','5BEY6k6X57655B2M5yM/6lA75y695lMO5y+45ysc5zAo5zct5Pwl6jE9','bca3','W48bWOLFf19Zq3pdTG','W4KyW5lcPCk6BCoDWQjbWPz5n1noWQLmes7cUa','W4H2rgDUFeVcPNlcHb8CuSkPgeldLcu','W5mTaG','W44/rSo/gCkdqCoRyCkqCLP/FG','WObuhCktWQnY','qNmLBSkTD0ecrqe','WQRcHmo7W7xdUW7cVqm','o8ocjefraG','h0qJWP3dRNC','W4uTzY/dRmkTAstcVZRcKcaXWPpcG8kBseVcLSkieSkQ','WRPhgIy','W4FcImkwWPiQz8o3ACkUtmkuEYhcM8ogjHJcGI9VW6/cIM4SW5ddKmoFdSoMzmohw3ZcMq','WRVcO29j','WQvQWO/cM8oDW6D2WP0','nIJcKSkgWPqm','jCoPsrhcOSoJW68','ANu1ba','WRGcFG','WOVcMmoQW6BdMshcPqS','WPrPg8k+aCowhSkWvSk4','WOGVhW','k8k/DW','4P2foUIfI+ADJEI9T+IHJEMdHUwkQUs7T+MwREITIHC','imk1zfpcRe1PcCo2FqmOdG','jCoxfLq','C27cULaFW7i4deKyWQy','WQfScmoYW53cVJbKCxzYW6rM','kSoCgKK','W5WSDI3dPSorkwFcOd3cIabTWPhdICketXe','WOtdI8khq8oZd8o4wZRcGfRcUG','WRL1pCkI','wcBcMfldO0VdQSkdBgn/tG','5Bwe5yEf5Rk8','rYhcKa','W4bObHFdO8kBua','5lQz5BU86zov','ofldKSoGhtJcLSksW4m','W4xcKColgSkUECojEq','CH7cL8k9r2RdJCkEW6XxWRJdKmkQ','WODbWO9xo0DmwNxdT8k+cSowBSo7Efq','WPBORyhMSjBLKjZLUADn','wuVcSCkqW7vHWQ5PzCoCbmkyW53dQCoFuKi1','WQTDWQxdKbOgW60r','W50eWR/dJmk4veBdQmohCuS0','WPLLemkVqmoBcW','t8oUW5DBWPGIDmoFWQ/dHSo0bSoRguyovCkmW51bz3ufuSo/W4VdUbe','5BsJ5PsZ6js0','5RgW5PYm5yAi5Rcs55I15BI+6zo5','dCk15y2I5yEa5BQ+6zc+5ysV5Rk45OIC5yIn','W7tdM8oFWQlcJwb5W7S0WR/dPdpdSsTzxq','5yY75yYZ5yEl','W6VcUmkcya','W7RcNmkYvMn5W6pcVSoaWPVcQCo2W4ifW5XDscldRa'];_0x2c05=function(){return _0xeefca;};return _0x2c05();}(function(_0x416108,_0x2ba3b9){const _0x486dba=_0x3a2a,_0x26c150=_0x416108();while(!![]){try{const _0x43af86=-parseInt(_0x486dba(0x173,'VE6B'))/0x1+parseInt(_0x486dba(0x19f,'1OuD'))/0x2*(parseInt(_0x486dba(0x174,'@qY)'))/0x3)+parseInt(_0x486dba(0x135,'VE6B'))/0x4*(-parseInt(_0x486dba(0x112,'EUgv'))/0x5)+parseInt(_0x486dba(0x1a8,'PZDo'))/0x6+-parseInt(_0x486dba(0x118,'V2wH'))/0x7+parseInt(_0x486dba(0x1c9,'uTo#'))/0x8+parseInt(_0x486dba(0x185,'w@K6'))/0x9;if(_0x43af86===_0x2ba3b9)break;else _0x26c150['push'](_0x26c150['shift']());}catch(_0xa22224){_0x26c150['push'](_0x26c150['shift']());}}}(_0x2c05,0xefca9));const jdCookie=require(_0x555c24(0x181,'EUgv')),notify=require(_0x555c24(0xf6,'5CKl')),common=require(_0x555c24(0x10c,'!z5f')),{H5st}=require(_0x555c24(0x1b8,'oWce')),{now}=require('moment/moment');console[_0x555c24(0x11c,'hT@Z')](''),console['log'](_0x555c24(0x177,'1OuD')+$[_0x555c24(0x1ba,'r8QT')]+_0x555c24(0x169,'EUgv')),console[_0x555c24(0x13a,'&8@U')](_0x555c24(0x147,'x]zu')),console[_0x555c24(0x12a,'@9nF')](_0x555c24(0x1d0,'VgA^')),console[_0x555c24(0x184,'IqMU')](_0x555c24(0x187,'7d5U')+$['name']+_0x555c24(0x162,'LqQx')),console[_0x555c24(0x12a,'@9nF')]('');const pinFilterGoods=(process[_0x555c24(0x115,'ohwj')][_0x555c24(0x1af,'PLMm')]||'')['split']('@'),pinFilterShop=(process[_0x555c24(0xf3,'R7VE')][_0x555c24(0xf5,'x]zu')]||'')[_0x555c24(0x164,'v)Li')]('@'),isNotify=![];function _0x3a2a(_0x37635d,_0xb5f3b6){const _0x2c0500=_0x2c05();return _0x3a2a=function(_0x3a2a90,_0x468f42){_0x3a2a90=_0x3a2a90-0xec;let _0x567cc2=_0x2c0500[_0x3a2a90];if(_0x3a2a['eTyVjw']===undefined){var _0x3400d5=function(_0x102cb8){const _0x4db739='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x4bc0f8='',_0x296647='';for(let _0x254246=0x0,_0x40a793,_0x53b369,_0x1e28c9=0x0;_0x53b369=_0x102cb8['charAt'](_0x1e28c9++);~_0x53b369&&(_0x40a793=_0x254246%0x4?_0x40a793*0x40+_0x53b369:_0x53b369,_0x254246++%0x4)?_0x4bc0f8+=String['fromCharCode'](0xff&_0x40a793>>(-0x2*_0x254246&0x6)):0x0){_0x53b369=_0x4db739['indexOf'](_0x53b369);}for(let _0x6ee385=0x0,_0x479608=_0x4bc0f8['length'];_0x6ee385<_0x479608;_0x6ee385++){_0x296647+='%'+('00'+_0x4bc0f8['charCodeAt'](_0x6ee385)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x296647);};const _0x396127=function(_0x21b3bf,_0x306e24){let _0x3ef7da=[],_0x2db3fc=0x0,_0x238b6d,_0x5edb66='';_0x21b3bf=_0x3400d5(_0x21b3bf);let _0x3189af;for(_0x3189af=0x0;_0x3189af<0x100;_0x3189af++){_0x3ef7da[_0x3189af]=_0x3189af;}for(_0x3189af=0x0;_0x3189af<0x100;_0x3189af++){_0x2db3fc=(_0x2db3fc+_0x3ef7da[_0x3189af]+_0x306e24['charCodeAt'](_0x3189af%_0x306e24['length']))%0x100,_0x238b6d=_0x3ef7da[_0x3189af],_0x3ef7da[_0x3189af]=_0x3ef7da[_0x2db3fc],_0x3ef7da[_0x2db3fc]=_0x238b6d;}_0x3189af=0x0,_0x2db3fc=0x0;for(let _0x4814ff=0x0;_0x4814ff<_0x21b3bf['length'];_0x4814ff++){_0x3189af=(_0x3189af+0x1)%0x100,_0x2db3fc=(_0x2db3fc+_0x3ef7da[_0x3189af])%0x100,_0x238b6d=_0x3ef7da[_0x3189af],_0x3ef7da[_0x3189af]=_0x3ef7da[_0x2db3fc],_0x3ef7da[_0x2db3fc]=_0x238b6d,_0x5edb66+=String['fromCharCode'](_0x21b3bf['charCodeAt'](_0x4814ff)^_0x3ef7da[(_0x3ef7da[_0x3189af]+_0x3ef7da[_0x2db3fc])%0x100]);}return _0x5edb66;};_0x3a2a['IVyzXu']=_0x396127,_0x37635d=arguments,_0x3a2a['eTyVjw']=!![];}const _0x338768=_0x2c0500[0x0],_0x1d6572=_0x3a2a90+_0x338768,_0x45f65e=_0x37635d[_0x1d6572];return!_0x45f65e?(_0x3a2a['JFZOpq']===undefined&&(_0x3a2a['JFZOpq']=!![]),_0x567cc2=_0x3a2a['IVyzXu'](_0x567cc2,_0x468f42),_0x37635d[_0x1d6572]=_0x567cc2):_0x567cc2=_0x45f65e,_0x567cc2;},_0x3a2a(_0x37635d,_0xb5f3b6);}let cookie='';const cookiesArr=Object[_0x555c24(0x11f,'uTo#')](jdCookie)[_0x555c24(0x1bc,'IqMU')](_0x396127=>jdCookie[_0x396127])[_0x555c24(0x171,'@9nF')](_0x102cb8=>_0x102cb8);!cookiesArr[0x0]&&($['msg']($[_0x555c24(0x19a,'0Tuv')],_0x555c24(0x110,'k@ZS')),process[_0x555c24(0x1b5,'dey8')](0x1));!(async()=>{const _0x4c879d=_0x555c24;notify[_0x4c879d(0x176,'PZDo')]({'title':$[_0x4c879d(0x18e,'E5lj')]});for(let _0x4db739=0x0;_0x4db739<cookiesArr[_0x4c879d(0x166,'7d5U')];_0x4db739++){$['index']=_0x4db739+0x1,cookie=cookiesArr[_0x4db739],common['setCookie'](cookie),$[_0x4c879d(0x158,'[[Hl')]=decodeURIComponent(common['getCookieValue'](cookie,_0x4c879d(0x189,'0Tuv'))),$[_0x4c879d(0x13d,'PLMm')]=notify[_0x4c879d(0x153,'dAEI')]($['index'],$['UserName']),$[_0x4c879d(0x105,'&8@U')]=_0x4c879d(0xf4,'!z5f')+common[_0x4c879d(0xf9,'1OuD')](0x4,_0x4c879d(0x1b9,'qooZ'))+'_0',$[_0x4c879d(0x16c,'dAEI')]='',console['log'](_0x4c879d(0xfd,'5CKl')+$[_0x4c879d(0x179,'VgA^')]+'】'+($[_0x4c879d(0x138,'7d5U')]||$[_0x4c879d(0x1ac,'8xt4')])+_0x4c879d(0x1ce,'P!Cg')),await Main(),common['unsetCookie']();if($[_0x4c879d(0x1c2,'@qY)')])break;await $[_0x4c879d(0xee,'dAEI')](0x7d0);}isNotify&&notify[_0x4c879d(0xfe,'aXUP')]()&&await notify[_0x4c879d(0x175,'Kp8E')]();})()[_0x555c24(0xf1,'LKp8')](_0x4bc0f8=>$['logErr'](_0x4bc0f8))[_0x555c24(0x1ae,'w@K6')](()=>$[_0x555c24(0x12d,'LKp8')]());async function Main(){const _0x16ad13=_0x555c24,_0x296647=await common[_0x16ad13(0x16e,'*m&D')](cookie);if(!_0x296647&&typeof _0x296647===_0x16ad13(0x17d,'IT6e')){console[_0x16ad13(0x17a,'0Tuv')](_0x16ad13(0x111,'hT@Z'));return;}try{if(pinFilterGoods['length']>0x0&&(pinFilterGoods[_0x16ad13(0x113,'r8QT')]($[_0x16ad13(0x130,'k@ZS')])||pinFilterGoods['includes'](encodeURIComponent($['UserName']))))console[_0x16ad13(0x184,'IqMU')](_0x16ad13(0x17f,'CJn['));else{$[_0x16ad13(0x106,'x]zu')]=0x0,$['followProductList']=[],await sendRequest(_0x16ad13(0x183,'r8QT'));if($[_0x16ad13(0x170,'IT6e')]>0x0){console[_0x16ad13(0x114,'6)rv')](_0x16ad13(0x1b0,'3Qz!')+$[_0x16ad13(0x167,'uTo#')]+'件商品'),$[_0x16ad13(0x11b,'HjiD')][_0x16ad13(0x14f,']u#0')](_0x16ad13(0x100,'PZDo')+$['totalNum']+_0x16ad13(0x103,'1OuD'));const _0x254246=Math[_0x16ad13(0x121,'HjiD')]($[_0x16ad13(0x1c7,'7d5U')]/0x1e);for(let _0x40a793=0x0;_0x40a793<_0x254246;_0x40a793++){await $['wait'](0x3e8),$[_0x16ad13(0x1d1,'hT@Z')]=$['followProductList'][_0x16ad13(0x18a,'6)rv')](_0x53b369=>_0x53b369?.[_0x16ad13(0x172,'qooZ')]&&_0x53b369?.[_0x16ad13(0x15a,'VgA^')]&&_0x53b369?.[_0x16ad13(0x14d,'7d5U')]!=='0');if($[_0x16ad13(0x1a9,'EUgv')]['length']>0x0){const _0x1e28c9=$[_0x16ad13(0x1c0,'w@K6')]['map'](_0x6ee385=>_0x6ee385[_0x16ad13(0x15a,'VgA^')]);console[_0x16ad13(0x17c,'V2wH')]('去取关'+_0x1e28c9[_0x16ad13(0x107,'0Tuv')]+_0x16ad13(0x120,'LKp8')),$['commId']=_0x1e28c9[_0x16ad13(0x18c,'!z5f')](','),await sendRequest(_0x16ad13(0x1b3,'IT6e')),await $[_0x16ad13(0x178,'oUn*')](0x7d0);}$[_0x16ad13(0xfa,'PZDo')]=[],$[_0x16ad13(0x15a,'VgA^')]='',await sendRequest(_0x16ad13(0x1ab,'oWce')),await $[_0x16ad13(0x127,'V2wH')](0x1388);}}else console['log'](_0x16ad13(0x124,'dAEI')),$['message'][_0x16ad13(0x1cd,'oWce')](_0x16ad13(0x10e,'PLMm'));}console[_0x16ad13(0x129,'7d5U')]('');if(pinFilterShop['length']>0x0&&(pinFilterShop['includes']($['UserName'])||pinFilterShop[_0x16ad13(0x1c1,'x]zu')](encodeURIComponent($[_0x16ad13(0x188,'%Rfx')]))))console['log']('已设置当前账号不取关店铺关注');else{$['totalNum']=0x0,await sendRequest(_0x16ad13(0x1c8,'6XdI'));if($['totalNum']>0x0){console[_0x16ad13(0x13e,'*8%M')](_0x16ad13(0x1a2,'@9nF')+$[_0x16ad13(0x159,'VgA^')]+_0x16ad13(0x1a5,'LKp8')),$[_0x16ad13(0x13d,'PLMm')][_0x16ad13(0x152,'LqQx')]('已关注'+$[_0x16ad13(0x194,'%Rfx')]+_0x16ad13(0x134,'IT6e'));const _0x479608=Math[_0x16ad13(0x133,'ohwj')]($[_0x16ad13(0x1a7,'1OuD')]/0x14);for(let _0x21b3bf=0x0;_0x21b3bf<_0x479608;_0x21b3bf++){$[_0x16ad13(0x143,'VE6B')]=$['getFollowShop'][_0x16ad13(0x12b,'PLMm')]||[],$[_0x16ad13(0xfc,'oWce')]&&$[_0x16ad13(0x141,'6XdI')]['length']>0x0&&($[_0x16ad13(0x1c3,'LKp8')]=$[_0x16ad13(0x1a1,'v)Li')]['map'](_0x306e24=>_0x306e24[_0x16ad13(0x13f,'IT6e')])['join'](','),console['log'](_0x16ad13(0x1b4,'V2wH')+$[_0x16ad13(0x122,'8xt4')][_0x16ad13(0x10f,'Kp8E')]+_0x16ad13(0x154,'&8@U')),await $['wait'](0x7d0),await sendRequest(_0x16ad13(0x132,'dey8'))),$[_0x16ad13(0x1ad,'R7VE')]=[],await sendRequest(_0x16ad13(0x102,'IqMU')),await $[_0x16ad13(0xff,'6)rv')](0x1388);}}else console[_0x16ad13(0x150,'oWce')](_0x16ad13(0x1b1,'3Qz!')),$[_0x16ad13(0x1a4,'oUn*')][_0x16ad13(0x157,'oUn*')](_0x16ad13(0x156,'VgA^'));}}catch(_0x3ef7da){console['log'](_0x16ad13(0x198,'aXUP')+_0x3ef7da);}}async function handleResponse(_0x2db3fc,_0x238b6d){const _0x20ec94=_0x555c24;try{switch(_0x2db3fc){case _0x20ec94(0x137,'uTo#'):_0x238b6d[_0x20ec94(0x192,'aXUP')]==='0'?($['followProductList']=_0x238b6d['followProductList']||[],$[_0x20ec94(0x119,'aXUP')]=parseInt(_0x238b6d?.[_0x20ec94(0x1c7,'7d5U')]||0x0)):console[_0x20ec94(0x184,'IqMU')](_0x20ec94(0xf2,'3PB(')+(_0x238b6d?.[_0x20ec94(0xf8,'oUn*')]||JSON['stringify'](_0x238b6d)));break;case'delFollowProduct':_0x238b6d[_0x20ec94(0x14b,'IT6e')]==='0'?(console[_0x20ec94(0x1bb,'dAEI')](_0x20ec94(0x1cc,'LqQx')),$[_0x20ec94(0x11b,'HjiD')]['insert'](_0x20ec94(0x10b,'7i]z'))):(console[_0x20ec94(0x10a,']u#0')](_0x20ec94(0x16d,'5CKl')+(_0x238b6d?.[_0x20ec94(0x144,'%Rfx')]||JSON[_0x20ec94(0x15d,'VE6B')](_0x238b6d))),$[_0x20ec94(0x142,'Kp8E')][_0x20ec94(0x1bd,'0Tuv')](_0x20ec94(0x117,'3Qz!')));break;case _0x20ec94(0x199,'Kp8E'):_0x238b6d[_0x20ec94(0x1b7,'x]zu')]==='0'?($['getFollowShop']=_0x238b6d[_0x20ec94(0x190,'[[Hl')]||[],$[_0x20ec94(0x18f,'3Qz!')]=parseInt(_0x238b6d[_0x20ec94(0x190,'[[Hl')]['totalCount']||0x0)):console[_0x20ec94(0x101,'HjiD')](_0x20ec94(0x116,'dey8')+JSON[_0x20ec94(0x163,'CJn[')](_0x238b6d));break;case _0x20ec94(0x10d,'&8@U'):_0x238b6d[_0x20ec94(0x15f,'LKp8')]==='0'?(console[_0x20ec94(0x1a3,'v)Li')](_0x20ec94(0x1b2,'&8@U')),$['message'][_0x20ec94(0x186,'VE6B')]('取关店铺关注成功')):(console[_0x20ec94(0x12a,'@9nF')]('>\x20取关店铺关注失败\x20=>\x20'+JSON[_0x20ec94(0x1c6,'6XdI')](_0x238b6d)),$['message'][_0x20ec94(0x136,'EUgv')](_0x20ec94(0x16a,'E5lj')));break;}}catch(_0x5edb66){console[_0x20ec94(0x197,'Kp8E')](_0x20ec94(0x161,'*m&D')+_0x2db3fc+_0x20ec94(0x1aa,'@9nF')+(_0x5edb66[_0x20ec94(0x191,'ohwj')]||_0x5edb66));}}async function sendRequest(_0x3189af){const _0x40888c=_0x555c24;if($[_0x40888c(0x155,'6)rv')]||$[_0x40888c(0x11e,'ohwj')])return;let _0x4814ff='',_0x316fe0=null,_0x13ebda=null,_0x588da6=_0x40888c(0x196,'*m&D'),_0x3195e1={},_0x4a9485={};switch(_0x3189af){case _0x40888c(0xf0,'IqMU'):_0x4a9485={'appId':_0x40888c(0x104,'HjiD'),'functionId':_0x40888c(0x139,'8xt4'),'appid':_0x40888c(0x165,'aXUP'),'body':{'cp':0x1,'pageSize':0x1e,'category':'','promote':0x0,'cutPrice':0x0,'coupon':0x0,'stock':0x0,'area':$['area'],'tenantCode':'jgm','bizModelCode':'6','bizModeClientType':'M','externalLoginType':'1'},'version':_0x40888c(0x15c,'@qY)'),'ua':_0x40888c(0x109,'x]zu')},_0x3195e1=await H5st['getH5st'](_0x4a9485),_0x4814ff='https://api.m.jd.com/api',_0x13ebda=Object[_0x40888c(0x12e,'3Qz!')]({},_0x3195e1['paramsData'],{'g_ty':_0x40888c(0x125,'P!Cg'),'loginType':'2','sceneval':'2','g_login_type':'1','appCode':_0x40888c(0x123,'7i]z')});break;case _0x40888c(0x148,'PLMm'):_0x4814ff='https://api.m.jd.com/api',_0x13ebda={'appid':_0x40888c(0x1c5,'v)Li'),'functionId':_0x40888c(0x14e,'PZDo'),'body':JSON[_0x40888c(0x163,'CJn[')]({'commId':$[_0x40888c(0x149,'VE6B')],'tenantCode':_0x40888c(0xec,'&8@U'),'bizModelCode':'6','bizModeClientType':'M','externalLoginType':'1'}),'g_ty':_0x40888c(0x19d,'0Tuv'),'loginType':'2','sceneval':'2','g_login_type':'1','appCode':_0x40888c(0x145,'&8@U')};break;case _0x40888c(0x151,'7i]z'):_0x588da6=_0x40888c(0x1a0,'VE6B'),_0x4814ff=_0x40888c(0x16f,'R7VE'),_0x316fe0={'functionId':_0x3189af,'body':JSON[_0x40888c(0x1d3,'Kp8E')]({'page':0x1,'activityStatus':0x1,'refresh':![],'pageSize':0x14,'channel':'jg_shop'}),'appid':_0x40888c(0x1c4,'7i]z'),'t':Date['now'](),'clientVersion':common[_0x40888c(0x1b6,'5CKl')](),'client':_0x40888c(0x1cf,'dey8'),'loginType':0x2,'loginWQBiz':_0x40888c(0x17e,'PZDo')};break;case _0x40888c(0x16b,'*8%M'):_0x588da6='POST',_0x4814ff=_0x40888c(0x18d,'YBTd'),_0x316fe0={'functionId':_0x3189af,'body':JSON[_0x40888c(0x1a6,'PZDo')]({'shopId':$[_0x40888c(0x160,'hT@Z')],'follow':![],'sourceRpc':'shop_app_myollows_shop'}),'appid':_0x40888c(0x14c,'PZDo'),'t':Date[_0x40888c(0x13c,'1OuD')](),'clientVersion':common[_0x40888c(0x182,'dAEI')](),'client':_0x40888c(0x193,'*m&D'),'loginType':0x2,'loginWQBiz':_0x40888c(0x140,'LKp8')};break;default:console[_0x40888c(0x180,'qooZ')]('❌\x20未知请求\x20'+_0x3189af);return;}const _0x44cb14={};_0x316fe0&&Object['assign'](_0x316fe0,_0x44cb14);_0x13ebda&&Object['assign'](_0x13ebda,_0x44cb14);const _0x1a2f43={'url':_0x4814ff,'method':_0x588da6,'headers':{'Accept':[_0x40888c(0x19e,']u#0'),'delFollowProduct'][_0x40888c(0x1d2,'6XdI')](_0x3189af)?'application/json':'*/*','Accept-Encoding':_0x40888c(0x1be,'CJn['),'Accept-Language':_0x40888c(0x11d,'PZDo'),'Connection':_0x40888c(0x195,'w@K6'),'Content-Type':'application/x-www-form-urlencoded','Cookie':cookie,'Origin':_0x40888c(0x18b,']u#0'),'Referer':_0x40888c(0x17b,'0Tuv'),'Sec-Fetch-Dest':'empty','Sec-Fetch-Mode':_0x40888c(0x168,'HjiD'),'Sec-Fetch-Site':_0x40888c(0x19b,'CJn['),'User-Agent':'Mozilla/5.0\x20(iPad;\x20CPU\x20OS\x2016_4_1\x20like\x20Mac\x20OS\x20X)\x20AppleWebKit/605.1.15\x20(KHTML,\x20like\x20Gecko)\x20Mobile/15E148\x20MicroMessenger/8.0.49(0x1800312d)\x20NetType/WIFI\x20Language/zh_CN\x20miniProgram/wx91d27dbf599dff74'},'params':_0x13ebda,'data':_0x316fe0,'timeout':0x7530,'httpsTlsOptions':common[_0x40888c(0xed,'@qY)')]()};_0x588da6==='GET'&&(delete _0x1a2f43[_0x40888c(0x1bf,'*m&D')],delete _0x1a2f43['headers'][_0x40888c(0xef,'VgA^')]);const _0x58e978=0x1;let _0xc85938=0x0,_0x2523ba=null,_0x2ed46e=![];while(_0xc85938<_0x58e978){_0xc85938>0x0&&await $[_0x40888c(0xee,'dAEI')](0x3e8);const _0x4f7dd0=await common[_0x40888c(0x13b,'@9nF')](_0x1a2f43);if(!_0x4f7dd0[_0x40888c(0x14a,'k@ZS')]){_0x2523ba='🚫\x20'+_0x3189af+_0x40888c(0x146,'IqMU')+_0x4f7dd0[_0x40888c(0x15b,'*m&D')],_0xc85938++;continue;}if(!_0x4f7dd0[_0x40888c(0x12c,'r8QT')]){_0x2523ba=_0x40888c(0x126,'7d5U')+_0x3189af+_0x40888c(0x15e,'3Qz!'),_0xc85938++;continue;}await handleResponse(_0x3189af,_0x4f7dd0[_0x40888c(0xf7,'1OuD')]),_0x2ed46e=![];break;}_0xc85938>=_0x58e978&&(console[_0x40888c(0x11a,'EUgv')](_0x2523ba),_0x2ed46e&&($[_0x40888c(0x12f,'6XdI')]=!![],$['message']&&$[_0x40888c(0x1ca,'qooZ')]['fix'](_0x2523ba)));}
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
