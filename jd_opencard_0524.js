/*
环境变量：
export jd_opencard_draw="3" //抽奖次数 3
export jd_opencard_notify="true" // 是否推送

cron:1 1 1 1 *

*/

const $ = new Env('5.24-6.20 火力开抢有效囤货')
var iｉl='jsjiami.com.v7';const Il1i11=iii1II;(function(i1ilII,iIIii1,IllIi1,lilIII,Ii1ilI,II11i1,iliIil){return i1ilII=i1ilII>>0x7,II11i1='hs',iliIil='hs',function(iliIii,lill1i,il1li,iIIill,iilii){const llI11I=iii1II;iIIill='tfi',II11i1=iIIill+II11i1,iilii='up',iliIil+=iilii,II11i1=il1li(II11i1),iliIil=il1li(iliIil),il1li=0x0;const Ill11i=iliIii();while(!![]&&--lilIII+lill1i){try{iIIill=-parseInt(llI11I(0x1d8,'Y7S7'))/0x1+-parseInt(llI11I(0x1f9,'Qj*n'))/0x2+parseInt(llI11I(0x386,'uszH'))/0x3+-parseInt(llI11I(0x255,'pXir'))/0x4+-parseInt(llI11I(0x2c2,'VqHu'))/0x5+parseInt(llI11I(0x27d,'$87v'))/0x6+-parseInt(llI11I(0x3a6,'@0@)'))/0x7*(-parseInt(llI11I(0x2a9,'N5JL'))/0x8);}catch(iilil){iIIill=il1li;}finally{iilii=Ill11i[II11i1]();if(i1ilII<=lilIII)il1li?Ii1ilI?iIIill=iilii:Ii1ilI=iilii:il1li=iilii;else{if(il1li==Ii1ilI['replace'](/[JwKVCtgBRkHuNQxGEA=]/g,'')){if(iIIill===lill1i){Ill11i['un'+II11i1](iilii);break;}Ill11i[iliIil](iilii);}}}}}(IllIi1,iIIii1,function(Ill11l,il1ll,i1ilIi,lill1l,l1l1i1,i1iiI,i1ilIl){return il1ll='\x73\x70\x6c\x69\x74',Ill11l=arguments[0x0],Ill11l=Ill11l[il1ll](''),i1ilIi=`\x72\x65\x76\x65\x72\x73\x65`,Ill11l=Ill11l[i1ilIi]('\x76'),lill1l=`\x6a\x6f\x69\x6e`,(0x16d57f,Ill11l[lill1l](''));});}(0x6600,0x2c060,Iii11l,0xce),Iii11l)&&(iｉl=0xce);const notify=require(Il1i11(0x212,'V!9e')),jdCookie=require(Il1i11(0x305,'S0Sq')),getToken=require(Il1i11(0x1e0,'o7CN')),common=require(Il1i11(0x20e,'SzMh'));console['log'](''),console[Il1i11(0x20c,'W3i&')](Il1i11(0x318,'d1oX')+$[Il1i11(0x31e,'[nrX')]+Il1i11(0x35b,'d2J7')),console[Il1i11(0x2d7,'fudf')]('jd_opencard_draw\x20//\x20最大抽奖次数，默认\x203\x20次'),console[Il1i11(0x361,'GlW6')]('jd_opencard_notify\x20//\x20是否推送通知，默认不推送'),console[Il1i11(0x351,')cfi')](Il1i11(0x1ca,'Hyjr')+$[Il1i11(0x25d,'&*AO')]+Il1i11(0x21b,'uszH')),console[Il1i11(0x361,'GlW6')]('');const isNotify=process[Il1i11(0x2a0,'&*AO')]['JD_SZXYUN_NOTIFY']==='true',opencard_draw=process[Il1i11(0x3b8,'o7CN')][Il1i11(0x378,'^WuR')]||0x3;let domains=Il1i11(0x370,'Zn79'),cookie='';function Iii11l(){const IIliI1=(function(){return[...[iｉl,'KEwjVxsJjiJaQAmutgiGtN.BkckCoHGmA.NvRk7w==','5REU5yUB5Bsh57Ip5PYzfq','WO9HavtdPW','q8k9t3/cTW','wZuF','iu7cHr/dTCon','gxFcUbFcMW','W64bWQ0Huq','WRpcOan9hCohrCky','ftJcNCknFXvd','W67cOLJdMq','gY1gEa','fCkDWQC','57+J5Bkn5BYz6ksS5yYk5PAM77Y66k+u6yEE5Pso6l2L6kcW','FCk/F1S','a8kXW4GT','wG1LoN0','ymkChv/cNW','oGbtvmoO','WQxdUSosBmokWRa','y0RdGSopW6dcPCkyamoYdG','zmodW5xcSaC','pJdcIcmW','W4BcSJDmsa','dmohqa3cMtSdaW','cCoBEa','ySo3Fq','AxH+W5ddKSoV','W71+ss/cRCoBDq','ogddGSk8D8oFbW','DSkcg0RcIa','D8o2zmoCtG','i8o5WPZdGG9W','WPTCWRi','Cru4ASo5W7RdMa','WRupWPpcRG','6Acu5y275B+Y5yYF5OI65yQW5yIV5Awo5yQ1sGK','dSoCWO8OWOTMgq','WRqqWOhcTtao','W77cPSkimSonWOe0W53cKLm','W77dGSkv','W60BWPm','8yYUOSoN','5BYe5Awv5PEZ6zwA77YX','mCoYWONdMrXaW5ZcJmk9','W7CbW5up','n8oDBSk2sGO','Emk7A00','arua','WO3dS8k3W4JcPG','WQHcWR8','5B6A5As85PE36zs477+T','pJ3cUCoEWPxcQSk9WP4','W7alW48sw1xcOG','emo8WO8aWOG','W7eLDqNcISoqftH0sGJdJG','CCknaeZcJmoPDIddS8kXwW','oHRcGSkEW7JcLG','WQnsWOtdLSoSW5O','e8oyWOWP','W4/cMxhcICkW','WRqiWONcKKW','WOrBWRObpg8','WRzFW6aBWOzQW6Pq','yCoWyCo6qSkhoG','wmkpW4NcKSkPW7tcJa','WQX8W54ZWRy','cdDrDq','WRCsW6DUWR8','wN5vWPHCvYldICk0W6m','lJFdLmo+WOy6','bJO+WRKiW550','pX/cSmkhEa','W6baW4FdQh8pmg17rKW','6Aod5y2Q5BYa5y6Z5OIZ5yUo5yMl5AEo5yM9WRKl','jCkJW44RBW','Ahz9W5e','WQ3dUCkVW5K','WRnoW7WwWO1/W4PsWRu','W6tcVCk8wCoEWOxcQwuaWQJdUSk+','FCkgBCokWP3dJmkn','ctq+WQ4f','mYVcKSoDWO7cO8kV','ASo0DSomqG','EmkAyCowWQxdKmoyjLC','bmoxAWBcNtS','c09HW5HOB1ZdRa','W6bUstq','DmoSBmoutG','FSkCz8ohWOZdJmom','W73cKbfxEG','w8kNW4q7EmkQhb9hB8kJmgvRW5pdSCkDWQZdJq','vCkGumo1WPm','y8kbgua','W7mpW5ee','j3/dJSk8ymonrWxcGWhdTgVcVa','D3z3','WQTIg1pdJmkmdIy','ESk/Ae/cSeK','WQNORilMSlhLK7xLUOXq','5P+K55+o5AAr5zg4776s','pCopW7pcJ8opW4C','o1/dKCkHCW','ohXPWO8f','hEIVRoAXO+wqMow6Rqq','5lQR6AgU5y+45PsS6i275y2Q5AsH6lEE77646k2Z6yE75Psr6l2n6koW','DXuY','tMP1W4BdS8oJtCkq','gXxcQa','r8kWW4ZcJmkd','arPKCSov','WQFdTSoiy8ovWRi','mLJcNZpdRCom','4PYiW4NMNiNLIixNIz/MGR7MR5ZLUBCxWOhdLSoC','C8k0Ca','mmk7W5CiAa','CLzMW6tdTG','zCo9CCohxCkpfSoA','W7X0xq','W7pdJSkgf1P8','5Rs/5yI25BE357M95P20WPq','brOulM0','WQXYW70zWQq','W6XfW43cSZiOpKjl','yoE6QoADLEAvGEMxGo+8Gq','W7FcKNlcV8kwFCol','zSkOB1lcOq','W7/cLb8k','lc3dK8ovWPWTWOy','fCoBDGhcNY0','uCkeW4pcOCk0W7e','8k6iLYa','WQ7dP8oQhSklW6tcV2Gk','5P285Rws6ks85zs35zcW','hX8/WQnMWO9Q','44gm5O6s56Aa44kQ6kYF5ysw6iYd5y6VkIpcUmoMgCov','aGGLWQPI','drCeiMm1','WQ9BWRFdLCoHW5X4rX3cOCkfngFdKCoMWOuXW5NcMSkrgem8xabWW405WOtcLa','y8kPy1RcKM4','W6tcGfRcImkF','CdG4F8oF','wJOisCoU','AmkCWQxcH8opW6ZcMs01','cJ44WPnE','W6NcGMlcR8ksACoD','o3JcHWlcKmkDfq','i8oFW7pcRCovW4S','ymkBWQNdMmknWP3dPJOzW6dcQrJcHW','eJJdI8oqWPW','jIqjWQKi','W6WrWOCfCwZdTa','xhHvWRXpqrJdJa','FX8VFa','WRnjWQiagW','fbmIWRL0WObbACkT','zCkUz1RcShxcSbnE','iMRdGmkNtG','W4pcH3VcISkz6i+E5y6Z5AwE6ls4WPG','W6xcMHq','WRnvW6mA','5A6g5A2j77YC5P655yIC6l2C5O6f5AEe6lAdW7rwWQao','rSooW6pcVaBcHCo5WRy','WP/dH8oVBSoo','oqOMWObI','WQfBWQldL8oRW55RvYVcOSkcAhK','ae7dJ8kNzq'],...(function(){return[...['W7BcV1hcVCkZprWFEa','kWVcN8knW6S','mLnJ','eJBcNCkx','CgTBW6pdTa','W7dcRutcMSkLbtuoB8khWOVcV3BcMvy','bCo7W4ZcRCor','WQRdQmkUW4tcPSkXx0vQ','BaiIy8o9','8k+SK8oi5Oog5zEL6i6I5BY+5A2754QWW47LPAtLKOZLK6tNP6NVV4C','WR4KW4Tb','D8k5CKhcSKq','Ehz0W5e','ocpdJSoA','lWRcKSo/WR4','aWivoue5kCkw','W7/cRv/dNxddNKvrsHJcRq','htqJWRK','6Agg5y+S5B6o5yYE5OU15yQX5yI45AwI5yM9WPhcJa','d1xcHJ3cNa','WRFdNCoxsCoB','W73dNCkxehLRW5G','cIlcGmkLzWCx','sSocW6BcMGC','iCoFW67cGa','oIVcLCopWOBcQmk5','zSo/W73cLb0','W7lcPLtcM8k+baa','WQ4KW4Xl','z8kcruVcLW','5lMM5A2H5zYJ','xc9XghTT','l13cLbJdLSoArq','nXBcKq','WQ90n0ldN8kocG','W7BdJmkghW','5Ro95P2l5yIt5yIG5Q+j5PsU5lIYbW','uh5sWQzyqZq','W6ldMmkbfG','WQXvW6K','WQaTWPjdWP0','iu7cHr/dTConFudcNvyV','WQmnWO7cS1/dPa','W7ZdHmkrfwj4W5L9','ux5pWRjnta','b1zS','W7KpW4Ga','bJOT','wSo/W4S9wmoQbHPhzq','WRpdKmkVW77cQq','l8oZWRddHGK','kMT+W41o','WOrhWRqdav/dSCkcuG','p2hdH8k9qG','4P2tpEAFUEwlKoEjH+AdU+ASK+w7N0FdLryX','Fmk1zgxcPve','cdZcLmkpW4S','D8kVCKdcQ1pcMHfFha','W7JdGSkBegv9','WRdcUqe','5A6I5OMk5lUK5yU8tG','xCkbdKZcLSoGq2BcSSoZdKlcKw4uhSoyW5O3btOwWQbtgSo3vepcUryMcWzRW7ddLMhcGs/cUmoWA8kSwSkSW7VcPwVcUCkgyx97W6GXW59xWOiKkMpcU8oeW4LiFaNdQCkLwWtcHCo0WODgW5BcHCo7W4pdMCkGrgVcOGvhW4FdMCkdtYP1DG0dqZ3cPCkiuWLEWQpcMJuDW4NdHx/dJsDsumoyWOJdKSolkmk8BqxcKSkbxMpcHSkwW5FdPZlcVtzjWOxcKeVcPSk+WP5LW6LkW4ldLfNcGXZdLt7cLCo7dmkyrmkixa','5lINqUELK+wjP+wpLEAkJ+wMKCkb','kCo/WPe','WQZcPa91la','eWJcRJW6W4GwtYW','WPldUSoxB8on','W70hWRncW54LWP4jW7hcLG','ge15WP4UWP55ymk1','WPnbWRqgmhNdQSkarq','Frm/CmoUW7G','y8kSCxlcJW','W6H9vHlcMW','W6FcLb5D','W5hcGXDIvW','yCoMBmoA','5yUI5yE/5BM/6zgr5l2J5zgn5OQ55yM6','ddWKWQWbW4b0','WQPkWRpdMa','o2tcTX7cLCkFiSksbW','tM9tWRXxqZJdJSkQ','DH8ID8orW7K','hWaciNS3lCkvWRC','W4uuW5KTCW','DCkIW6JcPCkl','WQyBWPtcRIm','uxrg','W6ddJmkCgKn0','m3r6WPmq','WRxcUavJpmoktCko','ea/cLtSz','xuveEYnICCkMWOmOlw3dQG','wmkzW7FcSmkH','BtvXkxbNW73dJhNdPSoeW6q','omozW4lcISojW4RcSGq','kf1OWPG','aJ3cG8ooWQNcRSkXWPa','lYRdM8ojWO0lW4eqdq','WQnqWR83ba','fCoqW6RcMCov','aCkJW4qRv8oQdHHa','oCopW7hcMmoOW5VcSHSHW4m','bZDs','WRpdS8kgW5xcSq','W7ebW5S','pmotW67cGmoAW53cTG','fCoBDGhcNY1r','5lMx6Acb5y6Y5Ps76i6I5y6g5Aw16lEw77+c6k6p6yAR5PAh6l2v6kk7','e8oNvZZcQa','oHRcGSkEW7JcLSkQka','dHP+W5y','FCkxb03cM8o+rW','bdddU8oJWPK','ENPKW53dI8oN','WQnYmfJdImkm','W7VcLhxcPCkbF8o4W7O','W7P0uZlcHCoy','bmk/W4G3B8o2wG','bZ4OWP50','CmkQW5G','WQ7dTSoYtSox','FfDfW6BdSq','h1FcVHNcGW','5zcG6zY455QB5y6Q6yoO5lYt5yIG5yM6dCkYWORcOq','eCowWOy','WRtdVmoudSkCW5tcQ2O','hJyKgMq','WORdG8opfmkJ','m8odW7pcJmo4W47cOqSDW57cHc0','oNPjWQmH','wtT2kq','jgddJa','hHtcRcCkW54buW','5BAU6k+857+u5OIg5AA+','5y2c6ys46k+15PUcW4ONWPpcImk0WO07W6S9W7C','W6abWOaEF3NdKHldM8o8','emkXW5u4','W7/cKb1CFqldJCkX','WRCGW4XtWPjnaW','WRJdV8kOW4tcVSkZ','abSx','WRuWW4TMWP9laq','WRalWPZcQa','A2XJW5W','eXK4WRLXWO0','xdTXoxPK','W7pcULhcUmksgXCaBW','gCoiWOWJWQ0','W6dcRSoRWPJdUmoIvuD9W6VdOXu','FSkgACob','lKL3W4i','WRCDWP/cQh/dJG','bb8IWRrIWPPgEa','hHuR','qCoeW68','WRtcOHj/oSkub8osW7pdVCoAWP0Pqr1Hy8oAbapcHSkqW4dcGmkzgbyfdCkgAW','5QYpuowkTUwlHUEGLo+8K8kP','W6FcSeS','tZLRngnS','wfbMW7OTW4if','W7JcVLxcVCkdaaGk','z8kgBCok','qWmvkxz/mCkDWQCxchJdTCksWPCuW6WeWQtcRIG','W7CkW6mosLFcQCoytGxcMmoxo1LBW60','W53cULtdML4','W7ahW5i','5P2I5ywN6ygd5B+s5y2I','xmkcW5NcR8k2W7ZcVZO'],...(function(){return['WR5EWRtdKq','WQT/iftdHG','CH3dGq','W6hcRv7cQ8kYgYWl','lhXF','5Rsg5yMj5zkG56s277+AWRO','8y+AKCkU','WQmMWQRcVNe','es9GECow','xwf+W7XFW55SWP7cLSoxvG','F8k0zutcSuxcVa0','kaZcLCkuW6VcGmkp','5PYe556/5yQ25yUg6l+b5zUx56ki','W73cP1NcOCkEdq','W7VcS1ZdKxa','drCeiMm1dCkx','iryzbv0','W7upW4WaCa','WOldL8omFCoj','W5uBWP8tFG','sJTRpa','WQ3dOmoIaSkAW4i','gH/cVdGEW50b','WQPYW6eTWQC','W7NcQ03dIMhdIf9xrq','WQJdHZe','iI1bW65N','wCktW4ZcSCkfW6VcMXPX','o1jGW75py1q','DXuUACk1W7ZdKCkjW5dcVa','nbtcSConWOu','b3FcItJdIG','EMLGW5JdLmoHqCkbW4/cTrBcOw7dOIu6WQzFmhm3WQ/dJmkEWRDdoKmjWPVdICoFwq','WRGwWOBcRYCmeq','W5HAxINcQG','W7VcLhxcPCkbFW','sZr7cxXKW6W','jv/cGXNdSq','W6GoWPCDyq','5lUy5AYR5z+D','jYhcLG','WRrhW4zckw/dLrddRSoaqq','pCofW7O','hXeEl1SLkq','rdv2mW','W6FcNbbtvHhdQCkW','WRTvWQiPiq','W73cP1NcOq','FhzeWOXa','dZJcNCkn','b8kKW5mWDCoIabDx','bHSzjvW0','WQnsWRtdKCoPW418','bberl3aInW','zSk1B0BcSfi','WR/dH8o1tSok','W6n0vZK','WPiIW51eWOm','W6NcN27cU8k1F8opW5VdHCozDCkI','dXv8','emkXW5GuESo9','W5pcLftcUCk0','44g75O+P56sX44oM6k635yAX6i6N5y+qWO/cJCknW6dcUCkq','c8oqWQldGWS','zCkYAv/cHKtcUbb3eey6','mmouoCkzW5tcGSkcCGtcKG','WRb0nutdM8kAgW','W6BcReS','WQ/cOHrMj8ojqCkBW7K','aa8IWPvPWOW','prdcJG','qZ9SlNrUW6W','WQypWO7cUW','W77cLNxcRq','W6dcRe4','W7RcRupcVmk2dGa','WRvgd3JdHG','cWXRW4vqt2RdUmkj','5A6O5Pst5yI05yMZ5Bwj6lYr5yUJ6zI/5yMI','W4qhW6rjqtldOSkAtSozDmkx','WRrBW70u','fSorAYZcHdejaCk1','gG44WQb0W5iGm8kZWR4wjCoWWOdcHCkOWPHvWOfzqXJdISotk3xcPCkCAKK4W6ldK8kWW7pcGmo1WRFdPSo3W6CyWPldHSoDBSk1WQZcIsmjiYO5WOPoWONdI8o7lZWsrvZcLWfP','jWHGW65H','W6WXWPO6xq','W6VcGwxcP8kf','W4SqWO4FFq','rfr/W4nDD2dcP8k+rCkRWPxdMSkSW6ePWPC8Ew8','WPPwWQycfgZdVq','eWO8WRvPWOXmC8kUWRalmSoX','W7CbW5upC1y','W7BcQ0tcPSkHda','WRhdQSoLc8kAW5K','aKFcVchcPW','v8kTW57cLCkH','qY9pm1m','WQGSWQVcUf4','WPXGWQ/dKCoW','FmkGBCotWRK','ha9+wCoA','hCk+W4u8yW','b8kLW4i6FSo2gG','ptxdM8ojWOWqW5uuda','W6pcMHe','WRRcVX4','BmkkCmonWP/dMSoRjK3dG8kD','jYhcJ8osWPpcVmoV','pshdJSosWP47W70D','bblcRJKAW68rstO','EmkAyCowWR/dSa','WQ09WRBcQMu','WRbpW70x','xwebkCkszgHTnaldHJO','WQKWW5XdWPzzfq','W4dcLIznwW','C8ocW7ZcSb4','WP3cHaXoja','WR3dVCkOW4W','tJqVs8oq','AM1nWP9p','fmokWR4UWRD2fqu','W73ORBJMS4NLPz3OT4VcKEkDLIe','cdlcH8kqAGev','fIpcLCkrFZizWOHc','WQRdUSoB','hrxcPIu2W54','WQ9iWRpdKmo+W5PnwGdcOSko','WRhdOmoS','W5fiDJ/cQW','du/cMdJdIW','F3XKW5xdLmoUuW','lelcLG','kwZdN8k7DCoj','W7rQW4PuWPPgfCkKWPKqDb0xW6dcVSkdWPXXhSoqdmknmW','zmkVAg3cQKu','W4RcMH1mFr7dSmo4wmkOW5BcIW','5BsN57Q85yMC5yMh6l6b5lUT5zkRFG','mL8+BCoXW7hdJSopW7tcVmo8irL8WRPre8oebvGnWP5/WOrnk3i','W5xdV8k4lwm','n8odW6u','lbCzWRWh','bYWjWQijW4K','sSoEW7a','imk/W4O8DCo2','WQPvW6WYWOjO','WPSxW5vHWP4','5O6656wV57Qz5P6sumkrmmooW4dcVWewW7ZcRq','5Q2t5OUh5AsA','WRKCWPi','aNz9WQCl','W7BcMgy','W43cVvRcOmko','t1nUWPHp','avzIWPKjWP0','W63dPLy/EmkEgmokWRhcTW','CCknaeZcJmoPDay','W7BcMgBcICkfAa','ECkaf0NcJ8oOrZO','iwhdJ8k3EW','WRnsW68nWOznW5zDWQG','bHrT','WQfzW7OwWPv9W7DDWRJdH8oj','BIqnAmoo','W6v1uZpcOSoZymkEW5RdJhRdQSomWO7cQmowWRWeW4q0W6lcQb3dRCoYWRpcRG','W6yrWOa1F2tdUHtdMSopqvddSrK','xmkcW5NcR8k2W7W'];}())];}())];}());Iii11l=function(){return IIliI1;};return Iii11l();};function iii1II(_0x454c6e,_0x3250ef){const _0x2c9dee=Iii11l();return iii1II=function(_0x4ba468,_0x268299){_0x4ba468=_0x4ba468-0x1c7;let _0x5eea6c=_0x2c9dee[_0x4ba468];if(iii1II['mZYClA']===undefined){var _0x7034a2=function(_0x5272d9){const _0x4278dd='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x13c946='',_0x2cd8e8='';for(let _0x51483c=0x0,_0x32add4,_0x1c2cb9,_0x851b05=0x0;_0x1c2cb9=_0x5272d9['charAt'](_0x851b05++);~_0x1c2cb9&&(_0x32add4=_0x51483c%0x4?_0x32add4*0x40+_0x1c2cb9:_0x1c2cb9,_0x51483c++%0x4)?_0x13c946+=String['fromCharCode'](0xff&_0x32add4>>(-0x2*_0x51483c&0x6)):0x0){_0x1c2cb9=_0x4278dd['indexOf'](_0x1c2cb9);}for(let _0x5eeeab=0x0,_0x1ac5ef=_0x13c946['length'];_0x5eeeab<_0x1ac5ef;_0x5eeeab++){_0x2cd8e8+='%'+('00'+_0x13c946['charCodeAt'](_0x5eeeab)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x2cd8e8);};const _0x233108=function(_0x277d78,_0xdc96fe){let _0x2d48f0=[],_0x41c41c=0x0,_0x38075c,_0x539028='';_0x277d78=_0x7034a2(_0x277d78);let _0x56c5cb;for(_0x56c5cb=0x0;_0x56c5cb<0x100;_0x56c5cb++){_0x2d48f0[_0x56c5cb]=_0x56c5cb;}for(_0x56c5cb=0x0;_0x56c5cb<0x100;_0x56c5cb++){_0x41c41c=(_0x41c41c+_0x2d48f0[_0x56c5cb]+_0xdc96fe['charCodeAt'](_0x56c5cb%_0xdc96fe['length']))%0x100,_0x38075c=_0x2d48f0[_0x56c5cb],_0x2d48f0[_0x56c5cb]=_0x2d48f0[_0x41c41c],_0x2d48f0[_0x41c41c]=_0x38075c;}_0x56c5cb=0x0,_0x41c41c=0x0;for(let _0x38b5ca=0x0;_0x38b5ca<_0x277d78['length'];_0x38b5ca++){_0x56c5cb=(_0x56c5cb+0x1)%0x100,_0x41c41c=(_0x41c41c+_0x2d48f0[_0x56c5cb])%0x100,_0x38075c=_0x2d48f0[_0x56c5cb],_0x2d48f0[_0x56c5cb]=_0x2d48f0[_0x41c41c],_0x2d48f0[_0x41c41c]=_0x38075c,_0x539028+=String['fromCharCode'](_0x277d78['charCodeAt'](_0x38b5ca)^_0x2d48f0[(_0x2d48f0[_0x56c5cb]+_0x2d48f0[_0x41c41c])%0x100]);}return _0x539028;};iii1II['SrlhbR']=_0x233108,_0x454c6e=arguments,iii1II['mZYClA']=!![];}const _0x10bcc1=_0x2c9dee[0x0],_0x21da85=_0x4ba468+_0x10bcc1,_0x281501=_0x454c6e[_0x21da85];return!_0x281501?(iii1II['gEgvrs']===undefined&&(iii1II['gEgvrs']=!![]),_0x5eea6c=iii1II['SrlhbR'](_0x5eea6c,_0x268299),_0x454c6e[_0x21da85]=_0x5eea6c):_0x5eea6c=_0x281501,_0x5eea6c;},iii1II(_0x454c6e,_0x3250ef);}const cookiesArr=Object[Il1i11(0x23c,'&*AO')](jdCookie)[Il1i11(0x25e,'GlW6')](llllI=>jdCookie[llllI])['filter'](lllil1=>lllil1);!cookiesArr[0x0]&&($[Il1i11(0x372,'y[4H')]($[Il1i11(0x269,')cfi')],Il1i11(0x2b5,'oUDK')),process[Il1i11(0x320,'e)fC')](0x1));!(async()=>{const iii1li=Il1i11,iil1il={'MsjYU':function(ilil1I,i11il1){return ilil1I(i11il1);},'qIiwP':iii1li(0x30b,'[0[T'),'jHoRD':iii1li(0x22c,'0yd$'),'ZhnFa':function(ii1iiI,lllilI){return ii1iiI<lllilI;},'vfsHe':'zwUit','MbiNH':function(ilil11,illlI1){return ilil11+illlI1;},'AVTmZ':function(IIIl11,I1lIi1,liiIIi){return IIIl11(I1lIi1,liiIIi);}};authorCodeList=await iil1il[iii1li(0x1dc,'o7CN')](getAuthorCodeList,'http://code.257999.xyz/szxyun1.json'),$['myCodeRun']=![];authorCodeList?(console[iii1li(0x2cd,'[nrX')](iil1il[iii1li(0x1eb,'Hyjr')]),$['myCodeRun']=!![],$['authorCode']=authorCodeList[random(0x0,authorCodeList[iii1li(0x2b0,'zlz&')])]):console[iii1li(0x20c,'W3i&')](iii1li(0x2cf,'8cwe'));$['shopId']=iii1li(0x223,'Zn79'),$[iii1li(0x2a3,'e)fC')]=iil1il[iii1li(0x394,'d1oX')],$['activityUrl']=iii1li(0x1db,'Eq(U'),$[iii1li(0x336,'oUDK')]=$[iii1li(0x35c,'@0@)')],notify[iii1li(0x241,'pXir')]({'title':$[iii1li(0x28c,'^WuR')]});for(let lil11I=0x0;iil1il['ZhnFa'](lil11I,cookiesArr['length']);lil11I++){if(iii1li(0x385,'Qj*n')!==iil1il[iii1li(0x26b,'rVvb')])iliIIi[iii1li(0x36e,'Eq(U')](''+ill11I);else{$[iii1li(0x227,'WFIH')]=iil1il[iii1li(0x38d,'GlW6')](lil11I,0x1),cookie=cookiesArr[lil11I],common[iii1li(0x1da,'0@ct')](cookie),$['UserName']=decodeURIComponent(common[iii1li(0x22d,'@0@)')](cookie,'pt_pin')),$['UA']=common['genUA']($[iii1li(0x335,'qXVR')]),$[iii1li(0x393,'TVRi')]=notify['create']($[iii1li(0x1ed,'S0Sq')],$[iii1li(0x299,'8cwe')]),$[iii1li(0x3aa,'[nrX')]='',console[iii1li(0x29a,'TVRi')]('\x0a******开始【京东账号'+$['index']+'】'+($[iii1li(0x300,']wH%')]||$[iii1li(0x284,'fudf')])+iii1li(0x374,'Eq(U')),await Main(),common[iii1li(0x2e5,'y[4H')]();if($[iii1li(0x1ce,'Eq(U')])break;await $['wait'](iil1il['AVTmZ'](parseInt,iil1il[iii1li(0x20a,'W3i&')](Math['random']()*0x5dc,0x7d0),0xa));}}isNotify&&notify[iii1li(0x273,'wsrl')]()&&(notify[iii1li(0x1e2,'Eq(U')]('\x0a'),await notify[iii1li(0x2ed,'VqHu')]());})()[Il1i11(0x27f,'uszH')](iIiIi=>$[Il1i11(0x225,'d2J7')](iIiIi))[Il1i11(0x322,'uszH')](()=>$['done']());async function Main(){const Iil1i1=Il1i11,iil1ll={'wWKIx':function(iiilil,iil1li){return iiilil!==iil1li;},'tVjXf':Iil1i1(0x276,'[Xrk'),'ARjAm':function(lillIl,iIiIl,iiilii){return lillIl(iIiIl,iiilii);},'TcjFq':Iil1i1(0x282,'Hyjr'),'UgIWs':Iil1i1(0x338,'VqHu'),'XduRI':function(li1i1i,IlIli1){return li1i1i(IlIli1);},'qFvPQ':function(illIiI,lI1lli){return illIiI===lI1lli;},'gNURL':Iil1i1(0x1f0,'[nrX'),'iHbDY':'pABjG','muPnF':'venderId','wnloA':Iil1i1(0x1e9,'rVvb'),'yzhAv':Iil1i1(0x321,'iOA0'),'krKWI':function(Ill1l,llI1Il){return Ill1l*llI1Il;},'izckq':'有店铺开卡失败,跳过执行~','XITQz':function(ii1iii,i11iil){return ii1iii(i11iil);},'WEEFl':function(Ill1i,ii1iil){return Ill1i/ ii1iil;},'SEbxE':function(lllI1l,i11iii){return lllI1l(i11iii);},'iOvPK':function(llI1Ii,lllI1i,li1i1l){return llI1Ii(lllI1i,li1i1l);},'exZva':function(II1i1,lI1lll){return II1i1*lI1lll;},'lquyz':'share','lFPLU':function(iIiII,iil1lI){return iIiII!==iil1lI;},'aHPdX':Iil1i1(0x2c3,'oUDK'),'OGDtP':function(iiiliI,li1i1I){return iiiliI<li1i1I;},'MemIv':Iil1i1(0x33e,'VqHu'),'XMqdP':function(illIii,ii1il1){return illIii+ii1il1;},'IJGhO':'pHeXJ','xDtCY':'EkfRM'};try{$[Iil1i1(0x26e,'e)fC')]=0x0,$[Iil1i1(0x201,')cfi')]=![],$[Iil1i1(0x390,'@0@)')]='',$[Iil1i1(0x218,'S0Sq')]='',$[Iil1i1(0x25f,'mnuZ')]=await getToken(cookie,domains);if($[Iil1i1(0x317,'pXir')]==''){if(iil1ll[Iil1i1(0x1d5,'89rO')](iil1ll['tVjXf'],Iil1i1(0x288,'[nrX'))){console['log'](Iil1i1(0x23b,'mnuZ')),$[Iil1i1(0x1d4,']f1H')][Iil1i1(0x36f,'VU63')](Iil1i1(0x2cc,']f1H'));return;}else iii1Il[Iil1i1(0x2a4,'0yd$')]('抽奖获得:\x20'+lI1IiI[Iil1i1(0x23f,'#8dl')][Iil1i1(0x3a9,'Vudu')](',\x20')+'\x0a');}await $[Iil1i1(0x2e6,'uszH')](iil1ll[Iil1i1(0x1fd,'Zn79')](parseInt,Math[Iil1i1(0x32c,']wH%')]()*0x1f4+0x1f4,0xa)),await sendRequest(iil1ll[Iil1i1(0x337,'Y7S7')]);if($['Tokens']){if(Iil1i1(0x2c8,'Y7S7')===iil1ll[Iil1i1(0x231,'&*AO')]){$['active']='',await iil1ll['XduRI'](sendRequest,Iil1i1(0x2b7,'GlW6'));if($[Iil1i1(0x20f,'&*AO')])return;if($[Iil1i1(0x347,'89rO')]){iil1ll['qFvPQ']($[Iil1i1(0x2a7,'GlW6')],0x1)&&(console[Iil1i1(0x310,'Zn79')](''+($[Iil1i1(0x22a,'d1oX')]&&Iil1i1(0x382,'zlz&')+$[Iil1i1(0x207,'Rwse')])),console[Iil1i1(0x32b,'wsrl')](Iil1i1(0x259,'e)fC')+$['startTime']+Iil1i1(0x2aa,'o7CN')+$[Iil1i1(0x26f,'zlz&')]+'\x0a排行开奖时间：'+$['overTime']+'\x0a'));console['log']('当前已邀请:'+$[Iil1i1(0x392,'$87v')]+Iil1i1(0x313,'^WuR')+$[Iil1i1(0x2ae,'oUDK')]+Iil1i1(0x371,'Vudu')+$[Iil1i1(0x326,'V!9e')]);for(let Ill1I in $['active'][Iil1i1(0x30c,'&*AO')]){if('NHKTv'===Iil1i1(0x1de,'d2J7'))IIll1[Iil1i1(0x262,'qXVR')]=!![];else{let lIli11=$[Iil1i1(0x267,'nNCB')][Iil1i1(0x219,'d1oX')][Ill1I];lIli11['details']=lIli11[Iil1i1(0x280,'qXVR')]['filter'](IlIlii=>IlIlii['done']===null);let lllI1I=lIli11[Iil1i1(0x3b9,'S0Sq')]||0x1,lillI1=lIli11[Iil1i1(0x2c9,'Eq(U')]||0x0;for(let i1l1i1=lillI1;i1l1i1<lllI1I;i1l1i1++){$[Iil1i1(0x298,'V!9e')]=Ill1I,$[Iil1i1(0x1d9,'d1oX')]=lIli11,await sendRequest(iil1ll[Iil1i1(0x34e,'8cwe')]);}}}$[Iil1i1(0x2d3,'Rwse')]=$['active'][Iil1i1(0x355,'VqHu')]||[];let illIil=$[Iil1i1(0x28d,'WFIH')]['filter'](liil11=>!liil11['isBindCard'])||[];console[Iil1i1(0x33b,'Qj*n')]('共有'+$['opencard_list'][Iil1i1(0x290,'&*AO')]+'张卡,还需开'+illIil['length']+'张卡');for(let iiillI of illIil){if(iil1ll['wWKIx'](iil1ll['iHbDY'],'pABjG'))II1lil['log']('❓'+IIli1l+'\x20'+II1lii['stringify'](lIIii1));else{$[Iil1i1(0x2f5,'W3i&')]=iiillI['openUrl'],$[Iil1i1(0x36d,'Eq(U')]=common[Iil1i1(0x2da,']f1H')]($[Iil1i1(0x2ea,']wH%')],iil1ll[Iil1i1(0x1e8,'Vudu')]);(!$['openUrl']||!/^\d+$/[Iil1i1(0x27b,'mnuZ')]($[Iil1i1(0x26d,'d1oX')]))&&(Iil1i1(0x29c,'Qj*n')===iil1ll[Iil1i1(0x30a,'WFIH')]?$['venderId']=iiillI[Iil1i1(0x334,'fudf')]:iii1I1[Iil1i1(0x208,'$87v')]('宝子，服务连接失败...\x0a'));const l1iIII=await common['joinShopMember']($[Iil1i1(0x380,']f1H')]);if(l1iIII)console[Iil1i1(0x229,'o7CN')](iil1ll['yzhAv']),await $[Iil1i1(0x251,'rVvb')](iil1ll[Iil1i1(0x2ef,'VU63')](parseInt,iil1ll[Iil1i1(0x2d9,'8cwe')](Math[Iil1i1(0x25c,'gYSb')](),0x3e8)+0x3e8,0xa));else{console['log'](iil1ll[Iil1i1(0x3a3,'@0@)')]);break;}}}if(opencard_draw){if(iil1ll['qFvPQ'](Iil1i1(0x2ec,'VU63'),'moqOw')){await iil1ll['XITQz'](sendRequest,Iil1i1(0x2ff,'rVvb')),await $[Iil1i1(0x2d8,'[Xrk')](iil1ll[Iil1i1(0x21a,'SzMh')](parseInt,iil1ll['krKWI'](Math['random'](),0x1f4)+0x1f4,0xa));let IlIlil=iil1ll[Iil1i1(0x28a,'Hyjr')](parseInt,iil1ll['WEEFl']($['points2'],0x1)),lIli1I=Math[Iil1i1(0x37a,'^WuR')](opencard_draw,IlIlil);$[Iil1i1(0x286,'e)fC')]=[],console[Iil1i1(0x24f,'Y7S7')](Iil1i1(0x35a,'oUDK')+opencard_draw+'次,共有'+IlIlil+'次抽奖,可抽奖'+lIli1I+'次');for(m=0x1;lIli1I--;m++){await iil1ll[Iil1i1(0x30d,'nNCB')](sendRequest,'lottery');if(Number(lIli1I)<=0x0)break;if($[Iil1i1(0x28f,'89rO')])break;await $['wait'](iil1ll[Iil1i1(0x2a2,'8cwe')](parseInt,iil1ll[Iil1i1(0x331,'zlz&')](Math['random'](),0x3e8)+0x3e8,0xa));}$[Iil1i1(0x2ac,'&*AO')]['length']&&console[Iil1i1(0x33d,'^WuR')]('抽奖获得:\x20'+$[Iil1i1(0x286,'e)fC')][Iil1i1(0x3ae,'[Xrk')](',\x20')+'\x0a');}else ilI1lI['runEnd']=!![],IiiIll[Iil1i1(0x39e,'N5JL')][Iil1i1(0x248,'e)fC')]('活动已结束~');}if($[Iil1i1(0x333,'VqHu')]||$[Iil1i1(0x2f4,'Vudu')])return;await iil1ll[Iil1i1(0x295,'h1fK')](sendRequest,iil1ll['lquyz']);if($[Iil1i1(0x324,'[0[T')]){if(iil1ll[Iil1i1(0x270,'d1oX')](Iil1i1(0x368,')cfi'),iil1ll[Iil1i1(0x384,'rVvb')]))for(let lllI11=0x0;iil1ll[Iil1i1(0x245,'[nrX')](lllI11,authorCodeList[Iil1i1(0x301,'wsrl')]);lllI11++){$[Iil1i1(0x216,'uszH')]=authorCodeList[lllI11],await sendRequest(iil1ll['MemIv']),await $[Iil1i1(0x23d,'S0Sq')](parseInt(iil1ll[Iil1i1(0x32d,'h1fK')](Math['random']()*0x190,0x190),0xa));}else IIlli['log']('❌\x20未能正确处理\x20'+l1iil+Iil1i1(0x291,'[nrX')+(ii1l1[Iil1i1(0x250,'V!9e')]||lIIill));}$[Iil1i1(0x37e,'89rO')]==0x1&&(iil1ll[Iil1i1(0x1ec,'Qj*n')](iil1ll[Iil1i1(0x244,'TVRi')],'pHeXJ')?li1I1[Iil1i1(0x205,'pXir')](Iil1i1(0x340,'GlW6')):($[Iil1i1(0x2b2,'$87v')]=$[Iil1i1(0x3b0,'GlW6')],console[Iil1i1(0x2a4,'0yd$')](Iil1i1(0x350,'Vudu')+$['shareUuid']))),await $['wait'](iil1ll[Iil1i1(0x21e,'h1fK')](parseInt,Math['random']()*0x3e8+0x3e8,0xa));}else iil1ll[Iil1i1(0x2be,'Eq(U')]!==iil1ll[Iil1i1(0x2e3,'qXVR')]?lIIil1['log'](Iil1i1(0x278,'gYSb')+IIli1[Iil1i1(0x360,'mnuZ')][Iil1i1(0x1c9,'&*AO')]['map'](IIIIII=>(IIIIII['sendNum']||0x0)+'京豆')[Iil1i1(0x25b,'^WuR')](',\x20')):console[Iil1i1(0x302,'h1fK')](Iil1i1(0x297,'0yd$'));}else i1ill1[Iil1i1(0x29a,'TVRi')](iIIl1l['message']);}}catch(ii1ilI){console[Iil1i1(0x257,'@0@)')](ii1ilI[Iil1i1(0x1d0,'Vudu')]);}}async function handleResponse(lI1ll1,iIiI1){const IIii11=Il1i11,liil1I={'DkvQs':function(i11ii1,IlIliI){return i11ii1*IlIliI;},'EFvHe':'缺少必要参数，请重新运行','FBSqj':'TOKEN获取失败~','RKhhx':IIii11(0x332,'Vudu'),'Qsort':function(l1iII1,iiill1){return l1iII1>iiill1;},'mEnLM':'未开始','xflNW':'MyuOH','ASLcg':IIii11(0x31c,'&*AO'),'HCEcK':function(lIli1i,IIIII1){return lIli1i===IIIII1;},'ZNJFF':'TQQEj','OjLfj':IIii11(0x1e6,'[0[T'),'qppit':function(I1lIlI,ii1ill){return I1lIlI===ii1ill;},'sHjGH':IIii11(0x2e9,'pXir'),'AmeYy':'QXfDJ','jLsSa':function(II1iI,llI1II){return II1iI===llI1II;},'DVWkc':IIii11(0x2a6,'e)fC'),'hapaJ':IIii11(0x2d4,'WFIH'),'lHsfG':function(lIli1l,lillIi){return lIli1l!==lillIi;},'guZpf':IIii11(0x1c8,'iOA0'),'njsbi':'yfVWu','ttvzs':IIii11(0x397,'o7CN'),'oSLpL':IIii11(0x275,'uszH'),'ialul':function(illIi1,ii1ili){return illIi1===ii1ili;},'tWzgh':'200','RDdRH':'FAxXq','XzeLI':'LqCde','mWXNL':IIii11(0x39c,'W3i&'),'XrAXq':IIii11(0x235,'@0@)'),'YHrLm':IIii11(0x356,'h1fK'),'rHOMv':function(liil1i,lI1lil){return liil1i!==lI1lil;},'ycOsZ':IIii11(0x354,'$87v'),'ZujoY':IIii11(0x39b,'qXVR'),'YRSdm':IIii11(0x3b1,'Rwse')};try{if(liil1I[IIii11(0x31d,'0yd$')]!==liil1I[IIii11(0x209,'0yd$')])switch(lI1ll1){case'userLogin':if(liil1I['HCEcK'](iIiI1[IIii11(0x2e1,'8cwe')],IIii11(0x34c,'iOA0'))&&iIiI1[IIii11(0x2bf,'d2J7')]===!![])$['Tokens']=iIiI1[IIii11(0x2e2,'oUDK')];else{if(iIiI1[IIii11(0x2c0,'[0[T')]){if(IIii11(0x2db,'VqHu')===liil1I['ZNJFF'])console[IIii11(0x358,'WFIH')](''+(iIiI1[IIii11(0x203,'[Xrk')]||''));else return lI11I1['floor'](liil1I[IIii11(0x2a1,'S0Sq')](l1il11[IIii11(0x249,'8cwe')](),IiI1-liI))+illIli;}else liil1I[IIii11(0x234,'[0[T')]!==IIii11(0x379,'y[4H')?console[IIii11(0x2f6,'nNCB')](''+iIiI1):IiiIiI[IIii11(0x274,'oUDK')]=!![];}break;case IIii11(0x373,'Vudu'):if(liil1I[IIii11(0x38b,'y[4H')](iIiI1['code'],IIii11(0x396,'d2J7'))&&liil1I['HCEcK'](iIiI1[IIii11(0x388,'nNCB')],!![])){$['active']=iIiI1[IIii11(0x323,'Rwse')],$['activeTitle']=$['active']['activeVO']['activeTitle'],$['startTime']=$['active']['activeVO'][IIii11(0x204,'[Xrk')],$[IIii11(0x399,'fudf')]=$[IIii11(0x24e,'iOA0')][IIii11(0x37c,'zlz&')][IIii11(0x3a1,'Vudu')],$[IIii11(0x236,'Zn79')]=$[IIii11(0x283,'0@ct')][IIii11(0x224,'#8dl')][IIii11(0x375,']f1H')],$[IIii11(0x30f,']wH%')]=$[IIii11(0x3a0,'d2J7')]['userVO'][IIii11(0x206,'TVRi')]||'',$['points2']=$[IIii11(0x22e,'zlz&')]['userVO'][IIii11(0x27e,'Hyjr')]||0x0,$[IIii11(0x2af,'0@ct')]=$['active'][IIii11(0x36c,'rVvb')]['points']||0x0,$[IIii11(0x1f3,'qXVR')]=$[IIii11(0x2a5,']wH%')]['userVO'][IIii11(0x33f,'0@ct')]||0x0;if($[IIii11(0x31b,'V!9e')][IIii11(0x3b7,'d2J7')][IIii11(0x293,'VqHu')]>0x0){if(IIii11(0x243,'VU63')!==liil1I[IIii11(0x2ba,']f1H')])console['log'](IIii11(0x252,']wH%')+$[IIii11(0x2a5,']wH%')]['showBeanList']['map'](lI1lii=>(lI1lii[IIii11(0x253,')cfi')]||0x0)+'京豆')[IIii11(0x376,'Hyjr')](',\x20'));else{I1iIl1[IIii11(0x257,'@0@)')](liil1I['EFvHe']),i1il['message'][IIii11(0x214,'VqHu')](liil1I[IIii11(0x215,'uszH')]);return;}}}else iIiI1[IIii11(0x2ab,'d2J7')]?IIii11(0x240,'Qj*n')!==liil1I[IIii11(0x3ad,'wsrl')]?(IllIIi['prize'][IIii11(0x364,'8cwe')](''+(IllIIl['message']||'')),['开卡'][IIii11(0x36a,'Hyjr')](i1i11I=>lliiil[IIii11(0x2ee,'qXVR')][IIii11(0x359,'TVRi')](i1i11I))&&(lliiii[IIii11(0x246,'0@ct')]=!![]),['结束']['some'](il1iIl=>IliI1i[IIii11(0x1d4,']f1H')]['includes'](il1iIl))&&(ll1ii['runEnd']=!![])):($[IIii11(0x316,'TVRi')]=iIiI1[IIii11(0x393,'TVRi')],console['log'](''+($[IIii11(0x31a,'Y7S7')]||'')),[liil1I[IIii11(0x1dd,'@0@)')],'结束',IIii11(0x2f3,'h1fK'),'不在'][IIii11(0x28b,'#8dl')](iii1ii=>$['drawError']['includes'](iii1ii))&&(liil1I[IIii11(0x306,'mnuZ')](IIii11(0x29b,'zlz&'),IIii11(0x3b6,'SzMh'))?(delete I11iIl[IIii11(0x1d2,'d2J7')],delete l1l11l['headers'][liil1I[IIii11(0x1ea,'Rwse')]]):($[IIii11(0x29e,'W3i&')]=!![],$[IIii11(0x263,'^WuR')][IIii11(0x1cf,'nNCB')](liil1I['DVWkc'])))):IIii11(0x39f,'0yd$')!==liil1I[IIii11(0x38e,'^WuR')]?lliiiI[IIii11(0x2cd,'[nrX')]('❓'+lilil+'\x20'+ll1ll[IIii11(0x325,'wsrl')](Illl11)):console['log']('❓'+lI1ll1+'\x20'+JSON['stringify'](iIiI1));break;case'job':if(liil1I[IIii11(0x1e7,'zlz&')](iIiI1['code'],IIii11(0x37f,'W3i&'))&&iIiI1[IIii11(0x388,'nNCB')]===!![]){if(liil1I[IIii11(0x2a8,'d1oX')](IIii11(0x34f,'[0[T'),liil1I[IIii11(0x32f,'TVRi')]))iiilli[IIii11(0x21d,'N5JL')](l1iIIl),iiilll&&(lIII1l[IIii11(0x2eb,'[Xrk')]=!![],l1iIIi[IIii11(0x250,'V!9e')]&&lilIl[IIii11(0x203,'[Xrk')][IIii11(0x260,'Rwse')](IilIlI));else{let {val:val='',awardName:awardName=''}=iIiI1[IIii11(0x1fe,'mnuZ')],I1l11i=[];if(awardName)I1l11i[IIii11(0x37d,'Rwse')](awardName);if(val)I1l11i[IIii11(0x2fb,']wH%')](val+IIii11(0x21c,'Eq(U'));console['log'](IIii11(0x311,'Vudu')+$[IIii11(0x314,'iOA0')]+']:\x20'+I1l11i[IIii11(0x3ac,']f1H')](','));}}else iIiI1['message']?console['log'](''+(iIiI1[IIii11(0x1e1,'Y7S7')]||'')):liil1I[IIii11(0x281,'e)fC')]===liil1I['ttvzs']?(lilIl1[IIii11(0x217,'VU63')](i1l1ii['name'],IIii11(0x1c7,'h1fK')),i1l1[IIii11(0x363,'N5JL')](0x1)):console[IIii11(0x256,']wH%')]('❓'+lI1ll1+'\x20'+JSON[IIii11(0x1cd,'Zn79')](iIiI1));break;case liil1I[IIii11(0x1f7,'rVvb')]:if(liil1I['ialul'](iIiI1[IIii11(0x271,'Qj*n')],liil1I[IIii11(0x23e,'Vudu')])&&iIiI1[IIii11(0x1ee,'S0Sq')]===!![]){if(liil1I[IIii11(0x2bb,'V!9e')]('FAxXq',liil1I[IIii11(0x1ff,'V!9e')]))i1III[IIii11(0x33b,'Qj*n')](''+(Ii1iIi[IIii11(0x39e,'N5JL')]||''));else{if(iIiI1['data']!=null)switch(iIiI1[IIii11(0x35d,'S0Sq')][IIii11(0x2d5,']f1H')]){case 0x0:$['prize']['push'](IIii11(0x292,'Rwse')+iIiI1[IIii11(0x391,'Vudu')]['awardName']);break;case 0x1:$['prize']['push'](IIii11(0x258,'Rwse')+iIiI1['data']['awardName']+'\x20🐶'),$['message']['insert'](iIiI1[IIii11(0x2f8,']wH%')]['awardName']+'🐶');break;case 0x2:$[IIii11(0x2b6,'Eq(U')][IIii11(0x1f8,'d1oX')]('🗑️\x20优惠券');break;case 0x3:$[IIii11(0x2d6,'nNCB')]['push'](IIii11(0x2de,'iOA0')+iIiI1['data']['awardName']),$['message']['insert']('🎉\x20恭喜获得实物~,奖品名称：'+iIiI1[IIii11(0x1d1,'rVvb')]['awardName']);break;default:$[IIii11(0x2d6,'nNCB')][IIii11(0x36b,'fudf')]('未知奖品：'+iIiI1[IIii11(0x303,'^WuR')][IIii11(0x1ef,'oUDK')]+'-'+iIiI1[IIii11(0x343,'o7CN')][IIii11(0x1d6,'o7CN')]);break;}else $[IIii11(0x315,'Zn79')][IIii11(0x239,'Qj*n')]('💨\x20空气');}}else iIiI1['message']?liil1I[IIii11(0x328,'^WuR')]===IIii11(0x2c4,'uszH')?($[IIii11(0x2dd,'V!9e')][IIii11(0x285,'0yd$')](''+(iIiI1[IIii11(0x2ab,'d2J7')]||'')),['开卡'][IIii11(0x3b5,'0yd$')](ililIi=>iIiI1[IIii11(0x2ee,'qXVR')][IIii11(0x32e,'Zn79')](ililIi))&&($[IIii11(0x352,'$87v')]=!![]),['结束'][IIii11(0x2ce,'d1oX')](lilIIl=>iIiI1['message'][IIii11(0x226,'#8dl')](lilIIl))&&(IIii11(0x1df,'@0@)')!==liil1I[IIii11(0x272,'SzMh')]?$['runEnd']=!![]:Iiii1[IIii11(0x302,'h1fK')]('❓'+lIIili+'\x20'+IiiIil['stringify'](IiiIii)))):ilI1ll['log'](''+(Iillii[IIii11(0x2b4,'Eq(U')]||'')):liil1I[IIii11(0x329,'zlz&')](liil1I[IIii11(0x345,'oUDK')],liil1I[IIii11(0x2e8,'[0[T')])?i1l1I[IIii11(0x35e,'[nrX')]=IiilIi[IIii11(0x2ad,'[nrX')]:console[IIii11(0x2fc,'d1oX')]('❓'+lI1ll1+'\x20'+JSON[IIii11(0x319,'h1fK')](iIiI1));break;case IIii11(0x24d,'e)fC'):if(iIiI1[IIii11(0x271,'Qj*n')]===liil1I[IIii11(0x308,'fudf')]&&iIiI1[IIii11(0x287,'Hyjr')]===!![]){let i1ill=iIiI1['data'][IIii11(0x33a,'VqHu')]||0x0;switch(i1ill){case'':case undefined:case 0x0:break;case 0x1:console[IIii11(0x32b,'wsrl')]('✅\x20助力成功');break;case 0x2:console['log'](IIii11(0x211,'N5JL'));break;case 0x3:case 0xc:console[IIii11(0x21f,'d2J7')](IIii11(0x2f9,'oUDK'));break;case 0x4:console[IIii11(0x304,'uszH')](IIii11(0x1d7,'VqHu'));break;case 0x5:console['log']('对方助力已满');break;case 0x7:console[IIii11(0x247,'0@ct')](IIii11(0x37b,'WFIH'));break;case 0x24:console['log'](IIii11(0x2b3,'[0[T'));break;case 0x25:console[IIii11(0x205,'pXir')]('对方未浏览商品');break;default:console[IIii11(0x32b,'wsrl')](IIii11(0x389,'Vudu'));break;}}else iIiI1[IIii11(0x2f7,'89rO')]?console[IIii11(0x33d,'^WuR')](''+(iIiI1[IIii11(0x2c5,'@0@)')]||'')):liil1I[IIii11(0x221,'wsrl')](liil1I['ycOsZ'],liil1I[IIii11(0x220,']f1H')])?console['log']('❓'+lI1ll1+'\x20'+JSON['stringify'](iIiI1)):(i1illl['active']=I1llil['data'],I1llii[IIii11(0x1f2,'Hyjr')]=lilIll[IIii11(0x254,'N5JL')]['activeVO']['activeTitle'],l1i111[IIii11(0x2ca,'&*AO')]=iliII1[IIii11(0x1e4,']f1H')][IIii11(0x348,'d2J7')][IIii11(0x309,'Y7S7')],II11I1[IIii11(0x2f0,']f1H')]=Iii11I[IIii11(0x2e0,'&*AO')]['activeVO']['endTime'],Iil1II['overTime']=iIIl1I[IIii11(0x29d,'pXir')][IIii11(0x342,'nNCB')][IIii11(0x2e4,'GlW6')],I1iIli['joinId']=lI1Ill['active']['userVO'][IIii11(0x1e3,'^WuR')]||'',lI1Ili[IIii11(0x24b,'WFIH')]=IliilI[IIii11(0x20d,'WFIH')][IIii11(0x1f6,'Hyjr')]['points2']||0x0,i1II1['points']=iIIl11[IIii11(0x233,'W3i&')]['userVO'][IIii11(0x3b3,'&*AO')]||0x0,l1l1I1[IIii11(0x237,'[Xrk')]=I1iIll[IIii11(0x2e0,'&*AO')][IIii11(0x2b9,'&*AO')][IIii11(0x34a,'S0Sq')]||0x0,liil1I[IIii11(0x279,'S0Sq')](I1lliI[IIii11(0x365,'Eq(U')]['showBeanList'][IIii11(0x1e5,'$87v')],0x0)&&iillll[IIii11(0x33b,'Qj*n')](IIii11(0x2e7,'d1oX')+lIIilI[IIii11(0x20d,'WFIH')]['showBeanList']['map'](lilIIi=>(lilIIi[IIii11(0x3a8,'GlW6')]||0x0)+'京豆')['join'](',\x20')));break;case liil1I[IIii11(0x2d1,'pXir')]:if(iIiI1[IIii11(0x2c7,'V!9e')]===IIii11(0x23a,'VU63')&&iIiI1['success']===!![]){}else{if(iIiI1[IIii11(0x35f,'SzMh')]){}else{}}break;}else Illl1i['drawError']=lIIiil['message'],l1lIii[IIii11(0x1cc,'y[4H')](''+(I11iI1[IIii11(0x398,'zlz&')]||'')),[liil1I[IIii11(0x264,')cfi')],'结束',IIii11(0x3a4,'N5JL'),'不在'][IIii11(0x27a,'8cwe')](llIli=>I1l1Ii[IIii11(0x367,']f1H')][IIii11(0x387,'&*AO')](llIli))&&(I1i11i['runEnd']=!![],I1i11l[IIii11(0x2fa,'wsrl')][IIii11(0x1f1,'Zn79')](IIii11(0x22f,'N5JL')));}catch(i1i11l){console[IIii11(0x3a7,'VqHu')]('❌\x20未能正确处理\x20'+lI1ll1+IIii11(0x296,'wsrl')+(i1i11l['message']||i1i11l));}}async function sendRequest(i1i11i){const iliIl1=Il1i11,II11l1={'XvdZO':function(iIIiii,iilll,il1iI1){return iIIiii(iilll,il1iI1);},'MpEeY':'POST','vYMcV':iliIl1(0x339,'S0Sq'),'hcNDt':iliIl1(0x1d3,'y[4H'),'FJCPv':iliIl1(0x32a,'N5JL'),'GRJSO':iliIl1(0x39d,'8cwe'),'oTraB':iliIl1(0x2fd,'SzMh'),'rTFqV':iliIl1(0x39a,'V!9e'),'UnpEG':iliIl1(0x2b8,'Rwse'),'uDdNs':function(IlllIi,iIIiil){return IlllIi===iIIiil;},'Vwway':iliIl1(0x381,'h1fK'),'KpjPe':function(i1l1Ii,I1iIIi){return i1l1Ii<I1iIIi;},'vSHSC':function(I1iIIl,lI1IIl){return I1iIIl>lI1IIl;},'rBTQq':iliIl1(0x1fb,'[nrX'),'yRIDi':function(i1ilI,iii1lI){return i1ilI>=iii1lI;},'sPzsp':iliIl1(0x307,'iOA0'),'joZxy':'BpnkL','HaQlM':function(i1ilI1,Iiilii){return i1ilI1!==Iiilii;},'jekuM':'LfwXT'};if($[iliIl1(0x2c1,'VqHu')])return;let Iil1lI='',IiiliI=null,iii1iI=null,llIll=II11l1[iliIl1(0x230,'89rO')],il1iII={},iilli={};switch(i1i11i){case II11l1['vYMcV']:iilli={'shopId':$[iliIl1(0x26c,'Y7S7')],'token':$[iliIl1(0x1fc,'VU63')],'source':'01'},Iil1lI=domains+'/webc/login/userLogin',IiiliI=JSON['stringify'](iilli);break;case iliIl1(0x346,'8cwe'):iilli={'activeId':$[iliIl1(0x1f4,'oUDK')],'shareId':$[iliIl1(0x25a,'iOA0')]||null},Iil1lI=domains+'/webc/unionOpen/active',IiiliI=JSON[iliIl1(0x3af,'S0Sq')](iilli);break;case II11l1[iliIl1(0x34d,'pXir')]:iilli={'activeId':$['activeId'],'jobForm':$[iliIl1(0x2f1,'SzMh')]['jobForm'],'jobDetail':$['task'][iliIl1(0x20b,'8cwe')][iliIl1(0x3a5,'qXVR')]()['config']||0x1,'joinId':$['joinId']},Iil1lI=domains+iliIl1(0x289,'S0Sq'),IiiliI=JSON[iliIl1(0x27c,'d1oX')](iilli);break;case'lottery':iilli={'activeId':$[iliIl1(0x2c6,'wsrl')],'joinId':$[iliIl1(0x222,'h1fK')],'lotteryForm':0x0},Iil1lI=domains+'/webc/unionOpen/lottery',IiiliI=JSON['stringify'](iilli);break;case II11l1[iliIl1(0x2bc,'V!9e')]:iilli={'activeId':$[iliIl1(0x2d0,'VU63')],'joinId':$[iliIl1(0x349,'0yd$')],'shareId':$[iliIl1(0x1f5,'TVRi')]},Iil1lI=domains+'/webc/unionOpen/share',IiiliI=JSON[iliIl1(0x2dc,'mnuZ')](iilli);break;case iliIl1(0x344,'#8dl'):iilli={'activeId':$[iliIl1(0x38c,'GlW6')],'joinId':$[iliIl1(0x1e3,'^WuR')],'shareId':$[iliIl1(0x268,'Rwse')]},Iil1lI=domains+iliIl1(0x377,'GlW6'),IiiliI=JSON[iliIl1(0x327,'GlW6')](iilli);break;default:console[iliIl1(0x2cd,'[nrX')]('❌\x20未知请求\x20'+i1i11i);return;}const IlllIl={'url':Iil1lI,'method':llIll,'headers':{'Accept':II11l1[iliIl1(0x213,']wH%')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':II11l1['oTraB'],'Connection':II11l1[iliIl1(0x22b,'V!9e')],'Content-Type':II11l1[iliIl1(0x26a,'d2J7')],'jd-fast-token':$['Tokens']||null,'Host':'szxyun-rc.isvjcloud.com','Cookie':cookie,'Referer':domains,'Origin':domains,'User-Agent':$['UA']},'data':IiiliI,'timeout':0x4e20};II11l1[iliIl1(0x34b,'Eq(U')](llIll,II11l1['Vwway'])&&(delete IlllIl['data'],delete IlllIl[iliIl1(0x3b2,'GlW6')][iliIl1(0x210,'[nrX')]);const II11lI=0x1;let lI1IIi=0x0,I1l11I=null,Ilil1l=![];while(II11l1[iliIl1(0x2d2,'Eq(U')](lI1IIi,II11lI)){II11l1[iliIl1(0x341,'0@ct')](lI1IIi,0x0)&&await $[iliIl1(0x357,'Vudu')](0x3e8);const Iil1li=await common['request'](IlllIl);if(!Iil1li[iliIl1(0x1fa,'SzMh')]){if(II11l1['uDdNs'](iliIl1(0x3ba,'d2J7'),II11l1[iliIl1(0x353,'GlW6')])){I1l11I=iliIl1(0x2b1,'gYSb')+i1i11i+iliIl1(0x202,'$87v')+Iil1li[iliIl1(0x3a2,'W3i&')],lI1IIi++;continue;}else II11Ii[iliIl1(0x28e,'8cwe')](iliIl1(0x29f,'Hyjr')),II11Il['myCodeRun']=!![],IlI11[iliIl1(0x30e,'&*AO')]=iIIIIl[II11l1[iliIl1(0x31f,'[nrX')](II1Il,0x0,lilIlI['length'])];}if(!Iil1li[iliIl1(0x1d1,'rVvb')]){I1l11I=iliIl1(0x383,'d1oX')+i1i11i+'\x20请求失败\x20➜\x20无响应数据',lI1IIi++;continue;}handleResponse(i1i11i,Iil1li[iliIl1(0x238,'y[4H')]),Ilil1l=![];break;}II11l1[iliIl1(0x3b4,'pXir')](lI1IIi,II11lI)&&(II11l1[iliIl1(0x294,'WFIH')]!==II11l1[iliIl1(0x33c,'mnuZ')]?(console['log'](I1l11I),Ilil1l&&($[iliIl1(0x362,'SzMh')]=!![],$[iliIl1(0x24a,'0yd$')]&&(II11l1['HaQlM'](II11l1[iliIl1(0x2cb,'WFIH')],iliIl1(0x3ab,'Y7S7'))?(IliI11[iliIl1(0x3a7,'VqHu')](''+(i1ll[iliIl1(0x266,'#8dl')]&&'活动名称：#'+i1l1lI[iliIl1(0x2fe,'W3i&')])),i1iliI[iliIl1(0x28e,'8cwe')](iliIl1(0x261,'d2J7')+I1iIii['startTime']+'\x0a结束时间：'+IllII1['endTime']+'\x0a排行开奖时间：'+I1iIil['overTime']+'\x0a')):$[iliIl1(0x2b4,'Eq(U')]['fix'](I1l11I)))):(i1l1li[iliIl1(0x395,'y[4H')]=i1ilii[iliIl1(0x38a,']f1H')],iIIII1['log']('后面的号都会助力\x20->\x20'+i1l1ll[iliIl1(0x228,'d1oX')])));}async function getAuthorCodeList(lI1III){const Ii1il1=Il1i11,IIliIi={'WvlJv':Ii1il1(0x232,'V!9e')},IllIiI=await common[Ii1il1(0x1cb,'89rO')]({'url':lI1III,'method':IIliIi[Ii1il1(0x200,'wsrl')],'headers':{'User-Agent':Ii1il1(0x312,'#8dl')},'proxy':null,'debug':![],'timeout':0x7530}),i1il1=IllIiI[Ii1il1(0x2df,'SzMh')];return i1il1;}function random(I1l111,IIii1l){const iii1ll=Il1i11,I1iIII={'DBpwj':function(liiI11,ililI1){return liiI11+ililI1;},'qXCcS':function(IIii1i,i1ili){return IIii1i*i1ili;},'cRwPM':function(Iiill1,I1iII1){return Iiill1-I1iII1;}};return I1iIII[iii1ll(0x38f,'pXir')](Math[iii1ll(0x24c,'#8dl')](I1iIII[iii1ll(0x2f2,'&*AO')](Math[iii1ll(0x366,'Vudu')](),I1iIII['cRwPM'](IIii1l,I1l111))),I1l111);}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
