/*
活动名称：加购有礼 · 京耕
活动链接：https://jinggeng-isv.isvjcloud.com/ql/front/showCart?id=<活动id>&user_id=<店铺id>
环境变量：jd_jinggeng_cart_url // 活动链接
         jd_jinggeng_cart_opencard // 是否入会（true/false），默认不入会
         jd_jinggeng_cart_Notify // 是否通知（true/false），默认不通知


cron:1 1 1 1 *
============Quantumultx===============
[task_local]
#加购有礼 · 京耕
1 1 1 1 * jd_jinggeng_cart.js, tag=加购有礼 · 京耕, enabled=true

*/

const $ = new Env('加购有礼（京耕）')
var iｉl='jsjiami.com.v7';const I1lIlI=iii1II;if(function(l1l111,l1iIII,llI1I1,IlIlil,lIli1I,II1il,lllI11){return l1l111=l1l111>>0x3,II1il='hs',lllI11='hs',function(I1lIll,I1lIli,II1ii,IIIIII,lillII){const IIIII1=iii1II;IIIIII='tfi',II1il=IIIIII+II1il,lillII='up',lllI11+=lillII,II1il=II1ii(II1il),lllI11=II1ii(lllI11),II1ii=0x0;const ii1ilI=I1lIll();while(!![]&&--IlIlil+I1lIli){try{IIIIII=-parseInt(IIIII1(0x16b,'vV[Z'))/0x1+-parseInt(IIIII1(0xcd,'R[bx'))/0x2+parseInt(IIIII1(0x123,'AEos'))/0x3*(parseInt(IIIII1(0x187,'ftSF'))/0x4)+parseInt(IIIII1(0x254,'3$hx'))/0x5+-parseInt(IIIII1(0xc5,'vV[Z'))/0x6*(-parseInt(IIIII1(0x1f9,'ev&W'))/0x7)+-parseInt(IIIII1(0x259,'q%hH'))/0x8+-parseInt(IIIII1(0x268,'0X*r'))/0x9;}catch(lI1ll1){IIIIII=II1ii;}finally{lillII=ii1ilI[II1il]();if(l1l111<=IlIlil)II1ii?lIli1I?IIIIII=lillII:lIli1I=lillII:II1ii=lillII;else{if(II1ii==lIli1I['replace'](/[eAQtfpRGhnXJlFKqMNPIC=]/g,'')){if(IIIIII===I1lIli){ii1ilI['un'+II1il](lillII);break;}ii1ilI[lllI11](lillII);}}}}}(llI1I1,l1iIII,function(iIiI1,liil1I,i11ii1,IlIliI,l1iII1,iiill1,lIli1i){return liil1I='\x73\x70\x6c\x69\x74',iIiI1=arguments[0x0],iIiI1=iIiI1[liil1I](''),i11ii1=`\x72\x65\x76\x65\x72\x73\x65`,iIiI1=iIiI1[i11ii1]('\x76'),IlIliI=`\x6a\x6f\x69\x6e`,(0x16f5f1,iIiI1[IlIliI](''));});}(0x610,0x556cc,Iii11l,0xc4),Iii11l){}const jdCookie=require('./jdCookie'),common=require('./utils/Rebels_jdCommon'),notify=require(I1lIlI(0x272,'CO]U')),getToken=require(I1lIlI(0x173,'T!5m')),{jinggeng_savePrize}=require('./utils/Rebels_savePrize');console[I1lIlI(0x261,'6RFL')](''),console[I1lIlI(0x1c0,'EOGo')](I1lIlI(0x156,'RKyP')+$[I1lIlI(0x1e8,'($ZK')]+I1lIlI(0x197,'6RFL')),console[I1lIlI(0x1ef,'[WE#')](I1lIlI(0x20e,'mTFw')),console[I1lIlI(0x1b3,'XkKM')](I1lIlI(0xe6,'RKyP')),console[I1lIlI(0x216,'RKyP')](I1lIlI(0x15e,'i1Qt')),console[I1lIlI(0x1c0,'EOGo')](I1lIlI(0x185,'B9rZ')+$['name']+'提示结束=========='),console[I1lIlI(0x1f3,'q%hH')]('');const activityUrl=process[I1lIlI(0x20a,'N72x')][I1lIlI(0x142,'($ZK')]||'',joinMember=process['env'][I1lIlI(0x1bc,'[WE#')]==='true',isNotify=process[I1lIlI(0xdc,'(PoZ')][I1lIlI(0x12f,'mTFw')]==='true';function Iii11l(){const lillIi=(function(){return[...[iｉl,'GQjGtslpjFiPqaClmNiX.JMctKnohRmIh.vP7efA==','WP4jWPhcThq','W4SSWQZcR8k/W7hdJWRdVbBcNcK','8lY9LCkllSkgqCoJ5l655zgf','xCo2WQhcKupcSCoroJe','WRWuW7a','nNjd','fd1Pt8kn','W4JdSW43WPVcHCoEWPS','fWJcTGXcW6S9','W5JdKryXWQ0','WPT9W6ZdS8o9WQ7dIr3dNIu','W7FdGJpcVGb1oSoVWO7dQ8klEq','fu18x8kM','AGNcT3pdPG','W7GqcL3cKCka','bmkjkIVcKbZcOSk1','WPO9EYrGW7KA','W4/cNmkDCSob','Ft/cSY/dUKBdTmo7','WPb6W4ZdTCoGWQldKW','mej8z8kl','ihJcQsVdNuVdQSkXabNdR0/dOSoMWPWWu8kBWPJdRmogbmoozSk5WOSy','WOPVW7BdS153A8kCAZfDW5ffga','W6bEWRKgtmoSzq','WPDTW78','WQRcNwtdOh8SpmoZ','WPzXW78','wGGnW4iNfapdK1BdNq','WRyewHZdGSobWP/dRSoI','hSkdiW','crNcQG9aW60QW6m','W4XLhayGW4tcSG','8jkFGNK','4PQCWRlORllLOP/LHR7MO5lLVRdMRkZNOllNM7VLJ57PH6u','xXD8w8kyugxcKG','WRTmW5RdOSog','wHSjW6iNfbtdLvxdJmkOnSoh','WORcLv/cU8kS','vmkOW5VcV1m','5Rsh5yI65Bs357IN5P2477+I5lQ05Q2U5PA154og5P2J5zcnW7S','WOldP8kZWRGG','WR1BW4W','WQBcLxtdRMq/pq','W5lcOh4am8kmW4e','FXiIw8k0beXYWPm','WOP3BmkVWQ/dJSoK','fXTTwSkQD3tdGG','W79AWRC','WRiyvXnWW480bHC','W5tNUPFLJA0i','WQddOGP+vM7dSqK','W6KHjSkOBW','mCoJWRqxhmo5DdybWPhdJmkd','WQZcIdhcP8kI','rc3cRI7dVW','nCkEW6epW4GX','4PIVW7ZORzZLHlBLRzdKUz3LVBxOPklNMPNNJ6tLOlJLJ53PHApLKyFLHPROVzVOOPROHAVMNRO','bCoaWO7cQYTQoW','W6mlf33cJCkq','W7VNIQNLPzBOI7Cw','pwPpfmkC','WOS3ytfNW74y','W4XwpdyM','W5DHaWaK','spcUN6lVUkG','WPnLW6VdKgrNsSkfrt8','m8kfW6ySW5yKbG','jqBcUq','W6pXHRgD','WRBcRx3dNL4','W7zFWOeMwa','W79sW6yfW4tcIty3','W5hcP2i','W4xcTfCXmG','W53cRmkfEq','W48fimkUzSoO','o8kvW7W4W5SRbCk4WOdcT0xdSdJdSJ8','osuVDCo6W6nuWOBdQCkQgg5RxhzVECk9umknnSoGbSomhbeZpJlMM5NLKRdLHOZKVPxVVPBcM3BcIbW7uIBdSZ5z77YT77+y6BIY6k+85lQi5ywS5l+O','5BQI6zkX5zgu56wO776Obq','hJtdJW','WRnqhbZdT8of','xsq0W70','tmkhW45AsW','4P6fWQZOHBpMNl7OV7pOOyBPG5pLIyRKUyRPLzJOR7hdMW','xCoIWRxcKuNcISo8idily0tdSq','uuCJ','W6BcSSoyg8k4ya','WOyfWOhcHNqYtW','W4FcUKuKm8kp','WOTkW4VdSCod','5RE/5yMC5BE157My5P2U772b5lMA5Q635Ps+54cl5P6a5zcrfW','Af9WWQSnWOa','WQpLR4lNIAeC','boA1RowjTow2REs4UGC','W43dNJi9WOO','WPdcKflcRSkgWPy6','WO7cIfW','5RwO5yUP5BAc57Um5P+m776b57UG5P6+5Pw66zsW772L','5P6W6igm6i295y2d55A55OUd6yUo5P+M5l++5Ocs77+I','w8o3WQVcOwy','qIi3W7ZdNve','DYuiW5iA','W6CBf1ZcHSkgjhm','W71abHddTSoe','gSoNWRBcKvxcSCowk2e','uCoZWRhcL08','q2NcM8ooW5zNWQyLWPFdHG','WPT9W6ZdLmoQWQRdMa','ErFcQxVcOeeSW4FcUYxdL8kod8kCA8kHsW','W6tNUkFMNzJVVOFKUlRMRAZMLRJNGk/MNRlLKPxcMW','WR9GW6mcW6u','j1rXymkkk09sWOi','vCojeSkGW4Kkm00','u3bFWRGu','5REY5yIK5BAB57Ub5P28','AqWlW4GB','W4hdU2xdGYPpW78','W5adkq','WO91W6VdM2f+yW','WPxdOSkWWQmI','ACoHWQdcHMNcJ8oskG','6i2c5y64WRpcOKKSrmo5i+wNPUI0JG','uYiH','cuTLWOVdOG','lx1cWPZdKW','l3LcWOBdHdmlWQy','fSkdjZRcMaVcHCkL','WPDwxmkUWOW','cSokWPNcOq','bsaovmo0ACk3','iKjKCW','tmo9WRBcGgBcISoBdd0nCG','8ykIImof56Ij5Rcq','WRnuW7epW5S','aIpcUXdcUa','W43dVG8JWRdcLSo6WPO','W6RdKmk4W6BdTmkHW4JdIq','WPKRAtnrW5Gtktqkoey','W60ieGVdNmozWPHk','WR0EW6tdGCkNwSkT','FqZcSN/dKW0HW5hcQq','WRFcN27dU2m4pW','fX7cOG','WRhcKWxcI8kBWOC','W5Whl8kzBmoFfw7cOs7cNKm','W7jwWQqFAmoWF1hdOmoYWPy','yZlcRYZdLuddVa','kaRcJbPx','W6bbWQiFCmo+yK7dJa','8kgVPmoL54Mo5AwK6iU2'],...(function(){return[...['gmkigYxcNadcJmk2ANFcJ3VcTdZdQNr0WRm7W4BcICooW7a','eL11kSopW5W','W7FdLmk5W6BdSmktW58','wuWTiq','eCknnJVcQGlcGSkIEW','oI8dESoHW7K','WPFORlNMSzJLKPNLU47dGq','WPbfWPeHyvXPwSk9WPFdSvO9sSkcb8kq','WOvUW7VdIwrYyq','WQj1WQW3','xd88W7xdU0i','WRRcL13cTCkC','WO81zIvAW7W','laFcQa','8kM3Jo+4Q1JKV6dMGPRLIk8','WOHLW77dUwHTDW','W6GrWQrsWOhdTJ1/W7LLDSoY','5zAp5AY6hx1iB8o66l695P+t','W47cJSoPbSkh','W5CueCkbyCoIf2FcOa7cJhhcQg4uW5vGW7/cLmk7','5P2y5Akh5z205zYp','CWu0W43dPq','mmk7W6ShW70','W6RdNe7dJGr3W4ObWQe','WRnmpcNdQq','mCkdW7u','AJJcVYRdMuldT8oQ','rSonWOvVf0yWW7/cOeW','DdxcVHhdRa','44kk5O2H56EW44ke6k2M5yA86iYn5y2ZxblcJmkNhCkf','WQFdQqX2FgtdOrC','WQmqW77dGSkusmkM','W4dcVmkfySoqW5al','WO/dO8kIWR8xmu5A','WOpdJCk/WPuV','WPTZB8kUWPxdKCo5lXW','gJatySo7AG','WQJdQa13r1xdVq7cQsXT','tooaS+A0Q+wkUUwFNUwCPEoaVW','BNXniSkUWRaoW5ZcSCo5','BHJcS2m','WOihWOBcKKKW','5yMJ5yAd5BU86zc05l+V5zk75As16lA+776W5Rw75yM55lUr6zUH5BMe6zcV5l295zcd5yY95lMc','mSoOWPmCWOn/','8lEEIE+5OfxNU6pLJQBVV40','WPLLFmkOWQ7dS8oXmq0','W4tcT8kvFCoeW5mlaq','WONcN2tcTmk9WO0ZWP/dHmkkW4xcRSkxrvxdPf3cRXDoWRJcR8kRhCk5WOxcGoABOUwtGUMbNUEETU+8ULK+AuFdPCkeW5yAtapVVz3VV7NPUyRORk3KURdPGj/NNk0','EqJcRLNdRq8SW43cSbRdGSkia8oEla','WR5CdZddS8oEWRXKWOK4W5m','wY48W7ZdRuJdIJq','WOXuW7asW7JcOt9V','W7GkhfxcKa','WQGlycLf','8lcgOE+5GCol5lYq5OgS5yMi','g8kcjYpcGaRcJSkI','44gd5O6r56wk44co6k2K5yEf6i6e5yY3W4/cQXbAyvG','WOHVW6ZdQwn+ACkj','WRLwaW','oCoKWOWBWODQWPW','DbiMkSoCv2DqWRbWWOGJ','CxefhCop','WO1ZW7G','Bmk+W6C','lrVcQa','W6faWR4ZCmo9','W4qwW5fgnrDYtmkkWR3dULy','tSoNWQVcSuNcIG','W5qXW63dRSoIWQVdJKVdHstcMIVdOM03w3NdPmkJWPC','5Bst5yIM6lEQ','WRqnWOVcK1yZ','WPhcH2ldUx8SpmoZ','WRHdW7efW5lcNZX/W6y','WP0bWOxcKW','W5xMIOlKUzBLR4FNI6ZcLW','8jIZHCoG56MX5Rky','WR4AW7RdLW','f8oUWPeCWOnJWO3dQNiQW74O','WP9pWPyhAK50ua','DmkcW5ZcIuGJea','E8kcW58','bmknkdRcKa','W41Vca','WRKvW6tdL8k0sq','WPPfWPyazuH8','W7LrWOqzDCo8zq','W4uVimoNW7FcGmkTyvxcUq','5RER5yUt5lMs6zUI5BMr6zoh5l+s5zcs5y+m5lUk','lGaVW71vW4flASoSWQVdQmoE','FLj6WQOgWQHnA8o7WRhdQq','W5C6EI5BW79zit8OiutcMmk8xKiz','i3zvr8k7','W6hcUCoogSkvESofW44','W6KxfSkowa','h8kjnZZcLaNcJG','mIieDSoLW6rhWPJdMCk2eW','W6ddMCoNW5BdN8oyW4ddJsqmW57dVfRdMCk4ASkUlL0wemoPW4ddQSk8AmkXW7PjW7TlWRldJZL7W6WBWOldG8o0WPVcMCkMbfbonq','imoZWPyf','W6FcT8oDkmkt','4PMApUITR+wJSEweKUAJU+w+SUASH+EJUEEBHEMqHUApQW','mmkFW7u','yos9S+AcMEwkVXq','W53dPauYWORcKG','frfV','5yYi6yA06k2J5PQ8W7SaW7v3m8o5WQDYbgq','CrJcTe3dOaaV','s8odd8kWW4izf0W','W5pdPqC','cGTRxq','mSkrW78p','WPb5A8kmWPm','EGlcO37dOqqMW5y','W5pdS8k7W4xdLG','WOHcW7VdQKS','WOddS8kdWPug','W7aDdxBcGSkzca','W4tcU3K3p8ksW5C','cVc0J70','WPH4W6FdPxvNFmkuxIXiW4TyeSocgmo4tsZdO8okC13cQSkQceNcUeiWWRbDW4xdKCk/WOFdQNCvWPC','5yUM5ywg5BQh6zoO5l+05zc95AsF6lsA77+R5RsU5yMo5lQL6zUu5BUT6zgv5lYj5zgb5y2a5lI45zkSwa','iCkghJxcSW','WRjAccRdPmoqWQ0','WPCjqdLG','mmoGWOSj','pJix','CCkgW5VcQxe0euxdVNBcPSo6WRrM','WQ/dPre','WOyMWRRcMfi','WOWZyYrB','WOfJW6VdGMr7oq','WPKbWO8','rmojcmkbW4aDf0ZdTSodbcFdKmk5','omoUWPG','AtlcSG3dLuNdVCoXpY/dUvJdP8o7WQq','5RAH5yIz5Bs457Mg5P+o77+457MP5P+65PEP6zAj77+5','W4/dM+s4TUMFNUILLEwfRUwlToI3Lq','WP93ACkFWQBdMmo9oqBdSgaSW6tcGq','WQxcJXm','W7WBcKVcGSktca','W73cIKuqbCkIW6SJgmo/WRa','usq6W63dN0pdKs0','W4FcVCkPE8oyW5KjfCo1e8kngrLYdwBcTCozW4JcPedcP8oZaLG','W4xdQMpdOJK','WQekW4tdLCk8','WP0YBbvCW6yt','WOXVW7G','AKv7WR0RWPmz','WQ/NUi/MN7tVVBlKU4hMRlxMLzNNGjRMNBJLKAZdHq','wc4QW6VdK0hdMG','BCkIW6C','WQhcIWZcMCkg','5Bsk5yQY6lsW'],...(function(){return['yJJcUW','WRGEW7BdLSkJt8k7','qmolWP9uaeeGW6NcHhT4t1DdmW','WQ7cGXJcVCkuWOrH','wsq+','WP5oWOewFa','8yUtK8k356Ui5Ros','aSkdnZVcTaRcJ8ksBMVcNa','sSopWOvLcq','W5FdUbm2WOZcGW','fYdcIsRcSa','gt7dKCkj','W5xcR2KXd8ktW4G','WQXL5y6elG','WQL1cqJdGW','AmktW6rvBG','WPldRCkUWQSAkLu','cffng8ka','t8odgW','mN1fWP3dIZud','iSoHWQlcKHvoeCk0B8kUkG','W4bJgXW3W4RcOYxdTMvt','WRbMWRuqvq','iSoKWPemWOn/WRdcOW','kufGWQFdSa','zCkWW4zqW5jpWPhcNv87W6y','WQxcG0RcPmkx','W6bbWR8gFCo4EvW','8jIQNt4','W7/NUR3MNRFMLidPL5lVVz0','mx1tWORdTtWtWQ4','btRdGCko','5Rsh5yI65yAG5yYx77Y9','W5mri8ko','zqqkW4W','nvDIE8kaaKDzWP4','jSkIW69xwSkSy2vAW7C','WRBcKEs7H+MELEIKKowfUEwiMUI2Ia','cSoeWO7cVr9/mG','WPnRW7BdRv9QAG','W4hcTSkr','mNDChmk+','WQZdOG1gsMFdSq','wYO0W70','WPqZBW','WQtcGX/cI8kzWOzPW77dKJtcK23dUmk3','W4hcQNqUlG','WQVcGxpdJv0SnG','W70rhG','cGP6ASk4vgJdL8klw8onWQTe','s1ZdVeCxW44WW40bW7Sz','F+IVR+AXTowNN+I2J3lIN7RdOW','c8oeWO/cRbvHn8kssW','WPpcJbpcHmkW','W4ZcVSoJkmk+','hsNdNSkZWO0','8yMhTU+6MKdKVQ7MGkdLIAO','Ev9M','W6fjWQtcHSoZc8o/CJFdTmoRofWRWQFdOmo7WP4RWRX7WRRdKWPnWOb9W5TMc8o9DrKfWRFcLG','WOFdIrXItW','yslcQbNdMeBdVG','wFcGSl4','Bf13WR8WWOjk','W7rqWQqZCSo8zK3dM8o0WRJcReVcIa','W5ldUqC','5Bss5yQG6lAY','vvO3mmoRW6y','WQZdOH8','WR4uW6a','WPD7W6VdQCoQWQddMa','hatcVq','gmkigYxcNadcJmk2ANFcJ3VcTdZdQNr0WOGMW57dGmkhWQyh5Rsb5yUS6zcQ5O2+','8yk+QCofi0H6sUs8R+wsIW','5AwX5zgV5zo856E27727','WRnqha','ctuns8o8BCkZWRldSG5gm8o/emkozCkdEmkni2WfWRtcKCknAriwW5pdV8kacIe','m3nahCka','WONdQCk0WQ8MpLzs','kePZECkGbenA','pY4x','WO9bEmotoSk+ow/cKGxcHw0','WPqzWONcHeijqmo6gW','5P2S6ioE6i6N5y+e55Eg5OMs6yMA5P285lYg5Og6','BfnQWOilWO9QDSo9WRC','B1LTWRSJWPnaxmo/WQ7dRG','W4qcomkbCG','auT6pmoeW6idlCkRbCk5ra','srlcIa','gIajvCoS','W6RcSSopkSkJECov','gW7cSrzvW6uSW64XW7C','jSkIW6Lgfq','btldHSkEWOWM','ft7dNmkVWPe9W4f8W5ZcLYNcTCoEW5fO','m3nxhCkkdG','8jE8PvZNI7xLP6VOIii','j0bKE8kydfPgWRjNWOO','WRPrhW3dRmoAWQ0','WR1vW7qxW7FcTZn4W69wCmoQ','W7BdNSkT','EVcyNRVVUBC','W7Gqhv3cMW','5yMx6lsn5P+S56wp','CeFdR1ujWQzY5B6x5AAZ44kd5lUD5lUN6lw25yYn','tSoAWPrRkeS','gZxdI8kwWPy1W7rU','FLj6WQOgWQHkASoZ','psqvE8omW6ngWOW','W73cIKuefSk0W7C','usq3W70','WRFcGhxdOL8QomoWWQ4','D8ouWQDKfa','5yQB5yso5BUU6zg95l2t5zcO5OMh5yIL','omoKWPepWPjL','jaFcRdBcM3NcVSk9','t8o+WQDtmW','WOFdS8oCo8kBWP1K','WQlcNx8','WR9iW7KmW5NcTWfIW6rI','bcOA','W67cQ8okdmkUr8ovW415bCooAa','WO/cLfW','WQpKVytMG6JLIBLO','WRTtW7SZW4lcOszVWROYySoQccRdNCo9','rCofba','qsqYW73dNa','gSkymd/cHLtdHmo+','W6nAdW','W4HUdbK0W4FcSI8','eKL1c8ooW5u','8kgVPo+7IL/NUOhLJONVVyi','77+25BES5OQi5yIf6iwH5yMV55Ug6k+u5PAH6lwM5z+i5zYoWOqu','t8o6WQRcHgNcJ8oskG','u8kcW5Hruq','C8kbW75fW5W3dSk5WPNdI0ldQJ7dQXSOW5xcN8kSWQdcI8oI','WOD1asOGW5hcSJ3cNG','qSopcmkTW5OrdLddJCofkG','WPvWW4ldS8oC','eYZdICkiWOCFW7bWW4S','nJblCSkH','WOddSCkMWQKSc0jhW7a','WOxdUI5GBCorW6eqbmoxWP3dNG','bLv3oSofW4m','8jY2HU+7K38','W67cNmkszSov','WQmEW7NdLSkiuSk8i2JcVq','W4LLmxidW5KSaIKqbW','WQVcIrJcUSkBWOjPW74','WRFcGgJdU1iSi8oI','W6b+WP0Hsa'];}())];}())];}());Iii11l=function(){return lillIi;};return Iii11l();};let sid=common[I1lIlI(0x1c9,'mBPM')](0x20,I1lIlI(0x201,'6RFL')),un_area=common[I1lIlI(0x1b4,'CO]U')](0x1,'1234567890')+'-'+common['genRandomString'](0x4,'1234567890')+'-'+common[I1lIlI(0xe5,'WjGR')](0x4,'1234567890')+'-'+common[I1lIlI(0x15f,'3GKw')](0x5,I1lIlI(0x103,'diVz'));const prize_type={'JD_BEAN':'[京豆]','JD_POINT':'[积分]','JD_GOODS':I1lIlI(0xf5,'q%hH'),'JD_COUPON':I1lIlI(0x241,'q%hH'),'JD_J_COUPON':I1lIlI(0x194,'JFWu'),'JD_D_COUPON':'[优惠券]','JD_AIQIYI':I1lIlI(0xd4,'LVe!'),'JD_PLUS':'[PLUS会员]','JD_E_CARD':I1lIlI(0x1d4,'PFrX'),'JD_REDBAG':I1lIlI(0xca,'iQqV'),'-1':'[谢谢参与]'};let JSDOM=null,cookie='',activityCookie='',originCookie='';function iii1II(_0x236d99,_0x426e9c){const _0x48a016=Iii11l();return iii1II=function(_0x29138b,_0x571203){_0x29138b=_0x29138b-0xb0;let _0x1f53f7=_0x48a016[_0x29138b];if(iii1II['XslnaB']===undefined){var _0x2b8f7b=function(_0x2bcc06){const _0x3ca85d='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x34f510='',_0x451b54='';for(let _0x51f6aa=0x0,_0x103cf0,_0x539612,_0x58e8fd=0x0;_0x539612=_0x2bcc06['charAt'](_0x58e8fd++);~_0x539612&&(_0x103cf0=_0x51f6aa%0x4?_0x103cf0*0x40+_0x539612:_0x539612,_0x51f6aa++%0x4)?_0x34f510+=String['fromCharCode'](0xff&_0x103cf0>>(-0x2*_0x51f6aa&0x6)):0x0){_0x539612=_0x3ca85d['indexOf'](_0x539612);}for(let _0x58c320=0x0,_0x4250de=_0x34f510['length'];_0x58c320<_0x4250de;_0x58c320++){_0x451b54+='%'+('00'+_0x34f510['charCodeAt'](_0x58c320)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x451b54);};const _0xbd3b41=function(_0x29f44b,_0x19bca6){let _0x5231c2=[],_0x50298b=0x0,_0x14474c,_0x1c11d6='';_0x29f44b=_0x2b8f7b(_0x29f44b);let _0x1a8f22;for(_0x1a8f22=0x0;_0x1a8f22<0x100;_0x1a8f22++){_0x5231c2[_0x1a8f22]=_0x1a8f22;}for(_0x1a8f22=0x0;_0x1a8f22<0x100;_0x1a8f22++){_0x50298b=(_0x50298b+_0x5231c2[_0x1a8f22]+_0x19bca6['charCodeAt'](_0x1a8f22%_0x19bca6['length']))%0x100,_0x14474c=_0x5231c2[_0x1a8f22],_0x5231c2[_0x1a8f22]=_0x5231c2[_0x50298b],_0x5231c2[_0x50298b]=_0x14474c;}_0x1a8f22=0x0,_0x50298b=0x0;for(let _0x290ca2=0x0;_0x290ca2<_0x29f44b['length'];_0x290ca2++){_0x1a8f22=(_0x1a8f22+0x1)%0x100,_0x50298b=(_0x50298b+_0x5231c2[_0x1a8f22])%0x100,_0x14474c=_0x5231c2[_0x1a8f22],_0x5231c2[_0x1a8f22]=_0x5231c2[_0x50298b],_0x5231c2[_0x50298b]=_0x14474c,_0x1c11d6+=String['fromCharCode'](_0x29f44b['charCodeAt'](_0x290ca2)^_0x5231c2[(_0x5231c2[_0x1a8f22]+_0x5231c2[_0x50298b])%0x100]);}return _0x1c11d6;};iii1II['wEuotU']=_0xbd3b41,_0x236d99=arguments,iii1II['XslnaB']=!![];}const _0x237ad7=_0x48a016[0x0],_0x474b0a=_0x29138b+_0x237ad7,_0x1ddeee=_0x236d99[_0x474b0a];return!_0x1ddeee?(iii1II['UIzxaN']===undefined&&(iii1II['UIzxaN']=!![]),_0x1f53f7=iii1II['wEuotU'](_0x1f53f7,_0x571203),_0x236d99[_0x474b0a]=_0x1f53f7):_0x1f53f7=_0x1ddeee,_0x1f53f7;},iii1II(_0x236d99,_0x426e9c);}const cookiesArr=Object[I1lIlI(0x1d2,'diVz')](jdCookie)[I1lIlI(0x17f,'1ZM@')](IlIII=>jdCookie[IlIII])[I1lIlI(0x15a,'XkKM')](ilil1l=>ilil1l);!cookiesArr[0x0]&&($[I1lIlI(0xee,'sY8r')]($[I1lIlI(0x19c,'WjGR')],I1lIlI(0x167,'RKyP')),process['exit'](0x1));!(async()=>{const ii1ill=I1lIlI,illlIi={'gwkld':ii1ill(0x14c,'0RR$'),'tIvpy':ii1ill(0x1e1,'i1Qt'),'QOfVd':ii1ill(0x236,'mBPM'),'WHFiF':ii1ill(0xd1,'rQcN'),'eQull':ii1ill(0x192,'T!5m'),'pIqlN':'user_id','hBdwF':function(IiI1I,illlIl){return IiI1I+illlIl;},'qTSkH':ii1ill(0x1e7,'c)9A'),'eUEUU':function(i11ill,IIIIIi){return i11ill<IIIIIi;},'hPVUR':function(IIIIIl,I1lIil){return IIIIIl!==I1lIil;},'oUHxU':function(IIIl1i,liiII1){return IIIl1i*liiII1;},'bmgWs':function(IIIl1l){return IIIl1l();}};if(!activityUrl){if(illlIi['tIvpy']!==illlIi['QOfVd']){console[ii1ill(0x1f7,'B[M2')](illlIi[ii1ill(0x1d1,'(PoZ')]);return;}else lilIl1[ii1ill(0xb1,'T!5m')](i1l1ii[ii1ill(0x1f2,'grw3')],illlIi[ii1ill(0xd5,'fwiw')]),i1l1[ii1ill(0x132,'sY8r')](0x1);}const I1lIii=common[ii1ill(0x121,'0RR$')](activityUrl);if(!I1lIii){console[ii1ill(0xc8,'lb2q')](illlIi['eQull']);return;}$[ii1ill(0x1dc,'WM6g')]=activityUrl,$[ii1ill(0x14a,'mBPM')]=common[ii1ill(0x224,'diVz')](activityUrl,'id'),$['venderId']=common['getUrlParameter'](activityUrl,illlIi['pIqlN']),$[ii1ill(0x214,'k#qz')]=I1lIii[ii1ill(0x25a,'KxCI')],$[ii1ill(0x116,'gBS9')]=I1lIii['pathname'],$[ii1ill(0x17e,'1ZM@')]=ii1ill(0x245,'mTFw')+$[ii1ill(0x168,'EOGo')];if(!$[ii1ill(0x267,'T!5m')]||!$['venderId']||!$[ii1ill(0x17d,'PFrX')]){console[ii1ill(0x262,'fwiw')](ii1ill(0xba,'c)9A'));return;}notify['config']({'title':$['name']}),console['log'](illlIi[ii1ill(0x1d6,'R[bx')](illlIi[ii1ill(0xf2,'T!5m')],$[ii1ill(0x24f,'aJ[)')]));for(let i11ili=0x0;illlIi[ii1ill(0x18a,'vV[Z')](i11ili,cookiesArr[ii1ill(0x238,'XkKM')]);i11ili++){if(illlIi[ii1ill(0x23a,'mBPM')](ii1ill(0x19d,'B9rZ'),ii1ill(0x191,'rQcN')))Illl1l[ii1ill(0xb0,'lb2q')]=!![],Illl1i[ii1ill(0x1c7,'CO]U')]('❓'+lIIiil+'\x20'+l1lIii['stringify'](I11iI1));else{$[ii1ill(0xbe,'i1Qt')]=illlIi[ii1ill(0x1a0,'EOGo')](i11ili,0x1),cookie=cookiesArr[i11ili],originCookie=cookiesArr[i11ili],common['setCookie'](originCookie),$['UserName']=decodeURIComponent(common['getCookieValue'](cookie,ii1ill(0xf1,'3$hx'))),$['UA']=common[ii1ill(0xfc,'c)9A')]($[ii1ill(0x176,'0X*r')]),$[ii1ill(0x138,'PFrX')]=common['genUuid'](ii1ill(0x1a5,'EOGo')),$['te']=Math['floor'](illlIi[ii1ill(0x1a9,'q%hH')](Math[ii1ill(0x130,'LVQv')](),0x2328))+0x3e8,$[ii1ill(0x14f,'[WE#')]=notify[ii1ill(0x195,'gNW2')]($[ii1ill(0x213,'fwiw')],$[ii1ill(0x111,'c)9A')]),$['nickName']='',console[ii1ill(0x193,'WjGR')](ii1ill(0x22e,'ev&W')+$[ii1ill(0x22c,'B[M2')]+'】'+($[ii1ill(0xb2,'0X*r')]||$[ii1ill(0x162,'A](0')])+ii1ill(0x23b,'[WE#')),await illlIi[ii1ill(0x1c5,'KxCI')](Main),common['unsetCookie']();if($[ii1ill(0x10f,'EOGo')]||$[ii1ill(0x172,'c)9A')])break;}}isNotify&&notify['getMessage']()&&(notify[ii1ill(0xed,'c)9A')](ii1ill(0x155,'vV[Z')+$[ii1ill(0x12a,'lb2q')]),await notify[ii1ill(0x157,'3GKw')]());})()[I1lIlI(0xc1,'k#qz')](lllli=>$[I1lIlI(0xe9,'AEos')](lllli))['finally'](()=>$[I1lIlI(0x234,'grw3')]());async function Main(){const II1iI=I1lIlI,iiili1={'RLicx':'⚠\x20请填写格式正确的变量','kqrCM':'获取\x20Token\x20失败！','VSSeH':'setMixNick','TgXeP':function(ill11i,lllill){return ill11i===lllill;},'vdnzt':II1iI(0x11f,'(PoZ'),'rQOsn':function(ill11l,I1lIiI){return ill11l>I1lIiI;},'SjZzF':function(lllili,IliiiI){return lllili!==IliiiI;},'zbbNX':II1iI(0x141,'rQcN'),'cCTXG':II1iI(0x23d,'A](0'),'NEupl':function(Ill11,liiIII){return Ill11!==liiIII;},'CbHVt':function(li1i11,iI11I1){return li1i11(iI11I1);},'orvIn':II1iI(0x21b,'ftSF')};try{if(II1iI(0x269,'vV[Z')!==II1iI(0x1d5,'AEos')){$['skipRun']=![],$[II1iI(0x21f,'SZG]')]=![],$[II1iI(0xb7,'ev&W')]=!![],activityCookie='';if($[II1iI(0x248,'LVQv')]||$[II1iI(0x198,'3GKw')])return;$['jdToken']=await getToken(originCookie,$[II1iI(0x1ed,'eHVJ')]);if(!$[II1iI(0x270,'T!5m')]){console[II1iI(0x216,'RKyP')](iiili1['kqrCM']),$[II1iI(0x12b,'CO]U')][II1iI(0x1ad,'N72x')](II1iI(0x112,'m&!2'));return;}await sendRequest(iiili1[II1iI(0x114,'gBS9')]);if($[II1iI(0xe4,'($ZK')]||$['outFlag']||$[II1iI(0x1ee,'EOGo')])return;if(!$[II1iI(0x244,'grw3')]){if('fuZXX'!=='fuZXX')lIIili[II1iI(0xb3,'T!5m')](''+IiiIil[II1iI(0xf9,'i1Qt')]),IiiIii['message']['insert'](''+IIlll[II1iI(0x19a,'gNW2')]);else{console[II1iI(0x1f3,'q%hH')](II1iI(0xfb,'0RR$')),$['message'][II1iI(0x169,'AEos')](II1iI(0x219,'vV[Z'));return;}}await sendRequest(II1iI(0xea,'grw3'));if($[II1iI(0x128,'KxCI')]||$['outFlag']||$['skipRun'])return;await $['wait'](0x3e8);if(iiili1[II1iI(0x18c,'($ZK')]($[II1iI(0x1cc,'PFrX')],0x1)){if(II1iI(0xbf,'1ZM@')!==iiili1[II1iI(0x1f5,'3$hx')])II1liI['log'](''+IlI1i1[II1iI(0x16d,'EOGo')]);else{console['log'](($['shopName']&&II1iI(0xe7,'grw3')+$['shopName']+'['+($[II1iI(0x104,'T!5m')]||II1iI(0x22d,'PFrX'))+']')+'\x0a店铺链接：https://shop.m.jd.com/?venderId='+$['venderId']+'\x0a活动条件：加购\x20'+$[II1iI(0x1e5,'gBS9')]+'\x20个宝贝\x0a结束时间：'+$[II1iI(0x1bf,'q%hH')]+'\x0a'),notify[II1iI(0xbd,'JFWu')](($[II1iI(0x120,'gNW2')]?'\x0a【店铺名称】#'+$[II1iI(0x26f,'CO]U')]:'')+II1iI(0x1e4,'m&!2')+$[II1iI(0xc4,'3$hx')]+'\x0a');const IIIl1I=Date[II1iI(0x20b,'6RFL')]();if($[II1iI(0x137,'EOGo')]&&iiili1['rQOsn'](IIIl1I,$['endTime'])){if(iiili1[II1iI(0x1a7,'mTFw')](iiili1[II1iI(0x14b,'CO]U')],II1iI(0xbc,'T!5m')))lilIli[II1iI(0x152,'B9rZ')]['push'](Iliili['id']);else{console[II1iI(0x23e,'SZG]')](II1iI(0xf6,'CO]U')+$[II1iI(0x220,'rQcN')]+II1iI(0x1c2,'rQcN')),$['message'][II1iI(0x113,'grw3')](II1iI(0x1b5,'0RR$')+$[II1iI(0x1f1,'N72x')]),$[II1iI(0x153,'SZG]')]=!![];return;}}if($['runEnd']||$[II1iI(0x1f6,'0X*r')]||$[II1iI(0x1d7,'k#qz')])return;}}await sendRequest(iiili1['cCTXG']),await $[II1iI(0x1e6,'diVz')](0x3e8);if($[II1iI(0x177,'A](0')]>=$[II1iI(0xc7,'Ou*a')]){console[II1iI(0x13c,'(PoZ')](II1iI(0x1c6,'B9rZ')+$[II1iI(0x231,'ftSF')]+'/'+$[II1iI(0x150,'k#qz')]+II1iI(0x1ec,'0RR$'));return;}else{console[II1iI(0x1b1,'m&!2')](II1iI(0x174,'k#qz')+$[II1iI(0x260,'c)9A')]+'/'+$[II1iI(0x161,'grw3')]),$[II1iI(0x133,'mTFw')]=[];for(let IlIlli of $[II1iI(0x163,'B[M2')]){iiili1[II1iI(0x202,'N72x')](II1iI(0xcf,'CO]U'),'Pgscy')?$[II1iI(0x125,'3GKw')][II1iI(0xe3,'[WE#')](IlIlli['id']):lilii['need_num']=0x3;}for(let lil111 of $[II1iI(0x1fb,'eHVJ')]){if(!$[II1iI(0x25b,'0X*r')])break;if($[II1iI(0x188,'ftSF')]['includes'](lil111))continue;$[II1iI(0x22f,'mBPM')]=lil111,await sendRequest(II1iI(0x1ce,'mTFw')),await $['wait'](0xbb8),$['retry']&&(await iiili1[II1iI(0x1fd,'rQcN')](sendRequest,iiili1[II1iI(0x1fe,'diVz')]),await $['wait'](0xbb8));}}}else{IlI1I['log'](iiili1[II1iI(0x1d8,'fwiw')]);return;}}catch(ii1ii1){console['log']('❌\x20脚本运行遇到了错误\x0a'+ii1ii1);}}async function handleResponse(llllI,lllil1){const llI1II=I1lIlI,iil1il={'ejQPF':llI1II(0x186,'6RFL'),'RSoCd':'followShop','tQydA':llI1II(0x26a,'3GKw'),'IBqPG':llI1II(0x178,'m&!2'),'UPNaY':'活动已结束','bKxNg':'shop_title','yrvjz':llI1II(0xb4,'JFWu'),'sKMWV':'addnum','ATXmY':llI1II(0x242,'A](0'),'fciIm':'itemsIds','RgIet':function(ilil1I,i11il1){return ilil1I===i11il1;},'lKymG':llI1II(0xde,'0X*r'),'sHRnt':llI1II(0x1f0,'fwiw'),'bEkcp':'已填地址','LFAwv':'JD_E_CARD','MEAHV':llI1II(0x144,'grw3'),'CEdwd':'部分会员','SSXsy':function(ii1iiI,lllilI){return ii1iiI===lllilI;},'fGvbS':llI1II(0x147,'AEos'),'auDNN':llI1II(0x1a6,'vV[Z'),'kgyBR':llI1II(0x159,'KxCI'),'CtiLm':'PWhhp','vYVIZ':llI1II(0x250,'T!5m')};try{switch(llllI){case iil1il['RSoCd']:if(lllil1&&lllil1['succ']){}else lllil1[llI1II(0x148,'WjGR')]?iil1il['tQydA']===llI1II(0x110,'k#qz')?(console[llI1II(0xb3,'T!5m')](''+lllil1['msg']),[llI1II(0x140,'N72x')][llI1II(0x247,'WM6g')](lllil1[llI1II(0x16f,'(PoZ')])&&($[llI1II(0x170,'lb2q')]=!![])):i11I1l[llI1II(0x131,'0RR$')][llI1II(0x243,'aJ[)')](lil):($[llI1II(0x14e,'6RFL')]=!![],console[llI1II(0x1b1,'m&!2')]('❓'+llllI+'\x20'+JSON[llI1II(0x235,'0X*r')](lllil1)));break;case llI1II(0xda,'EOGo'):if(lllil1&&lllil1[llI1II(0x19b,'Ou*a')])$[llI1II(0x1af,'q%hH')]=lllil1[llI1II(0x1ab,'RKyP')];else lllil1['msg']?console['log'](''+lllil1[llI1II(0x148,'WjGR')]):($[llI1II(0xd6,'q%hH')]=!![],console[llI1II(0x1cb,'grw3')]('❓'+llllI+'\x20'+JSON['stringify'](lllil1)));break;case iil1il[llI1II(0x19f,'0RR$')]:if(lllil1){let illlI1=lllil1[llI1II(0x102,'c)9A')](/(活动已结束)/)&&lllil1[llI1II(0x1cf,'mBPM')](/(活动已结束)/)[0x1]||'';if(illlI1){$[llI1II(0x100,'iQqV')]=!![],console['log'](llI1II(0xc0,'c)9A')),$[llI1II(0xb8,'WM6g')][llI1II(0x200,'ftSF')](iil1il['UPNaY']);return;}let IIIl11=lllil1['match'](/加购(\d+)个宝贝/);IIIl11?$['need_num']=IIIl11[0x1]:$[llI1II(0x14d,'N72x')]=0x3;if(!JSDOM)JSDOM=require(llI1II(0x11e,'A](0'))?.['JSDOM'];const I1lIi1=new JSDOM(lllil1);$[llI1II(0x1a2,'B[M2')]=I1lIi1[llI1II(0x158,'m&!2')][llI1II(0x149,'CO]U')][llI1II(0x1f4,'KxCI')](llI1II(0x10d,'LVe!'))?.['value']||'',$[llI1II(0x24b,'c)9A')]=I1lIi1[llI1II(0x223,'diVz')][llI1II(0x117,'mTFw')][llI1II(0x206,'lb2q')](iil1il[llI1II(0x151,'k#qz')])?.['value']||'',$[llI1II(0x1de,'XkKM')]=I1lIi1[llI1II(0xfd,'grw3')][llI1II(0x1bb,'grw3')][llI1II(0x1b2,'aJ[)')]('vender_id')?.[llI1II(0xd8,'WM6g')]||'',$['endTime']=I1lIi1[llI1II(0x13b,'q%hH')][llI1II(0x239,'(PoZ')][llI1II(0x1b7,'B9rZ')](iil1il[llI1II(0x21c,'($ZK')])?.[llI1II(0x271,'vV[Z')]||'',$['added_num']=Number(I1lIi1['window'][llI1II(0x19e,'3GKw')]['getElementById'](iil1il[llI1II(0x25c,'lb2q')])?.['innerHTML']||0x0),$['items']=I1lIi1[llI1II(0xf4,'ftSF')]['document']['getElementsByClassName'](iil1il['ATXmY']),$[llI1II(0x154,'N72x')]=(I1lIi1[llI1II(0xfd,'grw3')]['document'][llI1II(0x1ac,'1ZM@')](iil1il['fciIm'])?.[llI1II(0x180,'mTFw')]||'')['split'](',')[llI1II(0x255,'LVQv')](liiIIi=>liiIIi);}else{if(iil1il[llI1II(0x12c,'ev&W')](iil1il['lKymG'],iil1il[llI1II(0x145,'WjGR')]))console[llI1II(0xe8,'diVz')]('❓'+llllI+'\x20'+JSON[llI1II(0x12d,'lb2q')](lllil1));else{Iil1I1[llI1II(0x240,'i1Qt')](llI1II(0x208,'EOGo')+Ii1iII[llI1II(0x231,'ftSF')]+'/'+l1i11I[llI1II(0x18b,'rQcN')]+llI1II(0x1b6,'i1Qt'));return;}}break;case llI1II(0x11c,'c)9A'):if(lllil1&&lllil1['succ']){if(iil1il[llI1II(0xf7,'gNW2')]===iil1il[llI1II(0x1ae,'m&!2')]){console[llI1II(0x1f7,'B[M2')]('加购['+$[llI1II(0x139,'grw3')]+']成功');if(lllil1?.[llI1II(0x1c4,'R[bx')]?.[llI1II(0x230,'diVz')]('isSendSucc')){$[llI1II(0x1e2,'lb2q')]=![];let Iliii1=JSON['parse'](lllil1[llI1II(0x1ab,'RKyP')])?.[llI1II(0x229,'A](0')],iIiIi=Iliii1?.[llI1II(0x253,'k#qz')];switch(iIiIi){case'JD_BEAN':console[llI1II(0x246,'iQqV')]('🎉\x20'+Iliii1?.[llI1II(0x108,'vV[Z')]+llI1II(0xdd,'KxCI')),$[llI1II(0x265,'ev&W')][llI1II(0x26b,'B[M2')](llI1II(0xb9,'grw3')+Iliii1?.[llI1II(0x218,'m&!2')]+llI1II(0x204,'Ou*a'));break;case'JD_POINT':console[llI1II(0xb6,'mTFw')]('🗑️\x20'+Iliii1?.[llI1II(0x21d,'LVQv')]+Iliii1?.['awardName']+llI1II(0xd9,'SZG]')),$[llI1II(0x20c,'T!5m')][llI1II(0x26b,'B[M2')](llI1II(0x256,'CO]U')+Iliii1?.[llI1II(0x122,'q%hH')]+Iliii1?.['awardName']+llI1II(0x22b,'fwiw'));break;case llI1II(0x146,'LVe!'):console[llI1II(0x181,'WM6g')]('🗑️\x20优惠券'),$[llI1II(0x1c3,'grw3')][llI1II(0xef,'rQcN')](llI1II(0x1ff,'A](0'));break;case'JD_GOODS':const iil1ll=JSON['parse'](lllil1['msg'])['actLogId'],iiilil=Iliii1['awardName'];console[llI1II(0x1d9,'aJ[)')]('🎉\x20恭喜获得实物~'),console[llI1II(0x240,'i1Qt')](llI1II(0x210,'mBPM')+iiilil);const iil1li={'baseUrl':$[llI1II(0xc3,'0X*r')],'cookie':activityCookie,'ua':$['UA'],'venderId':$[llI1II(0x109,'aJ[)')],'prizeName':iiilil,'orderCode':iil1ll,'activityUrl':$[llI1II(0x18e,'RKyP')]},lillIl=await jinggeng_savePrize(iil1li);!isNotify&&lillIl&&await notify[llI1II(0x258,'6RFL')]($[llI1II(0x17b,'6RFL')]+'中奖通知','【京东账号'+$[llI1II(0x1cc,'PFrX')]+'】'+$[llI1II(0x215,'vV[Z')]+llI1II(0x179,'AEos')+iiilil+llI1II(0x24a,'T!5m')+$[llI1II(0x160,'AEos')]);$[llI1II(0x18d,'mTFw')][llI1II(0x1d0,'gNW2')](iiilil+'('+(lillIl?iil1il[llI1II(0x26e,'[WE#')]:llI1II(0x143,'mTFw'))+llI1II(0x1a4,'aJ[)'));break;case llI1II(0x1db,'eHVJ'):console['log'](llI1II(0x13d,'fwiw')),$[llI1II(0x16a,'XkKM')][llI1II(0x209,'sY8r')](llI1II(0x165,'($ZK'));break;case llI1II(0x1ba,'3$hx'):console[llI1II(0x207,'gNW2')]('🗑️\x20优惠券'),$[llI1II(0x1ca,'KxCI')]['insert']('🗑️\x20优惠券');break;case'JD_AIQIYI':console[llI1II(0x196,'Ou*a')](llI1II(0x12e,'ev&W')),$[llI1II(0xd2,'eHVJ')][llI1II(0x182,'6RFL')](llI1II(0x226,'aJ[)'));break;case llI1II(0x233,'3$hx'):console[llI1II(0x181,'WM6g')](llI1II(0x20f,'PFrX')),$['message']['insert'](llI1II(0x25f,'rQcN'));break;case iil1il[llI1II(0x10a,'ftSF')]:console['log']('🎉\x20E卡：'+Iliii1?.['awardSendNum']+Iliii1?.[llI1II(0x251,'diVz')]),$[llI1II(0x16a,'XkKM')][llI1II(0x182,'6RFL')]('🎉\x20E卡：'+Iliii1?.[llI1II(0x129,'($ZK')]+Iliii1?.[llI1II(0x251,'diVz')]);break;case llI1II(0xc9,'q%hH'):console['log'](llI1II(0x15b,'WM6g')+Iliii1?.[llI1II(0x23f,'rQcN')]+Iliii1?.[llI1II(0x15c,'B9rZ')]),$['message']['insert'](llI1II(0x249,'ev&W')+Iliii1?.['awardSendNum']+Iliii1?.['awardName']);break;default:console[llI1II(0x22a,'0RR$')](Iliii1);break;}}}else lilil['log']('❓'+ll1ll+'\x20'+Illl11[llI1II(0x1ea,'vV[Z')](ii1lI));}else{if(iil1il[llI1II(0x16c,'sY8r')]===iil1il['MEAHV']){lllil1[llI1II(0x16d,'EOGo')][llI1II(0xcb,'N72x')]('未中奖')?(console[llI1II(0xb3,'T!5m')](llI1II(0x17a,'3GKw')),$[llI1II(0x1a8,'AEos')][llI1II(0xd0,'WjGR')]('💨\x20空气')):(console[llI1II(0xb6,'mTFw')](''+lllil1[llI1II(0x10e,'($ZK')]),$[llI1II(0x1b9,'B[M2')][llI1II(0x225,'fwiw')](''+lllil1[llI1II(0x127,'ev&W')]));err=lllil1['msg'];for(let iiilii of['不足','火爆','上限','次数']){if(llI1II(0xeb,'R[bx')!=='LVNxc')i1illi[llI1II(0x1d9,'aJ[)')](llI1II(0xec,'N72x')+i1illl);else{if(err[llI1II(0x166,'mTFw')](iiilii)){$[llI1II(0xf8,'i1Qt')]=!![];break;}}}for(let IlIli1 of[iil1il[llI1II(0x257,'[WE#')]]){if(err[llI1II(0x15d,'[WE#')](IlIli1)){if(joinMember){if(iil1il[llI1II(0x24c,'R[bx')](iil1il[llI1II(0x107,'A](0')],iil1il[llI1II(0x266,'gNW2')])){const illIiI=await common[llI1II(0x273,'EOGo')]($['venderId']);if(illIiI)$['retry']=!![],console[llI1II(0x16e,'R[bx')](llI1II(0x237,'JFWu'));else{$[llI1II(0x205,'ftSF')]=!![],console['log'](iil1il[llI1II(0x1a1,'k#qz')]),$[llI1II(0x14f,'[WE#')][llI1II(0xe1,'3$hx')](iil1il[llI1II(0x25d,'m&!2')]);return;}}else{i1ili1[llI1II(0x16e,'R[bx')]('⚠\x20请填写格式正确的链接');return;}}else{$[llI1II(0xf0,'m&!2')]=!![],console[llI1II(0xc8,'lb2q')]('活动仅限店铺会员参与哦~'),$[llI1II(0x183,'PFrX')][llI1II(0x1b8,'KxCI')](iil1il[llI1II(0xdf,'lb2q')]);return;}break;}}for(let Ill1l of['休息','太快了']){if(iil1il['CtiLm']===llI1II(0x164,'q%hH')){if(err[llI1II(0xcb,'N72x')](Ill1l)){if(iil1il[llI1II(0x1df,'gBS9')]!==llI1II(0xce,'KxCI'))IIll1[llI1II(0x232,'RKyP')]=ll1il[0x1];else{$[llI1II(0x115,'gBS9')]=!![];break;}}}else I1ilIi[llI1II(0x261,'6RFL')](llI1II(0x1cd,'6RFL')),IiiiI[llI1II(0x124,'6RFL')][llI1II(0x134,'RKyP')](llI1II(0x11d,'PFrX'));}}else{l1l11i[llI1II(0x126,'0X*r')]=!![],l1iIl['log']('活动仅限店铺会员参与哦~'),illIll[llI1II(0x1b9,'B[M2')]['fix'](iil1il['ejQPF']);return;}}break;}}catch(Ill1i){console[llI1II(0x211,'AEos')]('❌\x20未能正确处理\x20'+llllI+llI1II(0x135,'3$hx')+(Ill1i[llI1II(0x11a,'SZG]')]||Ill1i));}}async function sendRequest(ii1iil){const lIli1l=I1lIlI,lllI1l={'rzMeh':lIli1l(0x1e9,'grw3'),'oDAtF':'setMixNick','mCaqx':'followShop','LNqUS':lIli1l(0x189,'q%hH'),'GFPcQ':lIli1l(0x212,'SZG]'),'TQhCg':lIli1l(0x105,'3GKw'),'IsPsG':lIli1l(0x18f,'0RR$'),'mVSCg':'keep-alive','PjxJE':'application/x-www-form-urlencoded;\x20charset=UTF-8','XxZmM':lIli1l(0x21e,'CO]U'),'qqSgz':lIli1l(0x17c,'XkKM'),'TWarb':'text/html,application/xhtml+xml,application/xml;q=0.9,*/*;q=0.8','RgrOR':'YlfkH','ONCLT':function(iiiliI,li1i1I){return iiiliI>=li1i1I;}};if($['runEnd']||$[lIli1l(0x203,'CO]U')])return;let i11iii=$[lIli1l(0x26d,'q%hH')],llI1Ii={},lllI1i=lllI1l[lIli1l(0xe2,'3$hx')];switch(ii1iil){case lllI1l[lIli1l(0x118,'B9rZ')]:i11iii+='/front/setMixNick',llI1Ii=lIli1l(0x1f8,'Ou*a')+$[lIli1l(0x184,'lb2q')]+lIli1l(0xe0,'A](0')+$[lIli1l(0xff,'B[M2')]+lIli1l(0x1eb,'R[bx');break;case lllI1l[lIli1l(0x263,'Ou*a')]:i11iii+=lllI1l[lIli1l(0xfe,'JFWu')],llI1Ii=lIli1l(0x1c1,'ftSF')+$[lIli1l(0x264,'gNW2')];break;case'home':lllI1i=lIli1l(0xc2,'T!5m'),i11iii+=lIli1l(0x24d,'WjGR')+$[lIli1l(0x221,'ev&W')]+lIli1l(0x101,'c)9A')+$[lIli1l(0x26c,'mTFw')]+lIli1l(0x222,'R[bx')+sid+lIli1l(0x24e,'WM6g')+un_area;break;case'postAddCart':i11iii+='/ql/front/postAddCart',llI1Ii=lIli1l(0x1b0,'EOGo')+$['activityId']+'&user_id='+$['venderId']+lIli1l(0xbb,'Ou*a')+$[lIli1l(0x139,'grw3')];break;default:console[lIli1l(0x23e,'SZG]')]('❌\x20未知请求\x20'+ii1iil);return;}const li1i1l={'url':i11iii,'method':lllI1i,'headers':{'Accept':lllI1l[lIli1l(0x1dd,'PFrX')],'Accept-Encoding':lllI1l[lIli1l(0xcc,'($ZK')],'Accept-Language':lllI1l['IsPsG'],'Connection':lllI1l[lIli1l(0xd7,'WM6g')],'Content-Type':lllI1l[lIli1l(0x1fc,'KxCI')],'Cookie':activityCookie[lIli1l(0x190,'XkKM')](),'Host':$[lIli1l(0x199,'aJ[)')],'Origin':$[lIli1l(0x1d3,'3$hx')],'Referer':$[lIli1l(0x227,'vV[Z')],'User-Agent':$['UA']},'body':llI1Ii,'timeout':0x7530};if(lllI1i===lllI1l['XxZmM']){if('AnjES'==='AnjES')delete li1i1l[lIli1l(0x119,'eHVJ')],delete li1i1l[lIli1l(0x1c8,'6RFL')][lllI1l[lIli1l(0x1be,'6RFL')]];else{Iliiii[lIli1l(0x196,'Ou*a')](lIli1l(0xf6,'CO]U')+i1illI[lIli1l(0x228,'AEos')]+lIli1l(0x106,'0X*r')),i1IIl['message'][lIli1l(0x23c,'0X*r')](lIli1l(0xfa,'RKyP')+I1lll1['endTime']),i1IIi[lIli1l(0x170,'lb2q')]=!![];return;}}ii1iil==='home'&&(li1i1l[lIli1l(0x13e,'EOGo')][lIli1l(0x175,'m&!2')]=lllI1l['TWarb']);const II1i1=0x5;let lI1lll=0x0,iIiII=null,iil1lI=![];while(lI1lll<II1i1){if(lIli1l(0x13a,'i1Qt')===lllI1l[lIli1l(0x10c,'JFWu')]){lI1lll>0x0&&await $['wait'](0x3e8);const ii1il1=await common[lIli1l(0xc6,'B9rZ')](li1i1l);if(!ii1il1[lIli1l(0x1a3,'3$hx')]){iIiII='🚫\x20'+ii1iil+lIli1l(0x1fa,'gBS9')+ii1il1[lIli1l(0x1bd,'LVe!')],lI1lll++;continue;}if(!ii1il1?.[lIli1l(0x11b,'vV[Z')]){iIiII=lIli1l(0x1e3,'ftSF')+ii1iil+'\x20请求失败\x20➜\x20无响应数据',lI1lll++;continue;}const lI1llI=common[lIli1l(0x136,'PFrX')](ii1il1,activityCookie);[lIli1l(0x21a,'ftSF')]['includes'](ii1iil)&&(activityCookie=lI1llI);handleResponse(ii1iil,ii1il1[lIli1l(0x1aa,'XkKM')]),iil1lI=![];break;}else{IliI1i[lIli1l(0xd3,'B[M2')]=!![],ll1ii[lIli1l(0x16e,'R[bx')](lIli1l(0xf3,'0X*r')),IIli11[lIli1l(0x1da,'gBS9')]['fix'](lIli1l(0x10b,'N72x'));return;}}lllI1l[lIli1l(0x252,'Ou*a')](lI1lll,II1i1)&&(console[lIli1l(0xc8,'lb2q')](iIiII),iil1lI&&($[lIli1l(0xdb,'WjGR')]=!![],$[lIli1l(0x12b,'CO]U')]&&$[lIli1l(0xb8,'WM6g')][lIli1l(0x20d,'ev&W')](iIiII)));}var version_ = 'jsjiami.com.v7';

// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
