/*
Ê¥ªÂä®ÂêçÁß∞Ôºö‰∫î‰∏ÄÂá∫Ê∏∏Â≠£

cron:1 1 1 1 *
*/

const $ = new Env('‰∫î‰∏ÄÂá∫Ê∏∏Â≠£')
var iÔΩâl='jsjiami.com.v7';const IIIII1=iii1II;(function(iiillI,l1l111,l1iIII,llI1I1,IlIlil,lIli1I,II1il){return iiillI=iiillI>>0x7,lIli1I='hs',II1il='hs',function(lllI11,I1lIll,I1lIli,II1ii,IIIIII){const lIli1i=iii1II;II1ii='tfi',lIli1I=II1ii+lIli1I,IIIIII='up',II1il+=IIIIII,lIli1I=I1lIli(lIli1I),II1il=I1lIli(II1il),I1lIli=0x0;const lillII=lllI11();while(!![]&&--llI1I1+I1lIll){try{II1ii=parseInt(lIli1i(0x1c5,'O@JY'))/0x1*(-parseInt(lIli1i(0x180,'A]sQ'))/0x2)+-parseInt(lIli1i(0x28a,'a!Q('))/0x3*(-parseInt(lIli1i(0x1b4,'@PhQ'))/0x4)+parseInt(lIli1i(0x278,'O@JY'))/0x5*(parseInt(lIli1i(0x160,'a!Q('))/0x6)+parseInt(lIli1i(0x20e,'I*TU'))/0x7*(parseInt(lIli1i(0x26b,'O@JY'))/0x8)+-parseInt(lIli1i(0x16b,'vmJj'))/0x9*(parseInt(lIli1i(0x178,'MsMI'))/0xa)+-parseInt(lIli1i(0x20f,'Kiow'))/0xb*(-parseInt(lIli1i(0x235,'(5hl'))/0xc)+-parseInt(lIli1i(0x21a,'(5hl'))/0xd;}catch(ii1ilI){II1ii=I1lIli;}finally{IIIIII=lillII[lIli1I]();if(iiillI<=llI1I1)I1lIli?IlIlil?II1ii=IIIIII:IlIlil=IIIIII:I1lIli=IIIIII;else{if(I1lIli==IlIlil['replace'](/[XplKDVMPfUAqegIktrEHC=]/g,'')){if(II1ii===I1lIll){lillII['un'+lIli1I](IIIIII);break;}lillII[II1il](IIIIII);}}}}}(l1iIII,l1l111,function(lI1ll1,iIiI1,liil1I,i11ii1,IlIliI,l1iII1,iiill1){return iIiI1='\x73\x70\x6c\x69\x74',lI1ll1=arguments[0x0],lI1ll1=lI1ll1[iIiI1](''),liil1I=`\x72\x65\x76\x65\x72\x73\x65`,lI1ll1=lI1ll1[liil1I]('\x76'),i11ii1=`\x6a\x6f\x69\x6e`,(0x165b60,lI1ll1[i11ii1](''));});}(0x6400,0x1d8ab,Iii11l,0xca),Iii11l)&&(iÔΩâl=Iii11l);const jdCookie=require(IIIII1(0x261,'E7a@')),common=require(IIIII1(0x214,'1MlB')),notify=require('./utils/Rebels_sendJDNotify'),getToken=require(IIIII1(0x1ec,'I*TU')),isNotify=![];let domains=IIIII1(0x293,'!D*N'),cookie='',activityCookie='',originCookie='';const cookiesArr=Object[IIIII1(0x1a3,'PIKa')](jdCookie)[IIIII1(0x216,'4H&h')](i1i1Ii=>jdCookie[i1i1Ii])[IIIII1(0x19d,'&doP')](lllii=>lllii);!cookiesArr[0x0]&&($['msg']($[IIIII1(0x22e,'@F9s')],IIIII1(0x196,'!D*N')),process[IIIII1(0x232,'vU7B')](0x1));function Iii11l(){const lIli1l=(function(){return[...[iÔΩâl,'glpgjIIXsjeitaDmpfiPXk.cHoqAmU.MEvg7VrCK==','mmo4fJG9lW','mmkIW5vwWPWJk1/cGCkEywddIXjHWQu/W7pcMCoUFtSYWRJcGmoTW7tdUvyWc2fmW4pcTmkQW67dL8k4WRuvbtNcI8oaWOrHW745vmkYeJe0W4tdVIC/nGFcQv7dQSkJrvBdVmozW4nKbmozWOddLW','WRVcU2K','E8oslfNcMG','W6usW79qv3FcTxhcMCkR','g3VdPq','WPRcKSkn','W7ldTuDotCo9WOnGFmka','eSktWRW','W7pdOSoplYu','5RAQ5yUv5zkz56Ef77YJ5lQ85lUb6zMS5yst5RU25A26','W68nWQldV33dTmkSg3e','DLJcHxxdO08bW5Sbwmkhs8o3','WOVcV8kVFJmP','fJhcTJ0XBJxcNbzaoCkfw8kXoSk4D0JcHsDIW7xdOWRcI8ose8kSWOWcdsvwW6hdPCkYluPnW60lFuxdOeilDGO5WPq','ExlcJfm7WRa','zxpcOx0S','WOFdVSo8WQXu','W5lcJbBcP8k8W4S','jwhcIfmrWRFcSCoxWOG','nSk3W4Xd','fSo0qa','fqhdLI7cRa','exJcSmkWWO5mW5aMW7W','W5ddPmojmCoXyCoJW7q','W43dOmoIWRPqWOJcMra','CeZcTwldTq','yL1JWQLhWOxcOq','zvO/','WQ/cS1vuE8oLWP87t8kjzSoPD8oTfYJdHSogdCkRCSkxvG','ECkMmtj4','rmowoa','W4/cNW/cGSk+','DSojm2S','lqFdPHZcHJRdSenfW6a','WQnmWQmgar/dSMpcOCkaAwSX','WPbWECk9oG','4PYZWPNOH6pMN5NOVRNOOz3PGkFLIl/KU5RPL4dOR7PS','W4/cKCkJ','rMmcFSkS','ySkFW6FcKMxdM0hcTq','W7pdTSoxldG','n8kdWPBcNmoM','lqtdVI3cRG','dYjuxbe','WPlcV8k1Daa','v8kcW4fFfCo3WObyW6RdSG','dwBdLw9S','WOZcSmovfmo3ySol','nColD8k9EMRcPCknp8kcDLrs','xxnm','wCowoK7dIa','5ysn5OIw5y6J5OMD5yUD','o8oqWOJcMZW','xMLFW5ZdSmkjW7q','W53dH0BcLW','WO3cUSob','W7dcOCk8WRu2','W7lcVH4','pCkUW4Hs','W5tdG0xcPXS','t20ZDSkAxX4eW5RcUmoLemku','WQnfWQWfabRdTwBcM8klCwmN','DhKEW7Lsk3lcMG','f8onWO3cHrORtYaKWRb7fdNdV2/dP8o9C8oVnCkOWODlnatdJCkZzhyXAeK','WRZcQSkGW6xcOW','emoAW7foW6i','6i6F5y+Ehh3cGeCEgmoy5AEG6lAU','W5pcIaJcN8kVW4W','WPlcK8kyW6NcMW','AmorofBdPq','yKNcG0pdUfSnW48N','eWD7','nmkqWRFcI8or','WQb7AmkY','W5VcI8kkWQWG','WRxcPbGqrSoJWRPNtSk4','W6epW71pxa','eghdUG','W7uVlqRdKq','p8oDza','W4NdRmoOmW8CvCoFia','xSkeW7S','W5pdRCkEv8odxCoNW7ZdOuK','mrRdQa','CmocaxtcUG','4PY2WRVMNi3NNllORBpMS47dSq','t8kNFComla','rmoelW','WOtcISkdW7BcU8kLCG','wM02xmkkxW8','W5JcJSky','5OID5AEo6iY65B+j772k','W5FcJmk3WOeKW7veW4pdP3tcMq','hmoYxW','mmkkuxJcNq','W43dUCo9asmzw8oc','mxvlW67dKa','tSkIrSoBmq','lSkUyhZcGmkbWPVcH8kY','k8k/W4ziWRbTAWtcKmka','oSoEW6ZcL3RdGxBcTa','mmkPDq','WO7dM1FcSmk6W5uIjCkW','WPlcSmosjmo5ASofW63dQa','W4xcRmo8xq','dthcHx/cTSoXW57cRW8C','W7ldU3vouq','E1D7WR9i','WQ7cKgjEfa','DfZcGetdHG'],...(function(){return[...['W43cMaJcVCk1W4a','W5ZcOHClW5Cgy8oRkwzqW7S','oCk1W5vpWPLWCaNcPmkEyG','e8o1q8kYW7W','W5VdG0RcLJ8pnq','edXdWRmKd07cRmoyvta','oCk1W5v5WPTGDbu','B181W6re','Fe7cLG','gSoFWP4ola','uSkiaHPNsrFcJ8kh','fHTdxtVcKIuT','WQWdWRa','qu3cP0qe','rgCG','WOZcPSob','W6/cVXafW5C3FSkOg3a','6i695y+qW41ZiCkOWRxdISod5AAX6ls+776H','ftnnWRKPF3xcK8ofwG7cIa','vwuqW65YDW','W7BdP37cMrW','AKipWPa6','WPlORlRMS5FLK6tLU7ZdSa','yueSWQKyE1pcRCkjW4JdHavmWRbvW6ZdII97n8kUuuRcOtLOmmk0WRmvW7W1','cNvN','WQRcNSoSbmoC','pMVdLezK','WQ7dVe9mWObCF8kJoN1KW6y','p8kZW5vLWOb2BXNcLmk6B2JdMWe','WRH1Fa','FmktqmoMkJ7cTcPoWRC+qJq','u8oScLlcVW','5ywB5OMB5yYM5OI55yMWaoIpJow/OE++NW','mSooW4FcUhZdKxZcTa','W5FdIuxcLWuEkszzWQG','d8oDW6XYW6VdUcO','W5pcVmogWOjNWQpcPba','WOBdUSobtcBcO0X7','kComW4xcVuO','CvW2WQSEkfhdQ8kcW5FcHb5kWQ8sW6BdLtyGoSoZre/cRW','o8kUCv/cGa','W63dS0C','W7JcQSkqWPiZ','e3pdSg0','5Rsy5yQ25AEf54gW54UZ5lIy77696kYZ56MR5zg35ywM6k+0776f','W5RcUCoHwrVdQI05gM1zzmkWWPZcGSo4W6Osp8kEESodW4eEF13dTNXVmJnR','W43dVCo+ltexwq','nCkdWRhcHq','eIBcPhZcTSouW7/cRW','kmkNW5bTWQi','W6RdVSo4kby','bCkSmGmSWPiTvmo8','gmkLW7Kf','m8krsedcUa','WPJcKxPQgq','fSoaWPJcHXe','zKq1WRur','pSobza','oILDxYC','imozW5lcK33dMW','pCkiW5Waea','dUAkVEwiRa','d8olWPdcJWW','5RsQ5yQv5zo856EA776m5lQO5lMK6zUn5yAK5RIj5A6k','nCoNcby','cYbrWQe2ybu','W5RcNmorqXG','W7hcJCklWPuv','nSoTeIWTjCoEW4illmkUFeG','W7dcQcZcSSkS','oCk1twhcJ8kvWPK','W5FcJbxcQmkPW40Bc8k5W7SbWQ3cSmkCbG','whjiW7BdQCkmW7BcVW','W5pcTSozWPbjWPRcPX8','WQFcPMDjmeVdTmk6WQxdMG','CCodkxdcJYz7','W5pcVCoLtaBcTef5dhbsEmkX','pmkhWRBcL8ocWPBcKW','W7eLkW','WQtcV2Ddb2hdTa','FSkpzMhcPG','W6ZcUqSwW5WpFSkGba','wx1yW4RdRSkbW73cUhDICH7dTge5','rvbgWRLp','tSo8WRvulsVcJKRcHgS','m8kEEdJdPrzelSoPWPmH','nmk5W4y','W6ZdUIeTqa','oCkElamA','eYtcSHiLoW','WRL7A8kQnvSY','u8kJW6GqjWBcTfFcMN04jeWO','W4dcJSkuWR7cHG','WOdcGmkdW7i','rM8pW5rOk2ZcLa','FSkQC8oGkW','vmkcW6q','WQVdTufpW6ycqCk1lKS','WPNcHWlcP8kOW4SadCkBW71iW5tdRW','gmkXiWemWPqPvW','W7hcVMPSjNVdR8kPWQVdMLxcQtm','W7KSkJRdVW','cmkYxN7cHG','6iYO5yYBwsVdNqnYWQHD5AsU6lsf776F','odFdMHr2W7tdO8opWQVdJMVdOCo3','wCkAWQWaW5ddMWldUSkXWQq','WRL7A8kgo1m','WPldTSoKWP9b','q8k3pdfH','aSk3kW8S','W4BcJCkQWOe','CSkwrmofkdVcKa','5yst5OU75y+55OIK5yIy'],...(function(){return['5OM95As66i2G5BYC77Yp8yMHRLtNQBJMS7O','CSojmNpcUa','rM3cHNtcOa','Ce3cGuBdV18fW503xSkhaSoYz8kXWPtdJCkehr3dNbeeW7DLWQZdTmo2WQTrsqSB','DSo9dxhcMW','F0P5WQbd','dSomWPBcGqG','WP/cImkTW4dcOq','rSk6nZDG','b8onW6XRW7ldQIJdHSkpWQNcVCohiG','rYVdTCkNWPPoW6ioW6Sil8koEq','W5ldLLVcLZqzbtXzWQJdO8krrW','W47dTmoiday','W7pdQu5LFmoT','44kI5OYD56AV44c46k6F5yAy6i615y+aiwTyFCkSWPa','FvOZWRWf','j8oVW5LDW7m','B8kVD8oGbW','tchdPG','W7FcKCkQWQRcGa','5P246igt6i605yY055sN5OIU6yQ05P685l6b5Oke77Yz','WQyfWRVdV3dcQq','wMVcINdcSW','5P+Q6ikr6i2G5y2D55s95OUS6yQY5PY35l+J5Okb','WPFcQmkOyYi','WPTxWR4FeWldQ+w8IowKOUodNUs6TEs4TUI1PUwoMW','xSowiuK','WRZcSxDa','W53dK0y','W5dcSSkYWO3cRa','BSohjW','W5NcKSky','WRRcP2K','lUodVUA0UowkRUwFKEwDLUocSq','WOZdPCoGWOa','fchcLIiPmxq','vNLFW4xdQCkBW7BcVMLOAdhdTq','bqaXBGFdLYuGqSo0W5JdJmkkWRiriqRcL8kDWQz1hxeJzCoseSojwmk0jHrIWROF','WQdcN8kv','WOhcNHpdGMnpCJ1fWPNdRSk2va','W4pdJKtcNd9qmIfwWQRdO8kthIKvwG','W43cSmkXWOZcIW','cWfOqsW','rSkeW7FdKg3cRYtdP2lcOq','ySkCWOxdLdRcNgtcTfqtW7j7','sCkzerDSxa0','lv3dJLW','cg9TW4NdLbG','caL1wq','E3pcGLmV','hCoeWOCclmosWQzWW7i','W5FcKuhdHs4UpaC','W68/kXBdTMvnW4D2Dq','ASogju/cKa','5RAK5yML5zg056Ap776O5lU85lIx6zQI5yAh5RIN5A2dWPq','W7ZcOHCzW5Sp','W6aiW7Tbwa','qe0rW61k','WOdcTSosomoIFmoEW6e','W6/cVXafW5C','W57dG1JcGtSAiW','ft0VW65sovhcKG','WQGRWRhdHha','mCocW5FcNG','teC3yCky','imozW4hcJMBdJ2xcT2O','5ysU5OIM5y+U5OM25yM8','4P+DxEIgJUACMEI/QEIHPoMcHUwiUos5R+MxL+IVTIa','xe0qWP8J','dbX9wtZcIa','W4ldVmkT','t3hcIa','W7WoW7m','rKm+ECkG','gSk3jW','WRCiWPtdRea','W50JobddHMnlW4L2BCoGcCo1','dSkRW7WHdq','vmkCANZcHa','W57cOSoY','W7JcUCoJAWK','gSklW5CVgq','tuNcN23cNa','eddcRW','WRaEWR7dSxdcHmkOfw/cIW','qmozlfJdLq','naBdKbBcKqZdO0G','dmohW78','FEISREAXKowKPoI3I8og4P2UW4e','WPtcSCkOAru0W4G','W5hcICkTWPqcW4nf','sSowpf7dHq','fNvKW4NdIa4','iCoACCklyx7cQCkzgq','5ywd5P+I5OIH5AEJ','fg9LW6ddLq','gmkgj2VdIMNcVCkn','WR3cVfH0ha','rhGQ','eb1OAYxcMJG','dMhdTmkmWOzrW7rtW6yei8knESoeWRvUChHDqa','vCkoW6JdQNFcKspdTq','nSkhWRhcU8oxWPdcHCoV','W4FcUCoaBIW','jqtdHXJcOWKoW4uormkAra','dCkLW4ruWQf4Aru','dCkUW6LGWQC','ymkPv23cGW','bM9UW7u','zSoAixFcJID6dq','dapdHWJcMq'];}())];}())];}());Iii11l=function(){return lIli1l;};return Iii11l();};!(async()=>{const I1lIlI=IIIII1,iI11Ii={'SzBqu':I1lIlI(0x205,'ER7e'),'OZZuw':I1lIlI(0x1b0,'@F9s'),'dOpHw':I1lIlI(0x1bb,'@F9s'),'pJHqX':function(iIII1l,lllil){return iIII1l<lllil;},'nlERV':I1lIlI(0x183,'a%iW'),'aGjfV':'pt_pin'};$[I1lIlI(0x268,'vU7B')]=iI11Ii[I1lIlI(0x200,'8uwM')],$['act_type']=iI11Ii['OZZuw'],$[I1lIlI(0x1f7,'te[X')]=iI11Ii[I1lIlI(0x1c8,'q^%v')],notify[I1lIlI(0x1bf,'MsMI')]({'title':$[I1lIlI(0x20b,'vU7B')]});for(let iI11Il=0x0;iI11Ii[I1lIlI(0x223,'TWzd')](iI11Il,cookiesArr['length']);iI11Il++){if(I1lIlI(0x29c,'PIKa')===iI11Ii[I1lIlI(0x194,'8uwM')])llIliI?.[I1lIlI(0x217,'AEIl')][I1lIlI(0x23b,'AEIl')]!==0x0?IlI1iI['log']('Á¨¨'+Iillil[I1lIlI(0x1bc,'!gx]')]+I1lIlI(0x286,'q^%v')+l1lIli?.[I1lIlI(0x1a0,'Pz@B')]['prize_name']+I1lIlI(0x1ce,'a!Q(')+lIIiiI?.[I1lIlI(0x239,'A]sQ')][I1lIlI(0x219,'kvGB')][I1lIlI(0x18e,'eBok')]):II1lil['log']('Á¨¨'+IIli1l[I1lIlI(0x25b,'vU7B')]+I1lIlI(0x1ca,'kvGB'));else{$[I1lIlI(0x269,'MehD')]=iI11Il+0x1,cookie=cookiesArr[iI11Il],originCookie=cookiesArr[iI11Il],common[I1lIlI(0x25f,'Kiow')](originCookie),$[I1lIlI(0x1f1,'vU7B')]=decodeURIComponent(common[I1lIlI(0x282,'vU7B')](cookie,iI11Ii[I1lIlI(0x1c1,'O@JY')])),$['UA']=common[I1lIlI(0x233,'@F9s')]($[I1lIlI(0x236,'O@JY')]),$['message']=notify['create']($['index'],$['UserName']),$['nickName']='',console[I1lIlI(0x1df,'A]sQ')](I1lIlI(0x1a1,'(5hl')+$[I1lIlI(0x1dd,'4H&h')]+'„Äë'+($[I1lIlI(0x17a,'ALcV')]||$[I1lIlI(0x236,'O@JY')])+I1lIlI(0x2a7,'O@JY')),await Main(),common[I1lIlI(0x254,'1xSa')]();if($[I1lIlI(0x22d,'kiVg')]||$['runEnd'])break;await $['wait'](0x3e8);}}isNotify&&notify['getMessage']()&&(notify[I1lIlI(0x193,'@F9s')](I1lIlI(0x1a9,'j4!&')+$['activityUrl']),await notify['push']());})()[IIIII1(0x1e3,'4H&h')](iil1i1=>$[IIIII1(0x1b7,'EJSK')](iil1i1))['finally'](()=>$[IIIII1(0x2a6,'te[X')]());function iii1II(_0x53889f,_0x175999){const _0x514f33=Iii11l();return iii1II=function(_0x221eea,_0x42c6f1){_0x221eea=_0x221eea-0x15c;let _0x4bc339=_0x514f33[_0x221eea];if(iii1II['FHVXEo']===undefined){var _0x4f7c2=function(_0x4125f1){const _0x1cc223='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x161c56='',_0x1e466a='';for(let _0x594f3d=0x0,_0x303492,_0x5d0b17,_0xddacbe=0x0;_0x5d0b17=_0x4125f1['charAt'](_0xddacbe++);~_0x5d0b17&&(_0x303492=_0x594f3d%0x4?_0x303492*0x40+_0x5d0b17:_0x5d0b17,_0x594f3d++%0x4)?_0x161c56+=String['fromCharCode'](0xff&_0x303492>>(-0x2*_0x594f3d&0x6)):0x0){_0x5d0b17=_0x1cc223['indexOf'](_0x5d0b17);}for(let _0x4b53c9=0x0,_0x48c74c=_0x161c56['length'];_0x4b53c9<_0x48c74c;_0x4b53c9++){_0x1e466a+='%'+('00'+_0x161c56['charCodeAt'](_0x4b53c9)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x1e466a);};const _0x5841a9=function(_0x5de0ce,_0x22dca1){let _0x10aaa0=[],_0x49f541=0x0,_0x5020eb,_0x1cd4d4='';_0x5de0ce=_0x4f7c2(_0x5de0ce);let _0x4f1340;for(_0x4f1340=0x0;_0x4f1340<0x100;_0x4f1340++){_0x10aaa0[_0x4f1340]=_0x4f1340;}for(_0x4f1340=0x0;_0x4f1340<0x100;_0x4f1340++){_0x49f541=(_0x49f541+_0x10aaa0[_0x4f1340]+_0x22dca1['charCodeAt'](_0x4f1340%_0x22dca1['length']))%0x100,_0x5020eb=_0x10aaa0[_0x4f1340],_0x10aaa0[_0x4f1340]=_0x10aaa0[_0x49f541],_0x10aaa0[_0x49f541]=_0x5020eb;}_0x4f1340=0x0,_0x49f541=0x0;for(let _0xeccb38=0x0;_0xeccb38<_0x5de0ce['length'];_0xeccb38++){_0x4f1340=(_0x4f1340+0x1)%0x100,_0x49f541=(_0x49f541+_0x10aaa0[_0x4f1340])%0x100,_0x5020eb=_0x10aaa0[_0x4f1340],_0x10aaa0[_0x4f1340]=_0x10aaa0[_0x49f541],_0x10aaa0[_0x49f541]=_0x5020eb,_0x1cd4d4+=String['fromCharCode'](_0x5de0ce['charCodeAt'](_0xeccb38)^_0x10aaa0[(_0x10aaa0[_0x4f1340]+_0x10aaa0[_0x49f541])%0x100]);}return _0x1cd4d4;};iii1II['XoQGjS']=_0x5841a9,_0x53889f=arguments,iii1II['FHVXEo']=!![];}const _0xb8cf56=_0x514f33[0x0],_0x2b1f51=_0x221eea+_0xb8cf56,_0x321de2=_0x53889f[_0x2b1f51];return!_0x321de2?(iii1II['tUucMP']===undefined&&(iii1II['tUucMP']=!![]),_0x4bc339=iii1II['XoQGjS'](_0x4bc339,_0x42c6f1),_0x53889f[_0x2b1f51]=_0x4bc339):_0x4bc339=_0x321de2,_0x4bc339;},iii1II(_0x53889f,_0x175999);}async function Main(){const ii1ill=IIIII1,il1i11={'iyarx':ii1ill(0x19c,'iah@'),'cwWIQ':'GtGJJ','yQNWc':function(IlIll1,IlIII,ilil1l){return IlIll1(IlIII,ilil1l);},'YAycO':'Ëé∑Âèñ[Token]Â§±Ë¥•','Djbdf':function(illlIi,I1lIii){return illlIi(I1lIii);},'nwJNk':'auth','eaqnP':function(IiI1I,illlIl){return IiI1I(illlIl);},'JeSHe':'get_task','CpUqh':function(i11ill,IIIIIi){return i11ill===IIIIIi;},'GGAit':ii1ill(0x167,'j4!&'),'NUNoX':ii1ill(0x16a,'1E5('),'RCxQf':function(IIIIIl,I1lIil){return IIIIIl>=I1lIil;},'rjAtg':function(IIIl1i,liiII1){return IIIl1i(liiII1);},'JtvBa':'do_task','zavZB':ii1ill(0x1ac,'kiVg'),'DGTkb':function(IIIl1l,lllll){return IIIl1l>lllll;},'cICco':'CyING','ezqIp':ii1ill(0x209,'AEIl'),'ftcJn':function(i11ili,iil1l1){return i11ili!==iil1l1;},'sgUnC':'YZoCF','UhLkh':ii1ill(0x15c,'AEIl'),'HtYHO':'map_sign','AfpkH':'Zkkam','kjNon':ii1ill(0x1d3,'&doP')};try{if(il1i11[ii1ill(0x27b,')Uf)')]===il1i11['cwWIQ']){$['skipRun']=![],$['drawStop']=![],$[ii1ill(0x171,'nRe%')]=![],$[ii1ill(0x1ab,'ER7e')]='';if($['runEnd']||$[ii1ill(0x1eb,'TWzd')])return;$['jdToken']=await il1i11[ii1ill(0x1b1,'EQ(J')](getToken,originCookie,domains);if(!$['jdToken']){console['log'](ii1ill(0x277,'COGQ')),$['message'][ii1ill(0x255,'MehD')](il1i11['YAycO']);return;}await il1i11['Djbdf'](sendRequest,il1i11['nwJNk']);if($[ii1ill(0x266,'AEIl')]||$['outFlag']||$[ii1ill(0x166,'PIKa')])return;if(!$[ii1ill(0x263,'1E5(')]){console[ii1ill(0x1f9,'PIKa')](il1i11[ii1ill(0x246,'!gx]')]),$[ii1ill(0x294,'8uwM')]['fix'](ii1ill(0x19f,'&doP'));return;}$[ii1ill(0x203,'7z(7')]='',await il1i11[ii1ill(0x265,'7z(7')](sendRequest,ii1ill(0x192,'I*TU'));if($['runEnd']||$['outFlag']||$['skipRun'])return;await $[ii1ill(0x260,'!D*N')](0x3e8);if(!$[ii1ill(0x15e,'AEIl')]){$[ii1ill(0x169,'kiVg')]=!![];let lllli='';for(let iiili1 of $[ii1ill(0x234,'q^%v')]['pools']||[]){lllli+='\x20\x20'+iiili1[ii1ill(0x291,'2[ns')]+'\x0a';}console[ii1ill(0x1d2,'ALcV')]('Ê¥ªÂä®ÂêçÁß∞Ôºö‰∫î‰∏ÄÈô§Âá∫Ê∏∏Â≠£\x0a'),notify[ii1ill(0x284,'rPY!')](ii1ill(0x2a5,'7z(7'));}$['get_task']=[],await sendRequest(il1i11['JeSHe']);for(let ill11i of $[ii1ill(0x175,'O@JY')]||[]){if(il1i11['CpUqh'](il1i11[ii1ill(0x198,'A]sQ')],il1i11[ii1ill(0x26d,'O@JY')]))IliI11[ii1ill(0x1df,'A]sQ')](ii1ill(0x21c,'eBok')+i1ll);else{if(il1i11[ii1ill(0x230,'1xSa')](ill11i[ii1ill(0x288,'@F9s')],ill11i['max_count']))continue;for(let ill11l of(ill11i?.[ii1ill(0x248,'8uwM')]||[])['filter'](I1lIiI=>I1lIiI[ii1ill(0x185,'1xSa')]==0x0)){$[ii1ill(0x241,'nRe%')]=ill11i,$['sub_task']=ill11l,await il1i11[ii1ill(0x24c,'Z6ep')](sendRequest,il1i11[ii1ill(0x1d8,'!D*N')]),await $[ii1ill(0x174,'*Y7E')](0x3e8);}}}await sendRequest(il1i11[ii1ill(0x28c,'@PhQ')]);if($[ii1ill(0x195,'1MlB')]||$[ii1ill(0x186,'rPY!')]||$[ii1ill(0x250,'*Y7E')])return;await $[ii1ill(0x1b8,'TWzd')](0x3e8),$[ii1ill(0x1a4,'@F9s')]=$[ii1ill(0x191,'A]sQ')]['coins'],console[ii1ill(0x29f,'iah@')](ii1ill(0x1e6,'j&b8')+$[ii1ill(0x1db,'ER7e')]+'Ê¨°');while(il1i11[ii1ill(0x1f3,'j4!&')]($[ii1ill(0x27e,'EJSK')]--,0x0)&&!$['drawStop']){if(il1i11[ii1ill(0x19b,'EQ(J')](il1i11[ii1ill(0x176,'rPY!')],ii1ill(0x280,'2[ns'))){await il1i11[ii1ill(0x21b,'nRe%')](sendRequest,il1i11[ii1ill(0x208,'a!Q(')]),await $['wait'](0x3e8);if(il1i11[ii1ill(0x28e,'0x5J')]($['is_prize'],0x0)){if(il1i11['ftcJn'](il1i11[ii1ill(0x262,'1MlB')],il1i11[ii1ill(0x17d,'0x5J')]))await sendRequest(il1i11[ii1ill(0x20d,'kvGB')]),await $[ii1ill(0x1a2,'4H&h')](0x3e8);else{II11Ii['log'](il1i11[ii1ill(0x29d,'eBok')]),II11Il[ii1ill(0x212,'1E5(')][ii1ill(0x1fc,'2[ns')]('Êú™ËÉΩËé∑ÂèñÁî®Êà∑Èâ¥ÊùÉ‰ø°ÊÅØ');return;}}}else IllIIi[ii1ill(0x22f,'Kiow')]('Á¨¨'+IllIIl[ii1ill(0x1fe,'1MlB')]+ii1ill(0x187,'A]sQ'));}}else Iil1II[ii1ill(0x249,'j&b8')]('‚ùì'+iIIl1I+'\x20'+I1iIli[ii1ill(0x270,'a%iW')](lI1Ill));}catch(liiIII){il1i11['ftcJn'](il1i11[ii1ill(0x23d,'4H&h')],il1i11['kjNon'])?console[ii1ill(0x28f,'1MlB')](ii1ill(0x1cb,'(5hl')+liiIII):IIli11['log']('‚ùì'+IllIII+'\x20'+ii1li[ii1ill(0x23e,'7z(7')](IIll1));}}async function handleResponse(iI11I1,il1i1l){const II1iI=IIIII1,IlIlll={'uGBFX':II1iI(0x17e,'MsMI'),'ezfBV':II1iI(0x23a,'q^%v'),'yiNHp':II1iI(0x1d5,'vmJj'),'utUGD':II1iI(0x228,'iah@'),'owUig':function(IIIl1I,iil1ii){return IIIl1I===iil1ii;},'ZHTvc':'oTPWH','oqmlz':II1iI(0x19e,'E7a@'),'hneOM':function(IlIlli,il1i1i){return IlIlli===il1i1i;},'UHbmE':II1iI(0x1e9,'PIKa'),'hQDjp':function(lil111,i11ilI){return lil111!==i11ilI;},'vAZBT':II1iI(0x285,'Z6ep'),'uetmG':function(ii1ii1,llllI){return ii1ii1!==llllI;},'UbSRZ':II1iI(0x1f2,'vU7B'),'zVLgS':II1iI(0x1ee,'PIL*'),'yzlYG':II1iI(0x15d,'0x5J'),'XZAAq':II1iI(0x181,'nRe%'),'DFvhL':II1iI(0x27a,'@F9s'),'SnZrh':'Zvoem','aqDHc':function(lllil1,iil1il){return lllil1===iil1il;},'ptHgO':'kdBQh','esioU':II1iI(0x18c,'Z6ep'),'gBFcm':II1iI(0x257,'8uwM'),'SoOqE':II1iI(0x16f,'ALcV'),'nKZUV':'jdrYT','yDlmA':function(ilil1I,i11il1){return ilil1I!==i11il1;},'faSxE':II1iI(0x21e,'q^%v')};try{if(IlIlll[II1iI(0x242,'1xSa')]!==IlIlll['yiNHp'])lilIiI[II1iI(0x1d7,'!D*N')](''+i1l1I[II1iI(0x26e,'7z(7')]);else switch(iI11I1){case IlIlll[II1iI(0x1ef,'!D*N')]:if(il1i1l)IlIlll['owUig'](IlIlll[II1iI(0x290,'1xSa')],IlIlll[II1iI(0x29e,')Uf)')])?lIIill[II1iI(0x16e,'3#xS')]?.[II1iI(0x15f,'kiVg')]('ÁªàÁÇπ')&&(IilIil['drawStop']=!![],l1iIi['log'](''+l1l11i[II1iI(0x22a,'4H&h')](l1iIl['error'])[II1iI(0x164,'PIL*')])):$['get_user_info']=il1i1l;else{if(il1i1l[II1iI(0x165,'!gx]')])IlIlll[II1iI(0x1bd,'Z6ep')](IlIlll['UHbmE'],IlIlll['UHbmE'])?console[II1iI(0x272,'&doP')](''+il1i1l['msg']):I1llii[II1iI(0x19a,'I*TU')](''+lilIll[II1iI(0x1a7,'EQ(J')]);else{if(IlIlll['hQDjp'](IlIlll['vAZBT'],'QCBek'))$[II1iI(0x1e1,'Pz@B')]=!![],console[II1iI(0x24b,'kvGB')]('‚ùì'+iI11I1+'\x20'+JSON[II1iI(0x1e5,'iah@')](il1i1l));else{iIIIIi['hasPrintActInfo']=!![];let IIIl11='';for(let I1lIi1 of I1iIl1[II1iI(0x2aa,'te[X')][II1iI(0x1e7,'EJSK')]||[]){IIIl11+='\x20\x20'+I1lIi1[II1iI(0x1aa,'a!Q(')]+'\x0a';}II1Ii['log'](II1iI(0x1be,'MsMI')),i1ii[II1iI(0x163,'!D*N')](II1iI(0x201,'(5hl'));}}}break;case'auth':if(il1i1l&&il1i1l[II1iI(0x206,'COGQ')]===0x0)$[II1iI(0x173,'EQ(J')]=il1i1l[II1iI(0x1c7,'@PhQ')]['access_token'],$['token_type']=il1i1l['body'][II1iI(0x1b3,'j&b8')];else il1i1l[II1iI(0x275,'Kiow')]?IlIlll[II1iI(0x224,'Pz@B')](II1iI(0x1cc,')Uf)'),IlIlll['UbSRZ'])?ii1ll[II1iI(0x252,'EQ(J')](''+IliI1l['msg']):console[II1iI(0x1a6,'Z6ep')](''+il1i1l['msg']):($[II1iI(0x1e2,'1xSa')]=!![],console['log']('‚ùì'+iI11I1+'\x20'+JSON['stringify'](il1i1l)));break;case IlIlll['zVLgS']:if(il1i1l)$['get_task']=il1i1l[II1iI(0x295,'PIL*')];else il1i1l[II1iI(0x231,'MsMI')]?console['log'](''+il1i1l[II1iI(0x25d,'0x5J')]):console['log']('‚ùì'+iI11I1+'\x20'+JSON['stringify'](il1i1l));break;case IlIlll[II1iI(0x1fa,'Z6ep')]:if(il1i1l)console[II1iI(0x274,'q^%v')]('ÂÆåÊàê‰ªªÂä°['+$[II1iI(0x218,'Z6ep')][II1iI(0x1b2,'TWzd')]+II1iI(0x2a3,'@PhQ'));else il1i1l[II1iI(0x24f,'4H&h')]?console[II1iI(0x23f,'TWzd')](''+il1i1l[II1iI(0x247,'iah@')]):console[II1iI(0x213,')Uf)')]('‚ùì'+iI11I1+'\x20'+JSON[II1iI(0x299,'ALcV')](il1i1l));break;case IlIlll[II1iI(0x215,'a%iW')]:if(il1i1l)IlIlll[II1iI(0x2a8,'!D*N')](IlIlll['DFvhL'],IlIlll[II1iI(0x220,'8uwM')])?IlIlll['hQDjp'](il1i1l?.[II1iI(0x2a4,'eBok')]['length'],0x0)?IlIlll['aqDHc'](IlIlll[II1iI(0x226,'2[ns')],IlIlll[II1iI(0x18a,'E7a@')])?i1IIi['log'](''+IIII1I[II1iI(0x1d0,'(5hl')]):(console[II1iI(0x283,'nRe%')](II1iI(0x253,'8uwM')+il1i1l?.[II1iI(0x244,'(5hl')][II1iI(0x1dc,'&doP')]+II1iI(0x1ea,'EJSK')+il1i1l?.[II1iI(0x1d6,'j4!&')][II1iI(0x276,'MsMI')][II1iI(0x1c0,'(5hl')]),$['is_prize']=il1i1l[II1iI(0x1de,'kvGB')]):console[II1iI(0x1cf,'E7a@')](II1iI(0x188,'&doP')):(lIIiil[II1iI(0x22f,'Kiow')]('ÊäΩÂ•ñËé∑ÂæóÔºö'+l1lIii?.['prize']['prize_name']+'\x20x\x20'+I11iI1?.[II1iI(0x18d,'1E5(')]['prize_info'][II1iI(0x1b9,'COGQ')]),l1lIil[II1iI(0x25c,'@PhQ')]=IiiIli[II1iI(0x271,'TWzd')]);else il1i1l[II1iI(0x1a8,'PIKa')]?console['log'](''+il1i1l[II1iI(0x1fd,'*Y7E')]):console['log']('‚ùì'+iI11I1+'\x20'+JSON[II1iI(0x25a,'0x5J')](il1i1l));break;case IlIlll['gBFcm']:if(il1i1l){if(IlIlll[II1iI(0x211,'7z(7')](IlIlll[II1iI(0x2a9,'1xSa')],IlIlll[II1iI(0x29b,'0x5J')])){IIII1l['log'](IlIlll['uGBFX']),i1ili1[II1iI(0x1c4,'@F9s')][II1iI(0x177,'j&b8')](IlIlll[II1iI(0x17c,'!gx]')]);return;}else il1i1l?.[II1iI(0x182,'a!Q(')][II1iI(0x204,'Pz@B')]!==0x0?console[II1iI(0x19a,'I*TU')]('Á¨¨'+il1i1l['sign_total']+'ÂÖ≥ÊâìÂç°ÊàêÂäü,Ëé∑ÂæóÔºö'+il1i1l?.[II1iI(0x1c3,'MsMI')][II1iI(0x161,'PIKa')]+II1iI(0x1ff,'j&b8')+il1i1l?.['prize']['prize_info'][II1iI(0x1c0,'(5hl')]):console[II1iI(0x1cf,'E7a@')]('Á¨¨'+il1i1l[II1iI(0x25b,'vU7B')]+II1iI(0x22b,'ER7e'));}else il1i1l[II1iI(0x21d,'1xSa')]?console['log'](''+il1i1l[II1iI(0x1a7,'EQ(J')]):IlIlll[II1iI(0x264,'PIKa')](IlIlll[II1iI(0x221,'PIL*')],'odERE')?console[II1iI(0x252,'EQ(J')]('‚ùì'+iI11I1+'\x20'+JSON[II1iI(0x168,'MsMI')](il1i1l)):l1i11I[II1iI(0x229,'kiVg')]('‚ùì'+II11II+'\x20'+Ii1iI1[II1iI(0x1c9,'@PhQ')](lilIli));break;}}catch(iiilil){console['log']('‚ùå\x20Êú™ËÉΩÊ≠£Á°ÆÂ§ÑÁêÜ\x20'+iI11I1+II1iI(0x27c,'!D*N')+(iiilil[II1iI(0x227,'Kiow')]||iiilil));}}async function sendRequest(iil1li){const llI1II=IIIII1,lillIl={'oQcwh':function(lI1lli,Ill1l){return lI1lli+Ill1l;},'KIWYD':'auth','KKJcJ':llI1II(0x1ae,'Pz@B'),'gFGDi':llI1II(0x170,'ER7e'),'CmxJY':llI1II(0x28d,')Uf)'),'RDMOh':'gzip,\x20deflate,\x20br','hiGFH':'application/x-www-form-urlencoded;charset=UTF-8','ouLZb':llI1II(0x27d,')Uf)'),'hGfOe':function(llI1Il,ii1iii){return llI1Il===ii1iii;},'fOZKa':llI1II(0x222,'kvGB'),'mPCms':function(i11iil,Ill1i){return i11iil===Ill1i;},'glCAP':llI1II(0x2a0,'TWzd'),'ALQdh':llI1II(0x1d1,'q^%v'),'UuAbv':llI1II(0x267,'MsMI'),'SAvXu':function(ii1iil,lllI1l){return ii1iil===lllI1l;},'QvHnz':function(i11iii,llI1Ii){return i11iii!==llI1Ii;},'uzNzm':llI1II(0x1da,'E7a@'),'rLGcC':llI1II(0x22c,'eBok'),'dSMVD':function(lllI1i,li1i1l){return lllI1i===li1i1l;},'JfuvF':function(II1i1,lI1lll){return II1i1===lI1lll;}};if($[llI1II(0x1e4,'EJSK')]||$[llI1II(0x289,'A]sQ')])return;let iIiIl=llI1II(0x237,'eBok'),iiilii='',li1i1i=llI1II(0x1b6,'2[ns');switch(iil1li){case lillIl['KIWYD']:iIiIl+=llI1II(0x202,'&doP'),iiilii=llI1II(0x279,'O@JY')+$['jdToken']+llI1II(0x179,'AEIl');break;case'get_user_info':li1i1i=lillIl[llI1II(0x238,'*Y7E')],iIiIl+='/'+$[llI1II(0x26c,'vU7B')]+llI1II(0x172,'vmJj');break;case llI1II(0x1ed,'j&b8'):li1i1i=lillIl[llI1II(0x27f,'Kiow')],iIiIl+='/'+$[llI1II(0x287,'@PhQ')]+llI1II(0x20a,'COGQ');break;case'do_task':iIiIl+='/'+$['act_type']+llI1II(0x210,'a!Q('),iiilii='token='+$['sub_task'][llI1II(0x26f,'erln')]+llI1II(0x17b,'PIKa');break;case lillIl[llI1II(0x190,'a%iW')]:iIiIl+='/'+$['act_type']+'/map_go';break;case'map_sign':iIiIl+='/'+$[llI1II(0x1c2,'Kiow')]+'/map_sign';break;default:console[llI1II(0x16d,'vU7B')](llI1II(0x24d,'MehD')+iil1li);return;}const IlIli1={'url':iIiIl,'method':li1i1i,'headers':{'Host':lillIl['CmxJY'],'Accept':llI1II(0x18b,'7z(7'),'Accept-Encoding':lillIl[llI1II(0x24e,'rPY!')],'App-Key':$['appKey'],'Accept-Language':llI1II(0x1ad,'TWzd'),'Content-Type':lillIl[llI1II(0x18f,'*Y7E')],'Origin':lillIl[llI1II(0x207,'COGQ')],'Referer':llI1II(0x1f8,'vU7B'),'User-Agent':$['UA'],'X-Requested-With':'com.jingdong.app.mall'},'body':iiilii,'timeout':0x7530};$[llI1II(0x184,'ALcV')]&&(lillIl[llI1II(0x1c6,'&doP')](lillIl[llI1II(0x1d9,'vmJj')],llI1II(0x297,'vU7B'))?IlIli1[llI1II(0x1b5,'a%iW')]['Authorization']=$[llI1II(0x1fb,'(5hl')]+$[llI1II(0x197,')Uf)')]:(i1lI[llI1II(0x162,'Z6ep')]=!![],IlI1l[llI1II(0x1cf,'E7a@')]('‚ùì'+lilIil+'\x20'+i1l11[llI1II(0x1ba,'erln')](i1l1li))));li1i1i===lillIl[llI1II(0x273,'COGQ')]&&(lillIl[llI1II(0x256,'0x5J')](lillIl['glCAP'],lillIl[llI1II(0x2a2,'vmJj')])?I1ilIl[llI1II(0x26a,'@F9s')][llI1II(0x1d4,'!gx]')]=lillIl['oQcwh'](I11iII['token_type'],I1ilIi['token']):(delete IlIli1[llI1II(0x1f4,'EJSK')],delete IlIli1['headers'][lillIl[llI1II(0x258,'EJSK')]]));const illIiI=await common[llI1II(0x251,'q^%v')](IlIli1);if(lillIl[llI1II(0x259,'rPY!')](illIiI['status'],0xc8))lillIl[llI1II(0x1f6,'kvGB')](lillIl['uzNzm'],lillIl[llI1II(0x199,'rPY!')])?handleResponse(iil1li,illIiI[llI1II(0x29a,'vmJj')]):llIlii[llI1II(0x1f9,'PIKa')](''+llIlil[llI1II(0x245,'2[ns')]);else{if(lillIl[llI1II(0x1a5,'EQ(J')](illIiI[llI1II(0x1cd,'TWzd')],0x1a6))illIiI[llI1II(0x23c,'*Y7E')]?.['includes']('ÁªàÁÇπ')&&($[llI1II(0x1f5,'Z6ep')]=!![],console['log'](''+JSON[llI1II(0x189,'Z6ep')](illIiI[llI1II(0x16e,'3#xS')])['message']));else{if(lillIl[llI1II(0x298,'8uwM')](illIiI[llI1II(0x2a1,'@PhQ')],0x193))console[llI1II(0x24b,'kvGB')](llI1II(0x292,'E7a@')),$['skipRun']=!![];else illIiI['status']&&console[llI1II(0x20c,'MehD')]('üö´\x20'+iil1li+llI1II(0x1e0,'0x5J')+illIiI[llI1II(0x240,'PIL*')]);}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`üîî${this.name}, ÂºÄÂßã!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t.stack):this.log("",`‚ùóÔ∏è${this.name}, ÈîôËØØ!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
