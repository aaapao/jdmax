/*
活动名称：生日礼包（超级无线V2）
活动链接：https://lzkj-isv.isvjcloud.com/prod/cc/interaction/v2/<类型id>/1001/?activityId=xxxx&shopId=xxxx
环境变量：jd_lzkj_v2_birthday_url // 活动链接
		jd_lzkj_v2_birthday_opencard // 是否入会（true/false），默认不入会
        jd_lzkj_v2_birthday_notify // 是否推送通知（true/false），默认不推送
        jd_lzkj_v2_birthday_break // IP被限制后继续执行，默认退出运行（true/false）

支持的活动类型：20002 生日礼包

cron:1 1 1 1 *

*/

const $ = new Env('生日礼包（超级无线V2）')
var iｉl='jsjiami.com.v7';const I1il11=iii1II;(function(Iil1il,I11i1i,l1l1iI,I1llI1,I11i1l,il1il,Il1i1i){return Iil1il=Iil1il>>0x1,il1il='hs',Il1i1i='hs',function(iIIili,Ii1iiI,Ilil1I,iliIiI,II11iI){const IlllI1=iii1II;iliIiI='tfi',il1il=iliIiI+il1il,II11iI='up',Il1i1i+=II11iI,il1il=Ilil1I(il1il),Il1i1i=Ilil1I(Il1i1i),Ilil1I=0x0;const Il1i1l=iIIili();while(!![]&&--I1llI1+Ii1iiI){try{iliIiI=parseInt(IlllI1(0x300,'*GvO'))/0x1+-parseInt(IlllI1(0x1f8,'Jiv8'))/0x2+parseInt(IlllI1(0x22d,'*GvO'))/0x3+-parseInt(IlllI1(0x264,'x1te'))/0x4*(-parseInt(IlllI1(0x337,'cd(H'))/0x5)+-parseInt(IlllI1(0x1fd,'3$%B'))/0x6+parseInt(IlllI1(0x292,'(WV['))/0x7+-parseInt(IlllI1(0x13c,'Jiv8'))/0x8;}catch(Iil1ii){iliIiI=Ilil1I;}finally{II11iI=Il1i1l[il1il]();if(Iil1il<=I1llI1)Ilil1I?I11i1l?iliIiI=II11iI:I11i1l=II11iI:Ilil1I=II11iI;else{if(Ilil1I==I11i1l['replace'](/[TDYbfKrCELhAWtMegBu=]/g,'')){if(iliIiI===Ii1iiI){Il1i1l['un'+il1il](II11iI);break;}Il1i1l[Il1i1i](II11iI);}}}}}(l1l1iI,I11i1i,function(lill1I,Ii1ii1,Ilil11,i1ii1,il1ii,llI111,i1iIiI){return Ii1ii1='\x73\x70\x6c\x69\x74',lill1I=arguments[0x0],lill1I=lill1I[Ii1ii1](''),Ilil11=`\x72\x65\x76\x65\x72\x73\x65`,lill1I=lill1I[Ilil11]('\x76'),i1ii1=`\x6a\x6f\x69\x6e`,(0x16fa1f,lill1I[i1ii1](''));});}(0x17a,0x616a8,Iii11l,0xbf),Iii11l)&&(iｉl=`\xe83`);const jdCookie=require(I1il11(0x267,'0uLr')),common=require('./utils/Rebels_jdCommon'),notify=require(I1il11(0x309,'RPOi')),getToken=require(I1il11(0x33a,'Jiv8')),{wuxianDefense}=require(I1il11(0x2f2,'cd(H')),{lzkj_interaction_v2_savePrize}=require(I1il11(0x325,'Jiv8'));console[I1il11(0x1aa,'cd(H')](''),console[I1il11(0x196,'WFTK')]('=========='+$[I1il11(0x20a,'vod!')]+I1il11(0x29a,'oVNA')),console[I1il11(0x310,'4cCW')](I1il11(0x2c3,'vod!')),console[I1il11(0x2e3,'(X1*')]('jd_lzkj_v2_birthday_opencard\x20//\x20是否入会（true/false），默认不入会'),console[I1il11(0x15b,'Jiv8')](I1il11(0x14b,'x1te')),console['log']('jd_lzkj_v2_birthday_break\x20//\x20IP限制后继续执行（true/false）'),console[I1il11(0x145,'hjDR')](I1il11(0x315,'y6yM')+$[I1il11(0x20b,'p!)K')]+I1il11(0x16a,'n[R7')),console['log']('');const activityUrl=process[I1il11(0x2e6,'FSCU')][I1il11(0x1ce,'wI*p')]||'',joinMember=process[I1il11(0x15c,'1oV4')][I1il11(0x259,'y6yM')]==='true',isNotify=process['env'][I1il11(0x25d,'vod!')]==='true',hotbreak=process['env'][I1il11(0x13d,'Tag[')]===I1il11(0x2ca,'hjDR');let cookie='',originCookie='';const cookiesArr=Object[I1il11(0x2f7,'Xxy)')](jdCookie)[I1il11(0x1f3,'@Ef#')](I1l11i=>jdCookie[I1l11i])[I1il11(0x1b5,'p!)K')](iIIiiI=>iIIiiI);!cookiesArr[0x0]&&($['msg']($[I1il11(0x2f9,'1rG[')],I1il11(0x1fb,'*2u7')),process['exit'](0x1));function iii1II(_0x36eecb,_0x130bd2){const _0x4b5c13=Iii11l();return iii1II=function(_0x144d37,_0x15b6ff){_0x144d37=_0x144d37-0x130;let _0x24fbd=_0x4b5c13[_0x144d37];if(iii1II['YAukWI']===undefined){var _0x32810d=function(_0x177f38){const _0x146f3c='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1134fb='',_0x3c40ae='';for(let _0x8c41e9=0x0,_0x37ce98,_0x92d5cd,_0x4fb571=0x0;_0x92d5cd=_0x177f38['charAt'](_0x4fb571++);~_0x92d5cd&&(_0x37ce98=_0x8c41e9%0x4?_0x37ce98*0x40+_0x92d5cd:_0x92d5cd,_0x8c41e9++%0x4)?_0x1134fb+=String['fromCharCode'](0xff&_0x37ce98>>(-0x2*_0x8c41e9&0x6)):0x0){_0x92d5cd=_0x146f3c['indexOf'](_0x92d5cd);}for(let _0xbf0b30=0x0,_0x456ade=_0x1134fb['length'];_0xbf0b30<_0x456ade;_0xbf0b30++){_0x3c40ae+='%'+('00'+_0x1134fb['charCodeAt'](_0xbf0b30)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3c40ae);};const _0x358201=function(_0x1fcd9b,_0x3901ce){let _0x797e70=[],_0x22b2b3=0x0,_0x5e91f8,_0x1a1ec7='';_0x1fcd9b=_0x32810d(_0x1fcd9b);let _0x1fab9c;for(_0x1fab9c=0x0;_0x1fab9c<0x100;_0x1fab9c++){_0x797e70[_0x1fab9c]=_0x1fab9c;}for(_0x1fab9c=0x0;_0x1fab9c<0x100;_0x1fab9c++){_0x22b2b3=(_0x22b2b3+_0x797e70[_0x1fab9c]+_0x3901ce['charCodeAt'](_0x1fab9c%_0x3901ce['length']))%0x100,_0x5e91f8=_0x797e70[_0x1fab9c],_0x797e70[_0x1fab9c]=_0x797e70[_0x22b2b3],_0x797e70[_0x22b2b3]=_0x5e91f8;}_0x1fab9c=0x0,_0x22b2b3=0x0;for(let _0xd67e63=0x0;_0xd67e63<_0x1fcd9b['length'];_0xd67e63++){_0x1fab9c=(_0x1fab9c+0x1)%0x100,_0x22b2b3=(_0x22b2b3+_0x797e70[_0x1fab9c])%0x100,_0x5e91f8=_0x797e70[_0x1fab9c],_0x797e70[_0x1fab9c]=_0x797e70[_0x22b2b3],_0x797e70[_0x22b2b3]=_0x5e91f8,_0x1a1ec7+=String['fromCharCode'](_0x1fcd9b['charCodeAt'](_0xd67e63)^_0x797e70[(_0x797e70[_0x1fab9c]+_0x797e70[_0x22b2b3])%0x100]);}return _0x1a1ec7;};iii1II['AhkWIA']=_0x358201,_0x36eecb=arguments,iii1II['YAukWI']=!![];}const _0x232530=_0x4b5c13[0x0],_0x23de69=_0x144d37+_0x232530,_0x5da363=_0x36eecb[_0x23de69];return!_0x5da363?(iii1II['qrDJVu']===undefined&&(iii1II['qrDJVu']=!![]),_0x24fbd=iii1II['AhkWIA'](_0x24fbd,_0x15b6ff),_0x36eecb[_0x23de69]=_0x24fbd):_0x24fbd=_0x5da363,_0x24fbd;},iii1II(_0x36eecb,_0x130bd2);}!(async()=>{const lI1l11=I1il11,liiI1i={'Izktu':'活动仅限店铺会员参与哦~','WhcXV':lI1l11(0x2fb,'FSCU'),'LpVCt':function(lilIIl,ililIl){return lilIIl!==ililIl;},'fgaPJ':lI1l11(0x249,'q3LD'),'aOeDu':'⚠\x20请填写格式正确的链接','idgHK':lI1l11(0x1fe,'*2u7'),'bGeEC':function(liiI1l,i1l1II){return liiI1l!==i1l1II;},'oyeSY':'wsDyl','SMYKx':'/prod/cc/interaction/v2/','okBjP':'20002','sMyWc':lI1l11(0x319,'Xxy)'),'aMmuA':function(i1ill,I1l11l){return i1ill+I1l11l;},'UYxvK':function(lilIIi,i1l1Il){return lilIIi<i1l1Il;},'OpUZs':function(llIli,i1i11l){return llIli+i1i11l;},'QsFtx':function(i1i11i){return i1i11i();},'GsfQA':lI1l11(0x235,'Tag[')};if(!activityUrl){console['log'](liiI1i[lI1l11(0x30f,'n[R7')]);return;}const ililIi=common[lI1l11(0x276,'4n8h')](activityUrl);if(!ililIi){if(liiI1i[lI1l11(0x209,'hjDR')](lI1l11(0x225,'RqkK'),liiI1i['fgaPJ'])){console[lI1l11(0x2be,'90[8')](liiI1i['aOeDu']);return;}else{I1l1Il[lI1l11(0x310,'4cCW')](liiI1i[lI1l11(0x1df,'JP%D')]),llIll1['message'][lI1l11(0x1a5,'u$cj')](lI1l11(0x268,'oVNA'));return;}}$[lI1l11(0x1e8,'dEKE')]=common[lI1l11(0x1d9,'y6yM')](activityUrl,'activityId'),$[lI1l11(0x324,'JP%D')]=common[lI1l11(0x1d9,'y6yM')](activityUrl,liiI1i[lI1l11(0x248,'(WV[')]),$[lI1l11(0x2fc,'oVNA')]=ililIi['hostname'],$[lI1l11(0x23f,'x1te')]=ililIi[lI1l11(0x2fa,'u$cj')];if($['hostname']){$[lI1l11(0x1c5,'dEKE')]='https://'+$[lI1l11(0x2b3,'0uLr')],$[lI1l11(0x228,'fF&P')]=lI1l11(0x15a,'*2u7')+$[lI1l11(0x339,'[5C]')]+'/prod/cc/interaction/v2',$[lI1l11(0x21e,'*GvO')]=$['baseUrl'];try{if(liiI1i[lI1l11(0x211,'FSCU')](liiI1i[lI1l11(0x273,'#XAE')],liiI1i[lI1l11(0x33b,'#U2^')]))IilIli['log'](li1['message']),illIl1[lI1l11(0x313,'c2Qj')]=!![];else{const IiiliI=$['pathname'][lI1l11(0x22c,'fF&P')](liiI1i['SMYKx'])[0x1];$[lI1l11(0x2b5,'#U2^')]=IiiliI[lI1l11(0x30c,'y6yM')]('/')[0x0],$[lI1l11(0x2da,'xOg*')]=IiiliI[lI1l11(0x1ec,'wI*p')]('/')[0x1];}}catch{}}if(!$[lI1l11(0x1e1,'FSCU')]||!$['shopId']||!$[lI1l11(0x2c1,'hjDR')]||!$['activityType']||!$['templateCode']){console[lI1l11(0x199,'w[cS')]('⚠\x20请填写格式正确的变量');return;}switch($['activityType']){case liiI1i[lI1l11(0x26c,'wI*p')]:break;case lI1l11(0x27d,'x1te'):console['log'](lI1l11(0x280,'0uLr'));return;case'20003':console[lI1l11(0x282,'c2Qj')](liiI1i['sMyWc']);return;default:console['log']('❌\x20当前活动类型（'+$[lI1l11(0x1f7,'DG$(')]+lI1l11(0x17e,'RqkK'));return;}$['activityUrl']=lI1l11(0x24a,'I!um')+$[lI1l11(0x338,'w[cS')]+'/'+$['templateCode']+lI1l11(0x2c0,'q3LD')+$[lI1l11(0x20e,'RqkK')]+'&shopId='+$[lI1l11(0x22b,'Xxy)')],notify[lI1l11(0x326,'wI*p')]({'title':$[lI1l11(0x25e,'[5C]')]}),console['log'](liiI1i[lI1l11(0x132,'wI*p')](lI1l11(0x25b,'y6yM'),$[lI1l11(0x33e,'[5C]')]));for(let iii1iI=0x0;liiI1i[lI1l11(0x1e3,'Jiv8')](iii1iI,cookiesArr['length']);iii1iI++){$[lI1l11(0x25a,'#U2^')]=liiI1i['OpUZs'](iii1iI,0x1),cookie=cookiesArr[iii1iI],originCookie=cookiesArr[iii1iI],common[lI1l11(0x27e,'ieyx')](originCookie),$['UserName']=decodeURIComponent(common[lI1l11(0x1ea,'[5C]')](cookie,lI1l11(0x1b4,'*GvO'))),$['UA']=common['genUA']($[lI1l11(0x1cc,'Xxy)')]),$[lI1l11(0x2a5,'i]ZX')]=notify[lI1l11(0x18e,'w[cS')]($[lI1l11(0x152,'DG$(')],$[lI1l11(0x134,'fhu[')]),$[lI1l11(0x171,'n[R7')]='',console['log']('\x0a******开始【京东账号'+$[lI1l11(0x1b1,'fhu[')]+'】'+($[lI1l11(0x15f,'fF&P')]||$['UserName'])+lI1l11(0x236,'1oV4')),await liiI1i['QsFtx'](Main),common[lI1l11(0x1b6,'*GvO')](),await $[lI1l11(0x14f,'oVNA')](0x1f4);if($['outFlag']||$['runEnd'])break;}isNotify&&notify['getMessage']()&&(liiI1i['GsfQA']!==liiI1i[lI1l11(0x217,'Z#T2')]?l11i1i[lI1l11(0x2a7,'3$%B')]('❓'+lI11I1+'\x20'+l1il11[lI1l11(0x2b2,'ieyx')](IiI1)):(notify[lI1l11(0x29e,'4cCW')](lI1l11(0x229,'1oV4')+$['activityUrl']),await notify['push']()));})()['catch'](il1iII=>$[I1il11(0x16d,'Xxy)')](il1iII))[I1il11(0x1a0,'Xxy)')](()=>$[I1il11(0x157,'Jiv8')]());function Iii11l(){const liI1ii=(function(){return[...[iｉl,'BLjbsjTLiWAamDfiK.fcferoYhmubg.KCMvtCt7E==','5REc5yQl5BsE57IT5PYY77+Y57UQ5P+b5PEX6zEP77+d','WQBcJ8kdW4nDWOS','WRZdTCkK','W6iIW4JdVCoF','BSoMW6DKWP1EnW','W6NcOqBdSxS','tNnhWQ9Y','44cr5OYI56sU44gu6kYy5yEf6i+m5y6EW7NcKMhcNmkeWRS','WRBdRSoAW6ZdUmo+BYpcOW','W4zQfq','tmk2W51xW6JdI8ooASoFWP3dJa','owFdVmkXWO8','CSoMW4zvWPW','WPjey3aK','FmoQxq','W5DTW4NdUCoDoCkr','776u5Bsq5OMF5yQQ6iAZ5yIc55Ug6kYo5PEl6lwq5zYE5z+pB2C','5RAW5yQN5Bsa5lIIaa','5yM65yE55BMl6zgx5l++5zco5AEX6lAj77665RsP5yI35lQi6zIY5BIP6zg75lY55zcL5y+X5lMh5zglW44','WPbMC1SC','W6FcIbldThFdJ8oo','W6pcGWxdOM4','W7STW58','uLRcHM0cWQ3dOJC','WOLxWRpcJGtcKa','fSotDvCYDq','WOXnWP/cMXNcVvBdSwX0WRW','5yUx5ysD5BQg6zcL5l6r5zgb5AE06lAp772f5RA25yQI5lQs6zQj5BIJ6zoK5lY15zgx5y6K5lMh','deFcMCk7WRi','ECoNBYrYvCo4WR7dNmk7','W7pdQvzRmCkCW64VWPuQf8kWWOi','WRtdP8oEW6tdL0VcVwy','Dmo0pCkT','ACkeW4TeW6O','8joXVWBNQ6ZMSiJdPUM6U+woOUs5TEwkI+I1UsG','WP52WO7cUt8','W5mUW79hqW','DCoRwCoqBSonsa','xCkGW5Pw','bvRdRSkaWQ4','qKBcMLWeWQ0','WRFcHSkFW5zbWP1k','W7qWW51vwSoysCkChCkk','W6pdRKn6kSklW44kWP05','W6NcRSoKWP3dLwdcJmopW7H0W4Oo','WPxcSCkrBSogaSkExmo2','WRNdL8kqW5JcJq','5P2A6iYn5y+p5yIt5lQS5yQM5l+h5Ok4','xCo8W6X3WR9tiXS','eUw/L+wNRE++MUAzHUEaHowhP+ACSowrN8of','W5KPW5xdVCoucILwymoNW4iuW5jEWO8miSk6smoEWPldN8kM','lSo7h8odkq','6i2T5y2kWOFdUCklpCkLW4ldQ+wKO+I2UG','W7NcMrpdRNJdJ8ocCNC','kmozyWuFW7m','owpcR8kX','WPbnWP/cMX/cIG','zSonAWmkW6L2oCo+','krHhpqW','WQNdQCohW5ddSCorAq','W54xW7newa','W4W3W4Ouq2PoBZjQdmozomkYW5e','AmkCzYdcNCo5','5P+S6ykE6yE+55Is5RAM5yIy5y+m5lMa5P6N5lII772K','uLlcH3W/WRVdRW','W75iWOldVNa','ASoNoCkYp3JcG8oYmW','B2TwWQTI','WPHaWPJcLXVcL03dP1nKWQLz','FCoQEd99tmo4WPFdVmkX','W5X8lezW','WOiSkSkDW6q','W41MhSkbF8kjWPW','WPj7WOtcRGi','W7Gyk8k7W50XnWdcMq','ECoNnCkPlLpcTSo2o8oV','WRtcHmkyW5PIWOzsWQldHCom','og/dGmkHhNq','W7aNW4X3qCosDSkCfCk5EHdcPg8','eSoBAKycDuO','W4a9W6BdUmoA','c1C/W5KIW6y4cSkBWPFcJ3hcPW','W7qTW5Xr','eCozBuOHBLlcRSo5jNu','D8oWDmkxW7zpW5CypSkOW7RdLgtcR8ovWPNcKHf4W6ODjHO2','WR3dV8otW7xcLgFcNs49BhOEhq9rWPe','uc/cUSkZkG','W5DPW4O','W6FdUvjApCkAW7mvWPKOc8kEWPbCWPC','WQNdO8ozW7/dMe3cTq','56Qg5Rct8jAsTG','W6PSWOBdHvBdU0/cK8oNW70CW64','W6nez8oCWPzSnrpcQc5MeG','zJZcMmoKngnQbmkP','ogxcUCkGWO3cMCknWPC','44kq5O2m56sC44ck6k6P5yAM6iYT5y61WRmZhCk3WPHk','BmoUW71K','mmohlxddMCk8sYFdTSkiyCk5WPS','W7pdTeLRf8kk','W5RcV1BdGw/dPmkzFa3cJCkFdG','v04ZW4OvW7OG','vSk2uSo3','suaPW4KMW6GR','8j2mHSkP','W7T9WPVdLKxdHKlcMSow','5l+n5zcT56YB57Mm5lQI6lER772b5PAf5Rc/5y665lIb5Rwg5yUCgq','eXLLWR4','WRddO8ohW7ZdLuVcPgyAzZ4Z','WQ3dPI7cPcW','DSkBW7pcOCk8','WOVcOSkvCq','hSoBDey','W6LzjfP1','WQNdQmkUW4tcIJhcQCokW48','l13dGmkGWPWtWRRcQSk8W4m','W69UWOBdJq','WPqApmkFW4O2ouJcVGf/ga','FSooArni','W6BcIa/dOgldGa','l0pcGCkFWQS','6i+p5y6vx8kwWQ3dGtHVWP/LP4pOTj3VVAi','fUw+IEwNH+AwOoMxV++8VW','W67cRSoRWP3cIttcGSoDW5Lt','WOpdTComW53dUa','WOqZW44OhNnTAZiKdCotk8k+W40','zmo0c8o+B3f8','W7aNW4X1tCojDmkdgCkByJ7cShLc','W45HW5FdRW','C8oRuSotEG','z8kBBa','WPzrWOxcMqtcKa','g/gkL4e','4P2wWRxOHyRMN6tOVOROOBRPGQxLIQ/KU5dPLPpOR4S5','WO/dJc/cKXGkWObmW6ddQSoSFW','FCoGsCorDSoAwq','W5JdRgXqkW','u8kKvCo/E8ot','fLZdLCk6WP4','sCk0W51F','WOv+xwDfWQ3dM14cWRG','sKaTW5GMW7WRoSk5WOK','xEoaGoA2KEwjOowCT+wCJ+obJW','kpc5R7dVUQu','E8oNW6z1WRHw','v1u2W5mZ','W4GrW5RdH1xdIGddJN1LWRffW5a','seaSW58R','44cHoEAjIEs4TowVToEkOmkJ','WQNdHSkBW7W8WRSb','W6VcNrhdQ3/dI8okygDGWOdcS1GBW4yRyCk/BvpcUvZcVmokW77cRGC2WOPRW7D/W5u','W6boW5VdNSoE','ECoRsCohzCoj','WOLrWOxcHaJcSfJdS2i','lI1wWOBdKW','FtRcGmoIlwvu','WOVdMYVcMreLWPveW4y','W6qYW5rDwG','W6BcGGy','mtq1WRhcMG','W77WOP+t','WPrgWP/cJqZcMvW','u33cVuaq','AuBcKumL','WO1CW5/cS8oEuu7dVG','W51Xf1bPwgK','cg/dUCkdWOe','W4j/cevx','WRFdImkbW78pWQKk','W6/cHdddQxK','bmotDey','nSoPzCktW7WbW5KE','tmkoW4VcHSkTWQBcSXO','W4D+gwHW','yZpcUmksba','lqnujbfPEmo5WQnaxCklbuxdVdZdHJ18WOnml3VdKCkAW7tcKweoWOddK8kCW6tdUSolWO3cJmkMWQKXnCoJWR/dL8opo8o8W47cV8oFAmoslqy'],...(function(){return[...['W407W4y','6i2m5y2/gCk3gWdcKuFdVUwMToI2Rq','kWFcJmoYWQmsWO/cPCkHW4G','s8oeAWj4','qxrjWOPLW6VdSrf7FmogWPPHdqe','jSoADJCsW6b1','C8o8EbbNrmoR','zCktDmohCa','W5tdT8oaiCkuFSokE8oHW5tcRCkPCa','WQxcLmkAW7Db','oUoaO+E4P+ADHUAwNoMuVEocKG','e8ovFuy','EhhdMSkHkcWXrCoXW5qmW4BdS8kOjmkay0O7W78QWRa','W6FdTLnWga','W4e2W6eTs210uty5pSoEjCkLW5FdJCkAW59jgWDbp0DkE3ys','i3tdISkbca','5RAq5yU65yEB5y6I77YR','5yUy5ysM5BUO6zc45l+y5zoY5OMn5yQE','WO/cP8kNEmozj8kvBSoLWR7cHmkpwSkxW5FdOCoXWRRcGH1lWRRdUMRdI8k9','W7KJW5vr','W5jTW5VdRSozlmkh','5REH5yI05lIz6zU95BMZ6zkS5l+A5zo05y205lIC','WP/cS8kcW6DD','ud3cVSkxl1dcTwZcTshdG2G','WPmcWRa','W4v+W7/cJSowAu4','sN5A','AmkCCcdcLW','WQZcQsf0W5pdMKdcT8obW4e','5RwJ5yIO5lUd6zQO5BIf6zkA5l6U5zcJ5y+t5lUp','WP91qx8EWOxdGHGlWRK','CSoWmCkSp0tcKq','W7BdIYfEW7W','W5WMW4JdU8o+','xCoFuSoayW','gCoHW7i1jWO','WRhcHSkyW5i','5l6R5OkT5yQY8lUfV++5RG','looaGEw6QUMqPEwqMUELT+ocSfm','WOhcOSkmDq','xCkUq8ofrq','WOVcPSkpDSocp8kAzmoHW6a','rmoAW7bJWOa','zCkeWP3dS8oaW57dKdC','WRtdVCkXW4G','6i2s5yYvW5HaW4WNWPPFWRpLPR3OT77VV6W','h8okFe0uzLtcS8oGpxCT','W6jHWOBdIvldS1JcNSoAW6ScW51l','DCoNAdnZ','u0hcKxGEWQZdLYDqya','W48nWPVdQ8kb','xSkWW519W7hdJCorESoV','WQldVCohW7C','5PIa5lQl5PwK5OYrW4VLJ7lNUOJNP6dLJQ3dUEA1IUwlTq','kSoJW64ria','nMpcRa','WQJdQCon','WONcRmkF','AEITMoAXGowsVow7QSkH','W7ddTerHfG','y8oXsmolECoAvCoDWQS','5RsF5yQn5lMx5PAv5O2g5Ps/5ysR5l215zkt5yYN5lUO','WO9Stw44WPxdUa','5PYA6ioo6i2d5y+p55wc5OU+6yU35PYn5l+C5OgQ776U','W73cMMxdPxm','WOJdNspcKqa/WP1eW4y','5l6c5zk656Yg57Qs5lMu6lsz','WO3cHSkHvSon','tJFcUSkjefNcRNNcUYVdIM/cGhW','x8kLWQLhCfPDzMhdVqCa','w8k5vCoZBSoj','WPOOsrbwt0vBed8','Fmo2W7LG','FEA1G+wkUEwtKUELU++8GW','W7KTW48','WRNcImkl','qmkIsmotCSoz','WRldS8kVW5NcIJFcRCoj','WQZdL8kCW78UW6zlW6W','5y6a6ywp6k+Y5PU2WQ9DWOLglmo8WQNcNtZdOa','y8o7hmopu251','WPmO8lgSLE+6SW','WP1KuhCCWONdOGGOWR3dRxu','W5RcRfldJxFdQCkUAJFcGmkkbxW','jbdcH8o0WQmF','W55PW47dQW','W51TW47dI8oFkSkDW5hcUr0AW71DkSkQ','vbFdHSoPWQZdKSk0','dYiwWRy','W6tORztMSQRLPR7OTBJdVokFUmoJ5Pwp5zg75BUY5PEv5O2B','bSoXW68dkaLa','4PMKWQBORz3LO6FLHkdMOjBLV5/MRAdNOlFNMOZLJOlPHPK','BCkDCW','8lwMG++6SwhKVkNMG6BLIky','cYGwWRlcKmoFmW','g3RcJSktWRC','mW8QWQtcHG','wapdSCocWRS','ACo+oCk4cepcJa','WOJcPSklz8ock8kA','xJddVSkKdr3cU2hdJt/cMJ3dIZC','lUobIow/K+wKRoAwTEMxHEodKa','4P6zW4FMN4BNNzBOR6pMSQ0g','xSkHW5TxW7ddHCotDCoZ','W6RdQtHKW77dLelcUq','W4P7cKe','k3NdMSknbNKUW4ycCMPJ','W6vUWP/dIq','5P6b5Ac55z6o5zYb','xGJdNmoQW6hcLCk1gwC8tSoWW7RcNL0BWRm','WOJdMs7cIGa','sdFcTa','bpgkGP8','WOeDeCkNW5W','zmoGW64','WRBdS8k7','WPbyW5JcQmorv0y','c2FcSSken1JcT2dcGJFdRMNdMa','uSkeW5BcLSkMWRxcLXS','cWbteGq','WO/cP8kNEmozj8kvBSoLWR7cHmkpwSkxW5FdOCoXWRRcGH1qWQFdOIpcGSoRioA0RUwlVUMqNUAoMG','W4fZhCkxCmkkWRP3W7ddPXD8ra','W5zNW50','W47NUBdMNRFMLBNPLQNVV4y','W6zQWOhdN0hdTv4','oxxdNCkQzJW7FCoUW5C','CCoSFYvQqSoP','tSkzW5dcHW','5lQe5lUP5lMp8jkxV++6SG','a8oOy0SC','Bmo/hmozz3T8','A8kwqcRcHmoOfq','W54OW7NdOSopbIy','vcRcUSkDjN/cOgtcKW','WOpcQSka','W6VcKInClq','q0aUW7SKW7SNgCkIWPhcN0NcO8oCWOC','WQy/oSk6W7u','WP9mWOdcKGlcIwRdTMHT','W7NcMMtdQ30','8kY3R++6U8oP','WPJdGcy','ymkrycZcMCoKdZhdS8kz','W6ZcHYjfnColW4NdM8k+geRdQG','DCoNFZn5uq','A8o9W6XKWOvxgHFdVCkb','W6JcIYfHnSobW5JdKa','8k2CPIlMGjZLL6lOJlBLVOxLR4BNI64C5AAU5zcN5zo556sy77+D','WP/dObRcLrW','cxbnWRy4','CSowW49TWRi','FSoOFZnEv8oG','vr3dKG','W7ONW4Tht8oAEa','W74SW4Trxmoj','ECoNEG','ubZdLSo2WRJdKCk0dW','WRhdVCoAW6i','W6VcJHxdRMddGCoFBvP2WP7dUq','mrjnja4Yi8kZWOXvuSke','5REh5yQV5lUH6zMo5BU96zcA5l6m5zcP5y6K5lUs5zgMBG','lH54nXC','g2ldOSkbeq','z8oVcSoZAW','l8oYW50vjq','lCogW7O2ia','lWHBWPtdVG','pSkQt8owFSort8kuWOdcJX/cMdHZWQD3','ECo2BCokFSojwCoUWQhcJW8','B8o9FJ9LqG','W47cGaL0ma','gH1IWQZdQN7cOa','y8oQW7b2','oSoBCbGqW6z7pSo+','WQJdVCoEW7m','W5bIgCkACmkpWPr9','4PQ8WQNOR7VLHj7LRPhKUAZLVyNOPA/NMlhNJBRLO5BLJkVPHBVLK6FLH63OViFOOzhOHzJMNA8'],...(function(){return['mmoVDCkmW7WbW5KE','D8oWhCoUAW','xHFdGCoBWQ7dGCk4cMGKvSogW77dGrG','cJyrWOFcRmoo','W4OrW5tdJLZdIhxdVuL7WOX/','WRJcGSkbW5fXWP1QWR7dUSonWQy','n2NcUmkNWOtcMSkj','jCoazq','dszffqC','5BQw6zci6zoQ5O+G77+1W6uppmokWO40W5JdGSkTW5WNC8ogWPVcHYBdGxlcHLldLNqxW5nEWOriWObqW40','C8o7jmkTkfFcGCoRp8oLsMvB','W6ZcTWvZeG','q8kMDHtcJq','zLRcNmoNWR4BWQJdO8kEW4JdRfWVW7mJiSk6ESocW7lcHf1mW7BdUCk8wW','nXfYmIK','W7ddTuHpmCkfW78n','W5GIW5iOrq','8lQ/I8ky','lx/dMSkLe2qZW4K/F2nexJNcQW','hSohysKO','W5FcS0u','WQJdGSk/W4OR','5yMK5yEg5BM/6zg15l2h5zke5Awv6lEM776J5RAn5yUo5lMG6zML5BMR6zgu5lYb5zkw5y+L5lQE5zkuW5O','kwFcOSkKWRFcImkc','lCk7oM8ZeCk1WR7dJ8kTpCkkW54','WPzVWOn8ddSJm302','W4NcUvpdNxZdVSkz','4P6kWRZMNPNOGAVMR77NO57LPiRNKyJdPG','WOKJ8ksdHa','5PQk5lQc5PAM5OYeWQRLHzFKVztNPylLJPxcUEA0LUwiVq','j8oaDq','FmkgW7/cGmkn','WQddP8oEW60','s+ITO+AZNUwLGEI1Re7INRKW','W7BdRYz1','ca43WOZcKW','W48YW7j/wW','WPPOshifWPFdHrKjWQW','W5K3W400xxi','5RAq5yU65lQZ5PwU5OYW5PA25yw75lYu5zcy5y+j5lMVW4i','vxLsWQ9EW6m','W7LAj8kFW4y0pKRcUb1TgbGuW4W5bCoBbSknsSovW6SE','W5aIW6tdT8ohbG','qmkSW7LmW7FdMmoFya','WRFdO8oeW6JdT0xcPgO/Cq','WRtdKCkbW7u4WPifWQ7dIG','WQRdJmkF','F8oWtSoKE8oCwW','jdzKgGq','sSkkW5hcISkMWRxcLXS','u0qZW44','5lMN5Awm6yk055Yb','rfRcMxW','W6DGWPu','DxZcUCk7WOhdKSkpWO1DqxZdKCo2WP7cIfDIWRJdLs1EySor','W48ZW4OG','dmoXW6GXkHPmzKRdNXCTWQZdNKi','5yQe5ys95BMe6zcD5l2z5zgP5AEW6lsS77+65Rw15yIp5lUi6zQ15BQz6zok5lYl5zgH5y2L5lMZ','WPxdPmkuW53cQW','iCkXaSkximkpcCoXWQdcSGVcUrC','ymo5g8odChvTqXpcJSo3W78','W78TW4TaqmoCCmkq','W7LAj8kFW4y0pKRcUb1TgbGuW4WEc8ogbSkZ','jwpdI8k3kq','rmkytsZcIa','W4y3W40Yugf7','W7yHW4XDwmouACkmjCkDDW','5P+/6icA6i2B5y2L55s85OUy6yMs5P6y5l2T5Ooh','W57cSvldNga','WQ3dSWRcUti','W5iaW6FdPmoV','gCoXW78vibHaqfhdGHqk','W5/cNGtdTvJdICogCq','BSoVg8oSAN1+','W5W4W77dL8ocacq','s8kUx8oVmCoWj3GCW59/pwNdQaq0','lmoDCb4m','pwNcV8kvWOBcICkfWPGBxgVdP8oYWP/cJa','5RAS5yUQ5BkI5PYE5BYU5Aw277Yr5B+15AA75Psz6zEV772M','mxNdKG','W6rcASoDWPDODqJcRJb5kZa','hrXoWRpdSxlcR8o1p8k/vtxcSmogAKDRbZazAbVcVmowW6y','W6/dQvjDmSkpW70','W7NcHGJdT0tdNCof','W5j2a8k3Cmkk','W67dN2LtkG','iuVdGmkpWOyBWQK','v8koW5BcKCkPWRpcNW','FfZcU2eG','vSkeW4i','WPn1txKdWO4','WO5wW4lcQ8oIru0','W5/cUuhdMMddVCkz','4P+3W7ZMNiJOGzxMRBRNO6pLP6NNKin5','Dw3cU8k9W4RcNSkdWOmFr3ZcISo0WONcNxv1WQxdKZuyymkAW6ldL34S','WPDzW7tcT8okw0NdHmoGiSoVW71fygVcVcNcLIawW5dcIfWhEvLpaf0Y5PQG5zoY6yoA55YU77YAW6O0f1S4i8kpW7eCpU+8ME++NEM7VEIUNUs6MoMdUEEERq','pfVdH8k8WOyo','W5DmaCkkzG','B8oQW71eWPjgjWJdUCkqvmoxmSkeWQq','l8oHB8km','wCkcW4e','y8oTvCoswCoCuCoE','W6jHWPBdIvG','WQxcJSkcW6D7WOrdWRu','uahdOSoYWQtdGCk0kxi1xq','W7L6WPZdQu7dTG','W5n3h8kBCmkjWPb+W6C','WRmApmko','ymkp8j+gLG','W57cTb1ZfG','W6JdQfjRlCouWRvm','WRSAnq','mN7dNa','cbntoYq','WP3MI7/KUPuu','sKW5W5ejW64JcG','fbD1WRO','eCozBuOHBLlcRSo4lwKJ','BCocdSoOra','4PQsW7FOR5hLO73LHOxMOOhLVAxMRlBNOjBNMl/PKQhMJ5a','EmoNqmosCG','W6BdTv4','WQBcKSkpW5bXWPXv','W5udW5jHBq','W7XLW6ddQmo5','WRxdRSk1W4RcJtG','5O6z56Av57Ur5PYUq8k8l2xcUG3dHCoBW4NdLq','W7ecW7uovW','W7ldQuHEmmkk','zmoGW65aWOna','W58IW60','CmkCyWdcVW','WPFdHIu','j8ogyrOWW6b/pq','zCktycq','qcldSmodWPG','lrjbmaCHja','psKMWQVcPq','yq/cVSkGiG','WQZdR8kKW47cKq','W54BW5WsuW','WQldR8os','W5nGqwORWOpdOHGqWRxdTgNcIcpcQCo1','naT3WRBdJG','W59cW5NdP8oe','W7lcI23dQ00','772h5PQ85lQ55yYE5P+g6iwG5P+I5PE85O+0776R6k+Y6igS57c05l2+6icS6l+I6kcD5y2J6AwV77Y/','seO9','krHh','W6jHWOhdIvldPG','g8o5xgeh','q1BcMN0KWQBdTYDBFa','irzunq','lYewWRRcUa','WOnbWQ/cIWC','W6ifW4X3Aa','W67cRaNdQfe','nqvjlGCDnSk7WQO','fsymWRhcO8onoa','WP4VpmkcW58','WQldISkq','W77cJsnznSoDW67dLSksbW','ySoOcSolCNK','W7KJW6LxAW','W5xWNR6L','W7ugW7rIFW','WQqbimkcW4e/japcKW','5Bwb5AcM5z665z+r','WRlcGSkyW7j3WPTpWQ3dPCoCWRpcRHSTWOm','BSoMW7e','xfZcKW','WO5vW4tcQ8o5va','WRFdPCkmW5/cJsZcPCoF','BCo1ca','m8oyBSkOW70','WRydm8kFW44Q'];}())];}())];}());Iii11l=function(){return liI1ii;};return Iii11l();};async function Main(){const II11l=I1il11,iilli={'knnBQ':'/prod/cc/interaction/v2/','uGpRP':II11l(0x2a6,'Z#T2'),'PBZfA':II11l(0x1a3,'3$%B'),'bDLVQ':function(IlllIl,II11lI,lI1IIi){return IlllIl(II11lI,lI1IIi);},'kiXcu':II11l(0x214,'MV[f'),'FQMJk':II11l(0x1d0,'90[8'),'NDNaa':II11l(0x1d6,'I!um'),'rfRfK':function(I1l11I,Ilil1l){return I1l11I(Ilil1l);},'XbYfW':function(iIIiii,iilll){return iIIiii!==iilll;},'minws':'Oqctp','oPtVc':II11l(0x144,'WFTK'),'Wbixz':function(il1iI1,IlllIi){return il1iI1===IlllIi;},'eztoG':II11l(0x2ee,'w[cS'),'nCGnN':II11l(0x137,'#XAE'),'FmZbE':II11l(0x258,'*2u7'),'tcJYa':function(iIIiil,i1l1Ii){return iIIiil>i1l1Ii;},'vjrDm':function(I1iIIi,I1iIIl){return I1iIIi>=I1iIIl;},'hbzpe':'活动已结束','KdZID':II11l(0x2df,'R87n'),'FFGMj':function(lI1IIl,i1ilI){return lI1IIl!==i1ilI;},'FVRFO':II11l(0x23a,'MV[f'),'twiTi':II11l(0x323,'y6yM'),'cLgvm':II11l(0x288,'fF&P'),'Awrai':'venderId','CsfiE':'aCKHt','qJhQZ':II11l(0x25c,'MV[f'),'ziOPm':function(iii1lI,i1ilI1){return iii1lI(i1ilI1);},'EWmGa':'followShop','OxHpO':II11l(0x335,'q3LD'),'AQwqE':function(Iiilii,Iil1li){return Iiilii!==Iil1li;},'EjYig':'RkFpe','VOlGX':II11l(0x261,'dEKE'),'uIbSb':II11l(0x2d6,'4cCW'),'yPEYU':II11l(0x205,'Jiv8'),'hEYBn':function(Iiilil,Iil1ll){return Iiilil(Iil1ll);},'ZFaTb':'receivePrize','sRzhK':II11l(0x198,'90[8')};try{$[II11l(0x2ad,'moVk')]=![],$[II11l(0x153,'dEKE')]='';if($[II11l(0x297,'#XAE')]||$[II11l(0x135,'w[cS')])return;$['jdToken']=await iilli[II11l(0x191,'[5C]')](getToken,originCookie,$[II11l(0x2e2,'FSCU')]);if(!$['jdToken']){console[II11l(0x145,'hjDR')](iilli[II11l(0x2ec,'I!um')]),$[II11l(0x2c9,'FSCU')]['fix'](iilli[II11l(0x241,'RqkK')]);return;}await sendRequest(iilli['NDNaa']);if($[II11l(0x1e9,'#U2^')]||$[II11l(0x250,'n[R7')]||$['skipRun'])return;if(!$[II11l(0x30b,'*2u7')]){console['log'](II11l(0x28a,'WFTK')),$[II11l(0x1e4,'u$cj')]['fix'](II11l(0x33f,'dEKE'));return;}$['getActivityBase']='',await iilli['rfRfK'](sendRequest,'getActivityBase'),await $['wait'](0x1f4);if($[II11l(0x1c4,'WFTK')]||$[II11l(0x251,'FSCU')]||$['skipRun'])return;if(!$[II11l(0x30e,'#U2^')]){if(iilli['XbYfW'](iilli['minws'],iilli['oPtVc'])){console[II11l(0x2e3,'(X1*')]('未获取到任务信息');return;}else{const i1il1=I1iIii[II11l(0x32d,'hjDR')][II11l(0x2d2,'xOg*')](iilli['knnBQ'])[0x1];IllII1['activityType']=i1il1['split']('/')[0x0],I1iIil[II11l(0x221,'R87n')]=i1il1['split']('/')[0x1];}}if($['index']===0x1){if(iilli[II11l(0x185,'MV[f')](iilli['eztoG'],'dSJvs')){i1l1li[II11l(0x265,'JP%D')](II11l(0x1cb,'p!)K'));return;}else{const IIii1l=$[II11l(0x14e,'Xxy)')][II11l(0x151,'cd(H')],I1iIII=$[II11l(0x1f4,'*2u7')][II11l(0x29d,'N9(a')],liiI11=$[II11l(0x334,'i]ZX')][II11l(0x28c,'R87n')],ililI1=$[II11l(0x2fe,'(X1*')][II11l(0x219,'w[cS')],IIii1i=$[II11l(0x245,'p!)K')](iilli[II11l(0x1a9,'N9(a')],liiI11),i1ili=$[II11l(0x21b,'@Ef#')](II11l(0x1f1,'Z#T2'),ililI1);console[II11l(0x16e,'wI*p')]((IIii1l?'店铺名称：#'+IIii1l+'\x0a':'')+II11l(0x305,'3$%B')+$['shopId']+II11l(0x294,'Tag[')+I1iIII+II11l(0x215,'FSCU')+IIii1i+II11l(0x2c6,'WIDY')+i1ili+'\x0a'),notify[II11l(0x2c4,'u$cj')]((IIii1l?II11l(0x271,'JP%D')+IIii1l:'')+II11l(0x2b0,'q3LD')+IIii1i+II11l(0x255,'WFTK')+i1ili);const Iiill1=Date[II11l(0x31a,'n[R7')]();if(liiI11&&Iiill1<liiI11){if(iilli[II11l(0x168,'@Ef#')]===iilli[II11l(0x31b,'hjDR')]){console['log']('活动将在\x20'+IIii1i+II11l(0x1cd,'#XAE')),$['message']['fix'](II11l(0x13a,'[5C]')+IIii1i),$[II11l(0x2ff,'MV[f')]=!![];return;}else l1iIIl[II11l(0x310,'4cCW')]('❓'+iiilll+'\x20'+lI11Il['stringify'](lIII1i));}if(ililI1&&iilli['tcJYa'](Iiill1,ililI1)){console['log'](II11l(0x1ad,'DG$(')+i1ili+'\x20结束，下次早点来吧~'),$[II11l(0x1f5,'Z#T2')][II11l(0x165,'*2u7')](II11l(0x19c,'*GvO')+i1ili),$[II11l(0x155,'DG$(')]=!![];return;}}}if($[II11l(0x140,'u$cj')]||$[II11l(0x32b,'cd(H')]||$['skipRun'])return;const iillI=$[II11l(0x139,'c2Qj')]['thresholdResponseList']||[],lI1III=$[II11l(0x194,'dEKE')][II11l(0x1ba,'*2u7')]||II11l(0x1f9,'1oV4'),IIliIi=$[II11l(0x2d3,'fF&P')][II11l(0x301,'dEKE')]||0x0;if(iilli[II11l(0x2fd,'w[cS')](iillI[II11l(0x29f,'RPOi')],0x0))for(const lilII1 of iillI){if(II11l(0x1e5,'*GvO')!==II11l(0x19a,'oVNA')){i1l1I['log'](iilli[II11l(0x1dd,'DG$(')]);return;}else switch(lilII1[II11l(0x293,'Xxy)')]){case 0x0:console[II11l(0x2bd,'Xxy)')](iilli[II11l(0x1a2,'JP%D')]),$['message'][II11l(0x24b,'y6yM')](iilli[II11l(0x164,'cd(H')]),$[II11l(0x26e,'i]ZX')]=!![];return;case 0x1:if(IIliIi===0x0){if(joinMember){if(iilli[II11l(0x1c3,'RqkK')]!=='dIXvh')lIII1I['log']('💨\x20空气[黑号不到账]'),illIlI[II11l(0x2e4,'[5C]')]['insert'](II11l(0x1f6,'N9(a'));else{if(!lI1III[II11l(0x2e7,'(X1*')]('1')){if(iilli[II11l(0x28b,'4cCW')](II11l(0x26b,'0uLr'),iilli[II11l(0x159,'xOg*')])){console[II11l(0x282,'c2Qj')](iilli[II11l(0x1f2,'q3LD')]),$[II11l(0x202,'fF&P')][II11l(0x195,'Xxy)')](iilli[II11l(0x1a1,'fhu[')]);return;}else IiiIli[II11l(0x17f,'fF&P')]('❌\x20脚本运行遇到了错误\x0a'+iillli);}$['openUrl']=$['getActivityBase'][II11l(0x279,'p!)K')],$['venderId']=common[II11l(0x24f,'JP%D')]($['openUrl'],iilli[II11l(0x281,'i]ZX')]);const IIliIl=await common[II11l(0x28f,'q3LD')]($[II11l(0x247,'hjDR')]);if(IIliIl)iilli[II11l(0x17b,'Tag[')]!==II11l(0x186,'*GvO')?(console['log'](iilli[II11l(0x2d4,'Jiv8')]),await iilli[II11l(0x1a8,'Xxy)')](sendRequest,iilli[II11l(0x176,'q3LD')]),await $[II11l(0x2a3,'MV[f')](0x1f4)):(lilIl1['msg'](i1l1ii[II11l(0x2b6,'DG$(')],iilli['PBZfA']),i1l1['exit'](0x1));else{console[II11l(0x296,'dEKE')](II11l(0x1ae,'90[8')),$[II11l(0x143,'hjDR')]['fix'](iilli[II11l(0x336,'90[8')]);return;}}}else{if(iilli['AQwqE'](iilli[II11l(0x33c,'3$%B')],iilli[II11l(0x175,'MV[f')])){IlI1i1[II11l(0x296,'dEKE')](II11l(0x312,'WIDY')),l1lIl1['message'][II11l(0x21d,'3$%B')](II11l(0x1b7,'Tag['));return;}else{console['log'](II11l(0x2eb,'N9(a')),$['message']['fix'](II11l(0x260,'90[8'));return;}}}else{if(iilli[II11l(0x208,'R87n')]!==iilli[II11l(0x178,'y6yM')]){console[II11l(0x310,'4cCW')](iilli[II11l(0x173,'(X1*')]),$[II11l(0x1b0,'fhu[')][II11l(0x179,'Z#T2')](II11l(0x28d,'xOg*'));return;}else!IiI11&&(iIli1i[II11l(0x142,'RqkK')]=!![],iI1lii[II11l(0x222,'cd(H')]&&l1lIi1['message'][II11l(0x18c,'WIDY')](iIli1l));}break;case 0x2:await sendRequest(II11l(0x2d5,'*GvO')),await $['wait'](0x1f4);break;default:console[II11l(0x239,'fhu[')](II11l(0x1db,'1rG[')+JSON[II11l(0x1d1,'fhu[')](lilII1));break;}}if($[II11l(0x16c,'*2u7')]||$['outFlag']||$[II11l(0x289,'N9(a')])return;await iilli[II11l(0x28e,'vod!')](sendRequest,'birthday'),await $[II11l(0x32e,'fF&P')](0x1f4);if($[II11l(0x240,'(WV[')])return;await iilli[II11l(0x30a,'I!um')](sendRequest,iilli[II11l(0x232,'@Ef#')]),await $['wait'](0x1f4),await iilli[II11l(0x1e2,'(WV[')](sendRequest,iilli[II11l(0x2cc,'p!)K')]);}catch(i1ilII){console['log'](II11l(0x220,'moVk')+i1ilII);}}async function handleResponse(iIIii1,IllIi1){const II11i=I1il11,lilIII={'XpJKu':function(Ii1ilI,II11i1){return Ii1ilI!==II11i1;},'QxLea':'WMgTs','EdMEx':II11i(0x2f4,'FSCU'),'VKRoW':'login','VZHZF':function(iliIil,iliIii){return iliIil===iliIii;},'DQbzt':II11i(0x167,'[5C]'),'nCOHt':II11i(0x18b,'Jiv8'),'hNuqT':II11i(0x321,'N9(a'),'lXaBB':function(lill1i,il1li){return lill1i===il1li;},'mInnT':II11i(0x30e,'#U2^'),'naQcE':'mOlng','eJcmx':II11i(0x1a7,'RqkK'),'kCEBP':II11i(0x308,'3$%B'),'ulIqw':II11i(0x1fa,'c2Qj'),'NwrKk':'receivePrize','FRfFi':function(iIIill,iilii){return iIIill!==iilii;},'aqDXv':II11i(0x1af,'N9(a'),'DyCgK':II11i(0x187,'[5C]'),'GCZzN':'myPrizes','psvDU':function(Ill11i,iilil){return Ill11i===iilil;},'MdsoF':function(Ill11l,il1ll){return Ill11l==il1ll;},'VbFAi':'空气💨','VhCLs':'CfDjd','ezcpU':'yyyy-MM-dd\x20HH:mm:ss','NrLZD':II11i(0x270,'wI*p'),'cKLui':'smrLl','qnwEP':II11i(0x2b7,'y6yM'),'IUKpv':'🗑️\x20专享价','HQeAe':II11i(0x2cb,'[5C]')};try{if(lilIII[II11i(0x223,'*2u7')](lilIII[II11i(0x2ed,'#U2^')],II11i(0x24e,'FSCU')))l1il1i[II11i(0x331,'DG$(')](ll1),iI1llI&&(!l1llIl&&(iI1li1[II11i(0x136,'wI*p')]=!![],lllii1[II11i(0x33d,'y6yM')]&&IilIi1[II11i(0x18a,'MV[f')]['fix'](iI1liI)));else{if(IllIi1['data']&&typeof IllIi1['data']===lilIII['EdMEx'])try{const lill1l=wuxianDefense[II11i(0x306,'moVk')]['decrypt'](IllIi1['data']);IllIi1[II11i(0x26f,'dEKE')]=lill1l;}catch{}switch(iIIii1){case lilIII[II11i(0x1b8,'c2Qj')]:if(IllIi1[II11i(0x1ee,'[5C]')]===0xc8&&IllIi1[II11i(0x226,'ieyx')])$[II11i(0x1d2,'n[R7')]=IllIi1['data'][II11i(0x19b,'Jiv8')],$[II11i(0x2d8,'R87n')]=IllIi1[II11i(0x172,'3$%B')][II11i(0x150,'hjDR')],$[II11i(0x1b9,'FSCU')]=IllIi1[II11i(0x333,'y6yM')]['encryptPin'],$[II11i(0x2f3,'cd(H')]=IllIi1[II11i(0x1fc,'Xxy)')][II11i(0x154,'(X1*')],$[II11i(0x22e,'fF&P')]=IllIi1['data'][II11i(0x242,'(WV[')],$[II11i(0x246,'oVNA')]=IllIi1[II11i(0x272,'vod!')]['nickname'],$['pinToken']=IllIi1[II11i(0x201,'#XAE')]['pinToken'];else IllIi1['message']?lilIII[II11i(0x131,'R87n')](lilIII[II11i(0x1bd,'ieyx')],lilIII[II11i(0x141,'*2u7')])?lIII1l[II11i(0x180,'I!um')](l1iIIi[II11i(0x2bf,'x1te')]+'\x0a'):(console['log'](IllIi1['message']),$[II11i(0x147,'x1te')]=!![]):console['log']('❓'+iIIii1+'\x20'+JSON[II11i(0x20d,'90[8')](IllIi1));break;case lilIII['hNuqT']:if(lilIII[II11i(0x162,'w[cS')](IllIi1['code'],0xc8)&&IllIi1[II11i(0x20f,'DG$(')]===null){}else IllIi1[II11i(0x2ae,'vod!')]?console['log'](IllIi1[II11i(0x1ab,'@Ef#')]):console[II11i(0x15b,'Jiv8')]('❓'+iIIii1+'\x20'+JSON['stringify'](IllIi1));break;case lilIII['mInnT']:if(IllIi1[II11i(0x256,'p!)K')]===0xc8&&IllIi1[II11i(0x31c,'Z#T2')])$[II11i(0x139,'c2Qj')]=IllIi1[II11i(0x27f,'1rG[')];else IllIi1['message']?lilIII[II11i(0x18f,'[5C]')]!=='ftozR'?(console['log'](IllIi1['message']),$[II11i(0x13f,'fhu[')]=!![]):llIlll[II11i(0x21a,'[5C]')]=lliii1[II11i(0x226,'ieyx')]:lilIII[II11i(0x17c,'@Ef#')]!==lilIII[II11i(0x182,'p!)K')]?console[II11i(0x2c5,'@Ef#')]('❓'+iIIii1+'\x20'+JSON[II11i(0x287,'cd(H')](IllIi1)):IiilI[II11i(0x310,'4cCW')](II11i(0x149,'4cCW')+ii1I11+II11i(0x285,'n[R7')+(liIi1[II11i(0x143,'hjDR')]||lI11II));break;case lilIII['ulIqw']:if(IllIi1[II11i(0x1d3,'c2Qj')]===0xc8){}else IllIi1[II11i(0x2c7,'DG$(')]?II11i(0x2ab,'MV[f')===II11i(0x31f,'MV[f')?iIII11[II11i(0x2f6,'Tag[')][II11i(0x19e,'90[8')](IiI1i):(console[II11i(0x1aa,'cd(H')](IllIi1['message']),$[II11i(0x243,'WIDY')]=!![]):console[II11i(0x2bd,'Xxy)')]('❓'+iIIii1+'\x20'+JSON[II11i(0x2f8,'n[R7')](IllIi1));break;case lilIII['NwrKk']:if(IllIi1['code']===0xc8){}else{if(IllIi1[II11i(0x2cf,'wI*p')])lilIII[II11i(0x2f0,'i]ZX')](lilIII[II11i(0x2ac,'(X1*')],II11i(0x311,'WIDY'))?(l1iIi[II11i(0x2bd,'Xxy)')](l1l11i['message']),l1iIl[II11i(0x2a9,'MV[f')]=!![]):console[II11i(0x284,'vod!')](IllIi1['message']+'\x0a');else{if(lilIII['DyCgK']===II11i(0x14d,'u$cj')){i1ili1['log'](II11i(0x163,'#XAE'));return;}else console[II11i(0x2ba,'q3LD')]('❓'+iIIii1+'\x20'+JSON[II11i(0x156,'u$cj')](IllIi1));}}break;case lilIII[II11i(0x20c,'(WV[')]:if(lilIII[II11i(0x254,'dEKE')](IllIi1[II11i(0x160,'Tag[')],0xc8)){if(lilIII[II11i(0x15d,'I!um')](IllIi1[II11i(0x206,'Tag[')][II11i(0x212,'fhu[')],0x0))console['log'](II11i(0x1be,'#XAE')),$['message'][II11i(0x1da,'3$%B')](lilIII[II11i(0x2f5,'xOg*')]);else{if(lilIII[II11i(0x2f1,'Tag[')](lilIII[II11i(0x2bc,'Jiv8')],lilIII['VhCLs']))ii1lI['log']('❓'+I1ilIl+'\x20'+I11iII['stringify'](I1ilIi));else for(let IIii11 of IllIi1['data']){$['createTime']=$[II11i(0x330,'WFTK')](lilIII['ezcpU'],IIii11[II11i(0x1e7,'moVk')]);switch(IIii11[II11i(0x204,'DG$(')]){case'0':case'4':case'11':console[II11i(0x170,'R87n')](II11i(0x2d7,'RqkK')+IIii11[II11i(0x1c9,'vod!')]+'('+$[II11i(0x27c,'WFTK')]+II11i(0x29c,'@Ef#')),$[II11i(0x2cf,'wI*p')][II11i(0x233,'cd(H')](IIii11['prizeName']+'('+$[II11i(0x269,'N9(a')]+II11i(0x22a,'w[cS'));break;case'1':console['log'](II11i(0x2a8,'y6yM')),$[II11i(0x2f6,'Tag[')][II11i(0x2db,'FSCU')](lilIII['NrLZD']);break;case'2':console[II11i(0x303,'n[R7')](II11i(0x30d,'[5C]')+IIii11[II11i(0x1a4,'1rG[')]+'('+$['createTime']+II11i(0x318,'u$cj')),$[II11i(0x1e4,'u$cj')]['insert'](IIii11[II11i(0x2d0,'q3LD')]+'('+$['createTime']+II11i(0x2bb,'ieyx'));break;case 0x3:const iliIl1=IIii11[II11i(0x322,'y6yM')][II11i(0x14c,'RqkK')],Ii1il1=IIii11['activityPrizeId'],iii1ll=IIii11[II11i(0x234,'*GvO')];$['prize'][II11i(0x1c2,'ieyx')](II11i(0x2de,'n[R7')+iii1ll);const IIliI1={'baseUrl':$[II11i(0x29b,'w[cS')],'newbaseUrl':$['newbaseUrl'],'ua':$['UA'],'token':$[II11i(0x2dd,'xOg*')],'activityId':$['activityId'],'shopId':$[II11i(0x197,'x1te')],'activityType':$[II11i(0x161,'p!)K')],'prizeName':iii1ll,'addressId':iliIl1,'activityPrizeId':Ii1il1,'activityUrl':$['activityUrl']},il1lI=await lzkj_interaction_v2_savePrize(IIliI1);!isNotify&&il1lI&&(lilIII[II11i(0x320,'[5C]')](lilIII[II11i(0x1ca,'90[8')],II11i(0x2ef,'i]ZX'))?await notify[II11i(0x328,'Z#T2')]($[II11i(0x1bc,'moVk')]+'中奖通知','【京东账号'+$[II11i(0x27b,'FSCU')]+II11i(0x22f,'WFTK')+iii1ll+II11i(0x1ac,'xOg*')+$[II11i(0x1a6,'ieyx')]):(IiiIii[II11i(0x283,'Z#T2')](IIlll[II11i(0x2a5,'i]ZX')]),liliI['skipRun']=!![]));$[II11i(0x2e4,'[5C]')][II11i(0x1d4,'*GvO')](iii1ll+'('+(il1lI?II11i(0x193,'wI*p'):lilIII[II11i(0x16f,'3$%B')])+II11i(0x190,'N9(a'));break;case'5':console['log'](lilIII[II11i(0x1d8,'[5C]')]),$[II11i(0x2a2,'(X1*')][II11i(0x181,'DG$(')](lilIII[II11i(0x304,'I!um')]);break;case'6':console[II11i(0x2c5,'@Ef#')](II11i(0x203,'Xxy)')+IIii11['prizeName']+'('+$['createTime']+II11i(0x158,'n[R7')),$[II11i(0x1b0,'fhu[')][II11i(0x2e5,'[5C]')](IIii11[II11i(0x1de,'moVk')]+'('+$[II11i(0x1c7,'*2u7')]+II11i(0x21f,'#XAE'));break;case'7':case'8':case'9':case'10':case'12':console['log']('🎉\x20恭喜获得'+IIii11[II11i(0x329,'WIDY')]+'('+$[II11i(0x24d,'RPOi')]+')\x20🎁'),$[II11i(0x23c,'*GvO')][II11i(0x291,'#XAE')](IIii11[II11i(0x237,'R87n')]+'('+$[II11i(0x2dc,'Xxy)')]+II11i(0x23b,'Jiv8'));!isNotify&&await notify[II11i(0x183,'WFTK')]($[II11i(0x277,'90[8')]+II11i(0x32f,'#U2^'),'【京东账号'+$[II11i(0x266,'3$%B')]+'】'+$['UserName']+II11i(0x15e,'[5C]')+IIii11[II11i(0x189,'I!um')]+'('+$[II11i(0x1c6,'[5C]')]+II11i(0x263,'@Ef#')+$['activityUrl']);break;default:console['log']('未支持的任务状态:\x20'+JSON[II11i(0x192,'Jiv8')](IIii11));break;}}}}else IllIi1[II11i(0x2cd,'w[cS')]?(console['log'](IllIi1[II11i(0x302,'c2Qj')]),$[II11i(0x200,'fF&P')]=!![]):console[II11i(0x196,'WFTK')]('❓'+iIIii1+'\x20'+JSON['stringify'](IllIi1));break;default:break;}}}catch(I1il1l){console[II11i(0x1b2,'[5C]')](II11i(0x317,'1rG[')+iIIii1+'\x20请求响应\x20'+(I1il1l['message']||I1il1l));}}async function sendRequest(lI1l1l){const iI1Iii=I1il11,IIliII={'aADNf':iI1Iii(0x278,'vod!'),'fQzOq':iI1Iii(0x210,'Jiv8'),'gUbGR':iI1Iii(0x1d6,'I!um'),'MZhbt':iI1Iii(0x218,'y6yM'),'AvEGR':'getActivityBase','MFglD':iI1Iii(0x14a,'c2Qj'),'cNIYz':iI1Iii(0x18d,'xOg*'),'IWOCT':iI1Iii(0x257,'1oV4'),'WDRQl':iI1Iii(0x133,'i]ZX'),'YueZO':iI1Iii(0x327,'ieyx'),'cnhqm':iI1Iii(0x231,'fhu['),'zYFhC':iI1Iii(0x2b8,'(X1*'),'tUJFK':iI1Iii(0x130,'4cCW'),'eiQno':'cors','NwsFf':'same-origin','LUyfq':'GET','ZPKOf':'Ipuio','XNJfu':'SvQTH','YnADu':function(IIii1I,llI11i){return IIii1I<llI11i;},'SJrsx':function(i1iIi1,l1l1il){return i1iIi1!==l1l1il;},'DlGsm':iI1Iii(0x19f,'wI*p'),'CLhTn':function(I11i1I,iliIi1){return I11i1I>iliIi1;},'FILvz':'uOJKN','phbzH':function(l1l1ii,Il1i1I,Ii1iii){return l1l1ii(Il1i1I,Ii1iii);},'vsxcu':function(iIIilI,il1l1){return iIIilI===il1l1;},'lKWlZ':'XNXYb'};if($[iI1Iii(0x1c4,'WFTK')]||$[iI1Iii(0x1d7,'1rG[')])return;let iiliI=$[iI1Iii(0x274,'vod!')],Ill11I=null,I1il1i=null,IliIIi=null,lI1l1i='POST';switch(lI1l1l){case IIliII[iI1Iii(0x1bf,'*GvO')]:iiliI+=IIliII[iI1Iii(0x26d,'cd(H')],Ill11I={'token':$[iI1Iii(0x2ce,'3$%B')],'source':'01','activityType':$[iI1Iii(0x1ff,'4cCW')],'templateCode':$[iI1Iii(0x262,'q3LD')],'activityId':$['activityId'],'shopId':$['shopId'],'uuid':'','timestamp':Date[iI1Iii(0x295,'[5C]')]()};break;case IIliII[iI1Iii(0x2aa,'c2Qj')]:iiliI+=IIliII['MFglD'],Ill11I=undefined;break;case IIliII[iI1Iii(0x23d,'WFTK')]:iiliI+=IIliII[iI1Iii(0x17d,'4cCW')],Ill11I=undefined;break;case iI1Iii(0x2a1,'@Ef#'):iiliI+='/api/'+$['activityType']+iI1Iii(0x17a,'N9(a'),Ill11I=undefined;break;case iI1Iii(0x1b3,'WFTK'):iiliI+='/api/'+$[iI1Iii(0x1e0,'*GvO')]+iI1Iii(0x1d5,'n[R7'),Ill11I={'birthday':$[iI1Iii(0x31e,'0uLr')](iI1Iii(0x227,'N9(a'),Date[iI1Iii(0x32a,'WIDY')]())};break;case IIliII[iI1Iii(0x252,'#XAE')]:iiliI+=iI1Iii(0x2e0,'JP%D')+$[iI1Iii(0x2e9,'fhu[')]+iI1Iii(0x1ed,'fF&P'),Ill11I=undefined;break;case IIliII[iI1Iii(0x23e,'WFTK')]:iiliI+=iI1Iii(0x1cf,'w[cS')+$['activityType']+iI1Iii(0x1e6,'Jiv8'),Ill11I=undefined;break;default:console['log'](iI1Iii(0x2b1,'dEKE')+lI1l1l);return;}I1il1i=wuxianDefense[iI1Iii(0x27a,'DG$(')][iI1Iii(0x1c1,'cd(H')](Ill11I);const i1iil={'url':iiliI,'method':lI1l1i,'headers':{'Accept':IIliII[iI1Iii(0x21c,'cd(H')],'Accept-Encoding':IIliII[iI1Iii(0x2e1,'Xxy)')],'Accept-Language':iI1Iii(0x2af,'q3LD'),'Connection':'keep-alive','Content-Type':'application/json;\x20charset=UTF-8','Cookie':'','Host':$['hostname'],'Origin':$[iI1Iii(0x146,'N9(a')],'Referer':$[iI1Iii(0x1ef,'p!)K')],'Sec-Fetch-Dest':IIliII[iI1Iii(0x307,'xOg*')],'Sec-Fetch-Mode':IIliII[iI1Iii(0x244,'fhu[')],'Sec-Fetch-Site':IIliII[iI1Iii(0x2c2,'I!um')],'User-Agent':$['UA']},'params':IliIIi,'data':I1il1i,'timeout':0x7530};$['pinToken']&&Object[iI1Iii(0x224,'#XAE')](i1iil[iI1Iii(0x174,'I!um')],{'Activity-Id':$[iI1Iii(0x2d9,'3$%B')],'Activity-Type':$[iI1Iii(0x1e0,'*GvO')],'Pin-Token':$['pinToken'],'Shop-Id':$[iI1Iii(0x19d,'dEKE')],'Template-Code':$[iI1Iii(0x207,'Z#T2')]});if(lI1l1i===IIliII[iI1Iii(0x275,'Xxy)')]){if(IIliII[iI1Iii(0x16b,'y6yM')]!==IIliII['XNJfu'])delete i1iil[iI1Iii(0x2a0,'@Ef#')],delete i1iil[iI1Iii(0x26a,'moVk')][IIliII['fQzOq']];else{iii1Ii[iI1Iii(0x296,'dEKE')](IIliII[iI1Iii(0x32c,'I!um')]),iii1Il['message'][iI1Iii(0x2d1,'vod!')](iI1Iii(0x24c,'R87n'));return;}}const llI11l=0x3;let I1llIl=0x0,i1iii=null,I1llIi=![];while(IIliII['YnADu'](I1llIl,llI11l)){if(IIliII['SJrsx'](IIliII[iI1Iii(0x1c0,'[5C]')],'Rwtoz')){IIliII['CLhTn'](I1llIl,0x0)&&await $[iI1Iii(0x2e8,'1rG[')](0x3e8);const Ilil1i=await common[iI1Iii(0x316,'4cCW')](i1iil);if(!Ilil1i[iI1Iii(0x166,'dEKE')]){if(IIliII['FILvz']===iI1Iii(0x213,'c2Qj')){i1iii=lI1l1l+iI1Iii(0x31d,'i]ZX')+Ilil1i[iI1Iii(0x138,'n[R7')],I1llIl++;continue;}else try{const II11ii=ilI1lI['interactionV2'][iI1Iii(0x148,'4cCW')](IiiIll[iI1Iii(0x2b4,'(WV[')]);IIlii['data']=II11ii;}catch{}}if(!Ilil1i[iI1Iii(0x272,'vod!')]){i1iii=lI1l1l+iI1Iii(0x2a4,'WIDY'),I1llIl++;continue;}await IIliII[iI1Iii(0x286,'*2u7')](handleResponse,lI1l1l,Ilil1i[iI1Iii(0x184,'I!um')]),I1llIi=![];break;}else{iii1I1[iI1Iii(0x1dc,'WFTK')]=iI1Iii(0x299,'WIDY')+II1Ii[iI1Iii(0x298,'90[8')],i1ii[iI1Iii(0x2c8,'1oV4')]='https://'+I1iIl1[iI1Iii(0x298,'90[8')]+iI1Iii(0x332,'c2Qj'),i1il[iI1Iii(0x169,'90[8')]=lI1Il1[iI1Iii(0x1eb,'p!)K')];try{const II11il=lI1Iii[iI1Iii(0x1bb,'Z#T2')][iI1Iii(0x238,'[5C]')](iI1Iii(0x1f0,'oVNA'))[0x1];i1li['activityType']=II11il[iI1Iii(0x2d2,'xOg*')]('/')[0x0],li1II[iI1Iii(0x2ea,'I!um')]=II11il[iI1Iii(0x2b9,'R87n')]('/')[0x1];}catch{}}}I1llIl>=llI11l&&(console['log'](i1iii),I1llIi&&(!hotbreak&&(IIliII[iI1Iii(0x177,'90[8')](iI1Iii(0x188,'fhu['),IIliII['lKWlZ'])?(delete IiIi[iI1Iii(0x226,'ieyx')],delete iI1ll1[iI1Iii(0x25f,'@Ef#')][IIliII['fQzOq']]):($[iI1Iii(0x13e,'*2u7')]=!![],$[iI1Iii(0x230,'WIDY')]&&$[iI1Iii(0x2ae,'vod!')][iI1Iii(0x13b,'1oV4')](i1iii)))));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
