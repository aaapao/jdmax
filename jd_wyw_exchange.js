/*
活动名称：新版玩一玩兑换奖品 5.17-8.31结束
活动入口：APP-我的-更多工具-玩一玩
活动建议：定时自行修改，奖票有效期2个月
活动变量：jd_wyw_exchange // 填写兑换值，指定兑换奖品，不填默认只兑换当前价值最高京豆奖品（查看打印兑换值）
          jd_wyw_notify  // 是否推送通知，默认不推送
          jd_wyw_pinFilter // 账号pin过滤，多个pin用@分隔，默认不过滤

cron:1 1 1 1 *

*/

const $ = new Env('新版玩一玩兑换奖品')
var iｉl='jsjiami.com.v7';const l1ilIi=iii1II;function Iii11l(){const I1lII1=(function(){return[...[iｉl,'DqFjbwsTjMiqaDCSmBiTx.cForEdmFlx.Twv7ugQ==','WO3dKwbDxcBdTa','WO0XweddOW','W7tcJ1RcUSkOWO/cQeS','vmkp5ywT5O+x5ykAWOG','eZtdLCoJbCo+W7VcMt9PWRvNW4ldGIBdVCk7gCkG','5AwR56wx5PwJ6ywy5lQh6lsJ77+25Psy5Rcw5ysh5OYk','ftldLCopaCoLW6dcGHDPWO0','WQlcHSk+uLK','jf7dKCo1W4/cRh/cSSkVgLVdRmkH','smk0bSkKWQZcG2O','5yE55O6E5AsB6lAGAXu','kmkNWOa2WOCPW5xcQxVcQwWjkSkUWP7dVSkVW6abW4hcHYS','WPKaWQhdP8k0','fCk/W7pdNmkvjdO','WPNdIHJcSMqgWQCOWPTGWQC/','WRWPW53dUfe','W5XhW7JcTSowbW48x1C6mJ0RWOm','luNdLq','bmkXW6/dOmkDmdneWQK5W6BcGG/dJqJcOfi','W7ddNSkVbCoj','fXtdGG','xdRdUq','4PM1p+IhHEwTIEs7SUI8KEIILEMxJoMBHoAwTUMxHEISP+E9RoMvQEIVSW','WRLWsa','W55aq1NcLLe','uZhcKXzsDCk9w2RcRatdQmkJWOqYFtr+WQu','oa4lWQhcQa','5ywH5OY35AAV6lstxSkq','oCoKdmkf','5yAm5O2J57QL5y+c5OMe5yUI','W53ORR/MSOhLP5JOTyij4P+ygEAuK+wsJ+w6I+AxLUAnIq','aIxdImoWfSovW67cGZ9tWO4','dCkxW7NdImk8t8kFWORcVbNdPCk2W4fDWQPmW77cQHlcLx4','hCokWQui','W6tcQ8k5t1SyW4qhdCkioW','F8k3bmkEWPy','W5/cNutdVdHcWQ4NWO9/WRioWOqBBWJdHu9wlSoFW70','sCozWOa','WQD6xSkMW57cSSkT','lGSEWQpcGW','W4vBtNdcJvfLWP8','W4VcK07dOa','w8kVdmktWQ3cJG','WQlcKCo8','WOKaW4ddQx8','W7hcQ8k9zKGjW44','iKNdLSo4','ihtdMmofW4i','WPxKUzlOS53cNa','v8oUWP3dRSkt','W6tcRgJdSXW','WO/XIzk9W5dOV5lOO6xNU4/MNRag','WPFcImobWQ4o','Emo3wmkMW63dNCkT','emkEW7xdJ8kl','WQTpFCkOnq','WPuqW43dIW','l8kDWOnxu8ou','sCoDuLP8iCoE','WPNdRCoJWRS','W5XhW7JcTSowbW4Lwe0zksC+WORcOa','WRiwWRRdQSkDuGFdLmkprspcHCkj','WOOsWR4ZDW','mhBcSqKith4DW4zPbmkBW5m','W5FcUafouCkJW63cIuTVW6agkCoRWQxcGfnAFSo4sqOw','ECkMvCopW4pdTwe9ih99FG','qJ3cSZzq','5ywL5OY25yoB5y6c6yE85AgQ5ywb6zsX6k+X77+H6k6d5AoZ5ywS5Q6c56cU55Qk5ysm5O2Z5yo3W7a','eCkxW6VdJCkCtSk8WOtcPXK','BSkZW4f0phikW43dVsj+WOPpBvm','5PYa5BMh5A2K','f8oOmmktzq','W6lcVsRcTxddM3nEqCkFza','W4RcGvdcVSkp','WO0PWRhcIaPAafJcHYm','mwxdT8oO','Emo2sCkSW6BdICk3WO7cHW','eXb5W7pdICo/WPxcK8kQmW','DYqr','WQvnWRRdR8o+WQBdHsi','57M95A6V5OMM5PYM5yYp','W6ybWRhdSG','vSowW7tcHry','WRiOuK7dQ8kvWOjAWQTrqCk8WONdQmo7WOK3','fmoNx8oRW77dLZpdLSkSdG','pCoCWQu7W4y','W4dcNvNdLIvAWQWI','WOJdOar3DW','5y+K5O6F54+w','WOiAwgJcKvLZW4pcPNL8oYxcTWKl','WOSKW5ldJxe','WOOPWOOvzG','CYxdS3G0','hCoeWR8','mSooWQ41W70','smkQeSk6WQRcIw/cN8o4xmoHwZJcHgBdJayZWPldLSkckCk2x8kCW47dQqe+gaJcM8k5','sWaKoSk+','lsOrWQNcMYavWRfxW4u','y8ofDmkjW6C','FJmvn8kwW5lcTJ9aW64IEeW','W73dVbxcLG','WOOeWQyjwW','iCoGWOXgW51QW4VcRWJdJwe3','WR5jWR3dVmoEWQC','W5VcIwRcImko','W5hcIq83','s8kdW6VdSmkNpsy','v/czGkbm6l6D6kg457Uo5P+PWQ0','w8oHCSkCW6u','m0aYlCkupG','vu40zSoLW5hcR1DKowxcHCkBasBcQSkyW4DnpCoj','WRy8W4pdI2W','W4fcW47cTq','4P28DEAnJUEoHUwLLEI2LCk8uG','5OYG5AYS5yAM5O+l5yofjSk+','WPGMWRu','sCotWPldJCkRECoZWPbOW7XuW7NdR8oWW58iWQGwWRCrWPm','BmkEm8kHWPu','WOyqW5FdK24iptKKFmo8jmkLWReHWQzg','WRn4qCkKW4W','uIqvl8ke','rmkdkCkpWRC','zCoTta','WPddUqDFsSk7','f8kXW7xdUa','wCkgWPrjk8knWPfN','WR1gr8kIW4S','WRO7WQqHCeFdQSkrymoQ','WRTcWQddVSoyWRS','x8oHWRNdK8k6','WQb/WOpdRmod','W4dcVCkjtv8','keJdGCo4W5ZcTG','hexdNCoi','W5pcKdNcLMS','WQj+rSkN','c8kxW4RdN8kC','rCk2wSoFW5y','pSosrhe','W7tcJ1RcUG','WRldO+wfI+AnVowaJ3G','WQzRtSkNW54','q8oxWOpdIa','W5PmW4a','4P2hWQlMNjhOGlJMR6VNO4dLP5RNK67dNG','W6tcI0FcI8koWPtcQLZcPSo6vW','xmo6W7BcIIG','EmklW5efWPW','hoIgV+wiTUwfP+AmHUE4KUwoGW','5BEc6k+R57+W6lEf6l6J6l2G6kok5BYH5yUd6lAf5y2s','44gV5O+656Ad44k86k+W5yAQ6i+j5y6ZWRddVvlcUCknWOm','5O+G54+L5AAV6lstxSkq','qq7cQaHA','jmk/WOznxG','fCocWRa','aCopeCkivmkKW6FdRW','WQRcN8oVWQa','W6rnswVcMq','WQKMw3ldSmkq','h8oeWQ8','FCk9eCkUWRO','qmkjWOvem8kAWRb1h1e','5OYv54+55Asn6lssWRJdGG','8jgWMbfI','qoE7QEwnSWi','kSk1WRz1ra','zqFdLf4i'],...(function(){return[...['W7xdSGy','W7VdLsNcHCo6','emoXWPiPW54','qmotWPNdVmk4','W4RcHWe','8koPU8kH','WQhcUmkZ','WQ/dMs1GBG','W64pWQi','WPldPY1vCq','bmkxW6JdQCkCwmkDWPFcHW/dGq','WQJdUSovWR3cGW','W4VcP0miDmkzW7pdO3bJ','yq/dKN4H','W6FcMfZcOmkf','WP1/WPldRmo8','vmkjWOne','WReeWRddOCkE','CCkPW5y','5BEV5A6E5z6z54QN5Ogp','oY4sWQK','wSkVaCk1WQBcMx0','WR5Uy8kI','o8kOW6xdRSkv','WRdcNCk1BvaYW6mZjSk1fgNcPmkyuSoUWRGEWPX5cZy7WRlcNJmFha','fa0ZWOlcOW','l2vb','o0qOkW','WR7cUmkMqW','DNzaW5/dRG','ECkNW4vW','As4fkSkBW4G','mKqS','Fmo5W7VcRWC','cuL6W43dUSotWQ4','WPZcJCkyF3S','WQtcMSoeWRyCWRJcI8oXBbK/W7JcNSo+WOG','W6BdR8klgmon','tg0usSod','ra3dKeCg','W4dcIf7dTsipW6bMWRfQWQndWOfuAWVcJNnjiSkxW7TlzSk3W6atcCkqW4amBmoQAG','WR/cSSkJvKWvW4RdLd9T','o2tdGSo7W4S','WQpINBit','W4H9xNJcVG','WPRdQCoJWPBcJdb0fSkLC8kxW5/cVNn1W65SiSkD','W7hcI0tcR8koWOlcI0/cHSoS','WQaXx1/dO8kmWOrrWQDxvSkTWOq','umoxWP7dNCkTDCoZWPO','fmooWRWKW7RdHv8iahqkzY4buwm','WQ87WQCfCfhdKCkAxCo8W4i','uJVcLr9sySkW','5yAO5O+15Awf6lsFaSoV','W6dcJJZcMea','FW3dIxGf','WRXvWRJdImop','5ywA5O+G5Ask6lEGWRlcJG','WOyKE27dRq','4P2CW7lMJANNJ4tLP53OTBJVVQu','xSojrvG','FCkLWR5Koq','WO4bswxdHq','WPL4s8kcpq','5AwD56EQzSkE','W5DnW4pcS8oagtu','gupdLCozySkq','W77dUbxcSSoDWRhdNwpdR8k4WPy','W4lcLM3dGaS','WRPKC8kkmq4XW7RcH8o/','4P2fW7tMNjBOGyJMR4xNO5ZLPjFNKzr1','4PYUWOdMJQ/NJzVLPlhOT6dVVO4','kSogq3G','4P+jW7JMJO7NJydLPlpOTOZVViBKUkBKUiZNR7JMJ5pNJz/OVPRMNAtLRkFMIR0','BCk1smou','W4/cRmkRyfK','EJSKoSkuW5pcVcP2W6m+B21xW4RdMCkOW6VcISofWOO','WOSNWRNcJY4','wv5NW7y','kLRcUJqf','5yAd5O2o57MX5y6E5OQ65yMq','aCkLW6/dNmkAiW','f1WBh8ko','rCk1bq','W7ddJCkBgCoHaCoBfmk/','qKZcNGzSjW','rCkHW6Hxpa','WQ/dLCoTWPtcOG','E8obxmk/W5O','FdFdUfWu','W4rbwwZcIW8VW4pcHg5XoIZcSNGUwSkdW45bW5/cHCo3','5yE95O2x5OI95yQdW4iv','W7hcQd7dHSkbW7pcNce','W4ZcK0tdOa','wCoBqCklW4C','WPZdUrD/Aa','xCkLWRrVba','c2O5g8kL','WQeOsfy','W7FdI8kCfq','uvb0','5ywk5OYP5OMM5yUaW43cNa','4P2fW7tMNjBNNzdORzhMS7aZ','WP1Ns8kKW5O','nSoCvW','W7hcINddQJO','ftldLCocrSoKW7S','qmohuhHZ','ybRdJwi','q8o6x8kYW6K','pqeiWOtcVa','ifxdGCo0W4NcRhxcSSksdx3dUG','BCoOuSkMW6O','5OYn546X5As26lEIBL0','f8okWRWm','FSkKrCoaW78','W4vwW4tcOSokaYi','WOBNJRhPH5BcMG','gSo3mCkrqW','WPmcWQxcMHm','W6xdKmkfbmoQfa','pdtdSmofpG','CIuvm8kcW5JcTcK','u8kttCoFnSoZWQBdHSoErJ/cHSkr','4P+yiEwfLUAoPEE7TUwnUoAjKUwiHa','W4bAsG','kduRWO3cQa','yCoMzmkYW7hdMCkbWPZcLLzLvmkuuW','FmoyW4tcKHe','W5FcNq7cMeK','5OMk5yIS5O+G546G','dv/dL8oOACkg','nIefWQtcNcaKWRS','AdSAnSkd','Bqqdd8k4','bSobc8kk','tCojwe0','5Bw35A6a5z2254Mg5Ocd','FCoTzq','W6WbWQJdTG','eZddM8oYjq','WRy9tL7dRmkfWOPsWO0','nJSdWQxcMG','W4/cMv7dGcnhWQa7WP1PWQ0','WQtdQ8o9WPhcGa','xConrxXRimocWPNcGSoaW7O','W63cLMNdGbS','W6vDW6RcUSoibbhdVmkKFaxcTG','s8otWPNdJSknDa','5yws5A6MWOiBz+EBKEIVQEwpTq','BSkXsmoWW5tdGhWGghXt','WRldRMJdHe7dU0PDyCkc','v3r7W4ldIa','nxJcSdW/xxmbW6zKf8k3W45JWQq','tSoyWPtdHCkmEmo7WOW','WO7dLa1ICa','mqldImomeq','ECoHW4NcNJu','daWHWQpcVmkMW4JcUSk6laxcKCkc','WPxdUbm','suZcNa','W4zcW5xcOmocaXu0rui','WPmTWQBcJtvmkvBcHsDCW4LiaCoGDCkttSkGAXS','dSofeCkmDmkT','W7BdI8kUW7jxW7RcGmo5CXq5W5e','5AwY56wnWQ8P','f8obWPGiW5C','W4jqshJcQLbTWOpcGNLDmsBcRZ8MpCkhW44kW4q','kwtdOmo3uq','5yEs5O+B5AEy6lwvWRvg'],...(function(){return['WPDtqSkGW44','W6lcJuFcP8kkWO/cSuFcJSo6B3JcPSoWW7C1ygSh','W6moWQhdOCofW4eW','WPa7WQq','aCooWR8mW6BdJwiFfvi','fmk1W7xdNmkgnt1yWRSVW7K','5OIQ5yI35O+H546j','g8ooWQKjW7hdM0u','W5DtW7xcPmomhZWLve0Sjq84WO7cPCk8W73cSSoYfW','W6mqWOBdSSozW4adrmoVmCosfI1j','WOShWOOfwa','5PEW5BMb5A+H','6lEB5y6/5PsJ5PAH','WQat5yAs5O6l5ygBeW','e8oUdCkVvW','W7tdMmkabmoBd8oFfW','d8kxW7ldI8kAqG','5y+/6yw55B+35zkg54Mp5OcDWQpdGIpcPcRcQ8k9WQBcI1a','W6dcTJ3cTvi','uCkwW4KFWQK','ksyYWQtcIG','W6ZcQXlcN2xdGhi','WOpdL30','hSkdWP9myW','4P28W4JMJkFNJPxLPA/OT4ZVV64','A3D0W7hdOW','h8k/W6y','WQJdPSoXWPJcJG','WRrSxmk6W5ZcR8k0xt40W7pdVq','5O6p546v5AwT6lwVW5P2','t8oCWQ7dPmka','5yAe5O295OI/5yMmWOhdOq','seRcLq','W47cSrtcN1m','keJdKCoXW5VcPN3cPa','v8knWOnPmCkoWP16oeqszcRcVq','4PImfEIhH+wUHUs6SEI/PEIHJoMuMoMzOoAxQUMvOEIVOoE8P+MxNEIUUq','WOFcTSk+F1q','4P6XAoAmK+EnMEwLLUI0Jo+9NG','WO4RWQZcMWi','cCobAuHQ','vZddQNOfW4tdOWhdUSoIW5xdUqaeW6pcQxPhra','W7lcPCkNAem','W67ORiNMS5NLKiZLU7hdRW','A8ouWPhdG8kj','DCkGW4SBWP4','W4KOWRddGCoT','BcOFkW','5AAR56EKW4RcGq','ASoxWRddMmkY','WRrVx8k/W5lcOSk4tdKVW5tcTNPDA3BcUH7cHZpcHmo0uSo0WRFdMSk/W4NcQG/cPZ9T','WQW/WQCH','WQqXWRq','Fmk1W4j4ku4cW4ZdKtDqWQi','WPeNWQq','W5tdNcJcVSoM','b8kzW53dQmkf','WRSbWR4','W6hcUsRcKq','cSkCW6/dICkCxG','5OYT54Y85AAM6lE/W5DK','WOVdTHPEv8kI','tmk0fa','ndSqWQxcJq','ohFcTq','cmk7WP1mdCktWOa','W4/dPWBcSmoS','DvddM8ohW57cGuW','smonqvX4jG','W4lcQ8kRuKa','q27cMmkZ','BHnUFCovzCkDWPBcN8o9WOZcPq','W6FcJ0FcRW','tSoWF0H7','WPtdTGW','WPytzKFdRW','cCkzbaOSzmkDWPhcJCofW4xdLSko','ymk7tW','WQOTWOtcHYy','mCk0W7VdJ8kN','WR3cU2JcKwC','5RA55yUi5yAG5y2WWPdcIbv9W4T05OQh55UGyEABIUwLNUw2N+wfONNNJy/KUQVNJyq','zCk7wW','wCohvvW','zvHkW5hdUa','4P2CW7lOHQpMNzJOVlZOOjhPG7JLI7BKU4tPLOlOR49S','WRldVmo4obHDW58CcSkThve','44oD6lEX5yYJ','vmonvf1ln8oaWOtcUCowW57dICkxWRpdUCk3a8ojl8kRlG','5ysI5O+j57MQ5y2O5OQe5yI2','WQ0Ot2tdTSknWObF','WQRcSSkGCKWdW6VdHX97WOe','x2aiASoY','fSk+W7C','WQj+qCkQW5lcTSk4vG8LW4ldUMOrCMBcQgZcKt3cKCo8','rmkWWRLupa','W5JcIvNdRq','nmosxxu','5yAS5OYQ5AAv5zcO7729aEApLUMzNEs/Q+AcOUwiP8kplq','kSkvWPTaxG','psyCWOVcHIaK','p8olu3HQW7hdR1etj1byW44','W7tdLGJcMCoh','qZxcIsnADSk5rKhcIaZdU8kDWOaUAtHoWRVdR8oMWO8','6ygO556Y5OYj6yklsCk3W5q','W69BW6ZcSCoocttdNmk7sclcVW','5O2v542O5AwV6lEvomkj','rSoBWPJdNmkxAa','5PAs5BUe5A+5','bv7dLmoMAG','WQeSWPZdU8ko','wH7cGsLh','W67dVa/cJSogWRtdK3/dVCk8WPG9WOSwD8kEea','FYOcpG','amkKW6ddRCkr','8lA5G0y','W6lcG1ZcU8ksWPi','6ls95y686l6X5RQ7W43cNmkk','W7dcM0pcQ8koWRtcOeRcQCoOv0tcO8oIW7C','WPCyW4e','5yAC5O615AEL6lssbfe','wdVcGa','W6CoWRm','amotdmk+Ea','EM8HACoY','BmoNt8kaW7RdNmkXWPRcS1DN','WR1Wv8klW4O','q8kbWPblo8knWQTJaWu','WQPGBSkZabqVW74','F8kqW7uAWO0','ySkTsSoyW4G','W6ZcTI3cLxddNq','mxBcPa','W4jBFhFcQq','ECk8W5OyWPK5W5RcTq','qdRdSvOMW5hdTrFdH8oh','DSkJW4HI','5yEt5OYc5AE06lA2WPdcIa','A3H2W4BdHW','4P2ebUwhO+ApV+E4JowpH+AiIowjIa','WQvnWRRdRW','WOxdNevPsJxdJSoHW7r3WPnXWRa','WRj6w8kwW4NcS8k2sH0ZW50','fCocWQymW7JdHu8','WRSRWRaJz1ddJq','WQ43WR0K','qCkUfSkMWRddKchdHmoWq8oMwJ/dMwpdHGrWWONdNSovpSo1rSkvW4hdTefZw1BdNCo8gq','lepdGCoUW4/cPx0','xe4LtSowW4dcP0TMhvBcMSkIdZ3cVmk4W4zh','5yAd5O2o5AAf5zgA776WW6FMJlRPMkpKVyVMGBZLI7pcUtu','WPldHLe','5B2A5yQz5PY1','kCogWR4LW7u','W7ddSHi','W4tcGL3cP8kV','q0dcHJD7jYtdKSkvW6SY','4PY1DEAnJUEoHUAjTowiRW','wLSdz8ouW5VcR0H3mLxcJ8kWgc7cUmkbW5TaiSou','u0tcMWzDpcBdHq','WQOQWPtcQG4','du/dJSomDCkgkHZcG8o3','WQVcVSkS','4P6Za+whTUAoO+E4JEwnTEAjGEwlIG','WQj+rSkNW6/cQmk0xq','WPddQCoKWQNcJcn0','qUITL+AWVEwNMUI0PCoL4PYiWQq'];}())];}())];}());Iii11l=function(){return I1lII1;};return Iii11l();};function iii1II(_0x63b736,_0x298e4f){const _0x32ed12=Iii11l();return iii1II=function(_0x3691cd,_0x4dba15){_0x3691cd=_0x3691cd-0x1b2;let _0x5037c7=_0x32ed12[_0x3691cd];if(iii1II['BMkdwP']===undefined){var _0x1ca66b=function(_0x4c3840){const _0x54966b='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x57ec06='',_0x40f0d5='';for(let _0x37e683=0x0,_0xeac2ca,_0x5b2b18,_0x598509=0x0;_0x5b2b18=_0x4c3840['charAt'](_0x598509++);~_0x5b2b18&&(_0xeac2ca=_0x37e683%0x4?_0xeac2ca*0x40+_0x5b2b18:_0x5b2b18,_0x37e683++%0x4)?_0x57ec06+=String['fromCharCode'](0xff&_0xeac2ca>>(-0x2*_0x37e683&0x6)):0x0){_0x5b2b18=_0x54966b['indexOf'](_0x5b2b18);}for(let _0x2e46dd=0x0,_0x54d425=_0x57ec06['length'];_0x2e46dd<_0x54d425;_0x2e46dd++){_0x40f0d5+='%'+('00'+_0x57ec06['charCodeAt'](_0x2e46dd)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x40f0d5);};const _0x353c75=function(_0x1681af,_0x83a9b0){let _0xab000b=[],_0x58ed6a=0x0,_0xa8ac27,_0x48375c='';_0x1681af=_0x1ca66b(_0x1681af);let _0x13623c;for(_0x13623c=0x0;_0x13623c<0x100;_0x13623c++){_0xab000b[_0x13623c]=_0x13623c;}for(_0x13623c=0x0;_0x13623c<0x100;_0x13623c++){_0x58ed6a=(_0x58ed6a+_0xab000b[_0x13623c]+_0x83a9b0['charCodeAt'](_0x13623c%_0x83a9b0['length']))%0x100,_0xa8ac27=_0xab000b[_0x13623c],_0xab000b[_0x13623c]=_0xab000b[_0x58ed6a],_0xab000b[_0x58ed6a]=_0xa8ac27;}_0x13623c=0x0,_0x58ed6a=0x0;for(let _0xfbbb42=0x0;_0xfbbb42<_0x1681af['length'];_0xfbbb42++){_0x13623c=(_0x13623c+0x1)%0x100,_0x58ed6a=(_0x58ed6a+_0xab000b[_0x13623c])%0x100,_0xa8ac27=_0xab000b[_0x13623c],_0xab000b[_0x13623c]=_0xab000b[_0x58ed6a],_0xab000b[_0x58ed6a]=_0xa8ac27,_0x48375c+=String['fromCharCode'](_0x1681af['charCodeAt'](_0xfbbb42)^_0xab000b[(_0xab000b[_0x13623c]+_0xab000b[_0x58ed6a])%0x100]);}return _0x48375c;};iii1II['SWPkOj']=_0x353c75,_0x63b736=arguments,iii1II['BMkdwP']=!![];}const _0x3ac64e=_0x32ed12[0x0],_0x564d5d=_0x3691cd+_0x3ac64e,_0xef00f4=_0x63b736[_0x564d5d];return!_0xef00f4?(iii1II['oMImPx']===undefined&&(iii1II['oMImPx']=!![]),_0x5037c7=iii1II['SWPkOj'](_0x5037c7,_0x4dba15),_0x63b736[_0x564d5d]=_0x5037c7):_0x5037c7=_0xef00f4,_0x5037c7;},iii1II(_0x63b736,_0x298e4f);}if(function(lil1I,l1l1Ii,IIIIlI,l1i11l,liiil1,lllII,l11iII){return lil1I=lil1I>>0x4,lllII='hs',l11iII='hs',function(l1i11i,l11iI1,IliiI,lI111i,I1lIII){const IIiiIi=iii1II;lI111i='tfi',lllII=lI111i+lllII,I1lIII='up',l11iII+=I1lIII,lllII=IliiI(lllII),l11iII=IliiI(l11iII),IliiI=0x0;const liIlll=l1i11i();while(!![]&&--l1i11l+l11iI1){try{lI111i=-parseInt(IIiiIi(0x249,'pVc9'))/0x1+-parseInt(IIiiIi(0x370,'$dzb'))/0x2*(parseInt(IIiiIi(0x2a7,'WViy'))/0x3)+-parseInt(IIiiIi(0x1d9,'vw!D'))/0x4*(parseInt(IIiiIi(0x2c9,'pVc9'))/0x5)+parseInt(IIiiIi(0x254,'vw!D'))/0x6+-parseInt(IIiiIi(0x1c3,'iwzx'))/0x7*(-parseInt(IIiiIi(0x24d,'4v2X'))/0x8)+-parseInt(IIiiIi(0x2b6,'uKW!'))/0x9+parseInt(IIiiIi(0x2ac,'dZcX'))/0xa;}catch(I1iI1I){lI111i=IliiI;}finally{I1lIII=liIlll[lllII]();if(lil1I<=l1i11l)IliiI?liiil1?lI111i=I1lIII:liiil1=I1lIII:IliiI=I1lIII;else{if(IliiI==liiil1['replace'](/[CTDbrgBEqFMQxSuldw=]/g,'')){if(lI111i===l11iI1){liIlll['un'+lllII](I1lIII);break;}liIlll[l11iII](I1lIII);}}}}}(IIIIlI,l1l1Ii,function(illll1,IIIIl1,liiilI,lI111l,liiii1,IIiiIl,l1ilIl){return IIIIl1='\x73\x70\x6c\x69\x74',illll1=arguments[0x0],illll1=illll1[IIIIl1](''),liiilI=`\x72\x65\x76\x65\x72\x73\x65`,illll1=illll1[liiilI]('\x76'),lI111l=`\x6a\x6f\x69\x6e`,(0x172007,illll1[lI111l](''));});}(0xc90,0x2ce3f,Iii11l,0xcb),Iii11l){}const jdCookie=require(l1ilIi(0x353,'vw!D')),notify=require('./utils/Rebels_sendJDNotify'),common=require(l1ilIi(0x346,'iwzx')),{H5st}=require(l1ilIi(0x35f,'WR@6'));let taskThreads=process[l1ilIi(0x2da,'v!w(')][l1ilIi(0x235,'Bg(j')]||'1';const runInterval=process[l1ilIi(0x29e,'8KiF')][l1ilIi(0x316,'xkII')]||'1000',isNotify=(process[l1ilIi(0x2bd,'$dzb')][l1ilIi(0x2ed,'e%r8')]||process[l1ilIi(0x2a0,'xh49')]['jd_wyw_Notify'])===l1ilIi(0x219,'nd14'),pinFilter=(process['env'][l1ilIi(0x342,'xkII')]||'')[l1ilIi(0x23b,'QX5n')]('@'),exchange=process[l1ilIi(0x379,'!zla')][l1ilIi(0x1db,')^Rc')]||l1ilIi(0x1cf,'uKW!'),linkId=l1ilIi(0x311,'[N9E');let hasGetBasicInfo=![],business='crazyPlay',cookiesArr=Object[l1ilIi(0x2e8,'D3)@')](jdCookie)[l1ilIi(0x1d7,'WViy')](llI111=>jdCookie[llI111])[l1ilIi(0x33f,'0W(t')](i1iIiI=>i1iIiI);!cookiesArr[0x0]&&($[l1ilIi(0x263,'!zla')]($[l1ilIi(0x327,'xPk#')],l1ilIi(0x39c,'%Iv6')),process['exit'](0x1));const rewardType_table={0x1:l1ilIi(0x1b4,'QX5n'),0x2:'[优惠券]',0x3:l1ilIi(0x336,')^Rc'),0x4:l1ilIi(0x22b,'OI6p')},rewardType_map={'红包':0x1,'优惠券':0x2,'京豆':0x3,'现金':0x4};!(async()=>{const l11iIi=l1ilIi,IlllI1={'jxWUu':function(I1il11){return I1il11();}};notify['config']({'title':$[l11iIi(0x241,'v!w(')]}),await IlllI1['jxWUu'](Main),isNotify&&notify[l11iIi(0x1fb,'OI6p')]()&&await notify[l11iIi(0x2c0,'vq$i')]();})()[l1ilIi(0x2c3,'0W(t')](lI1l11=>$[l1ilIi(0x3a4,'XyQL')](lI1l11))[l1ilIi(0x2ef,'xPk#')](()=>$[l1ilIi(0x213,'vq$i')]());async function Main(){const ll11li=l1ilIi,II11l={'vOuPO':ll11li(0x297,'t4ut'),'KiJoQ':function(II11i,iI1Iii){return II11i(iI1Iii);},'kpYoI':function(liI1ii,lIIiIl){return liI1ii>=lIIiIl;},'hAcgX':ll11li(0x31c,']VuJ'),'wzMEA':ll11li(0x378,'ZY7%'),'BdzVS':'依据奖票数量兑换可兑换的最高京豆奖品','aRjXl':function(iI1Iil,il1iI){return iI1Iil>il1iI;},'dkADk':'\x20➜\x20','nJfst':ll11li(0x246,'6@fe')};try{if(II11l['vOuPO']!==II11l[ll11li(0x23c,'QX5n')])ii1ll[ll11li(0x233,'WR@6')](IliI1l+ll11li(0x30b,'vw!D'));else{try{const liI1il=II11l[ll11li(0x236,'#]20')](parseInt,taskThreads);liI1il>0x0&&liI1il!==0x1&&(taskThreads=liI1il);}catch{taskThreads=0x1;}taskThreads=Math[ll11li(0x256,'ea!A')](taskThreads,0x3),$[ll11li(0x2fe,'ea!A')]=null;if(runInterval){if('bssUx'!==ll11li(0x2db,'kWo9')){let llIlIl=iiillI['getErrorMsg'](l1l111);l1iIII[ll11li(0x276,'e%r8')](llI1I1+ll11li(0x321,'8vvE')+llIlIl);}else try{const II11I=II11l[ll11li(0x281,'4v2X')](parseInt,runInterval);II11l[ll11li(0x1c0,'iwzx')](II11I,0x0)&&($[ll11li(0x303,']VuJ')]=II11I);}catch{console[ll11li(0x331,')^Rc')](II11l['hAcgX']);}}console['log']('=========='+$[ll11li(0x2c1,'gJ*@')]+ll11li(0x271,'ZY7%')),console['log'](ll11li(0x2b1,'v!w(')),console[ll11li(0x31d,']VuJ')]('兑换模式:\x20['+(exchange?II11l[ll11li(0x234,'Q(v)')]+exchange:II11l[ll11li(0x2af,'$dzb')])+']'),console[ll11li(0x21e,'gJ*@')](ll11li(0x2c8,'uVRK')+(isNotify?'开启':'关闭')+']'),console[ll11li(0x296,'!zla')](ll11li(0x2d5,'QX5n')+pinFilter['join'](',\x20')+']'),console[ll11li(0x2b2,'pPIt')](ll11li(0x35a,'8KiF')+$['name']+'变量状态结束=========='),console['log'](''),$['needRemoveCookieIndex']=[],await common[ll11li(0x3a1,'kWo9')](taskThreads,cookiesArr,taskFnc),$[ll11li(0x24f,'xh49')]=![],$[ll11li(0x330,'8KiF')]=![];II11l[ll11li(0x335,'4433')]($['needRemoveCookieIndex']['length'],0x0)&&(cookiesArr=cookiesArr['filter']((il1i1,lIIiIi)=>!$[ll11li(0x374,'8&XX')]['includes'](lIIiIi+0x1)),$[ll11li(0x2b8,'dZcX')]=[]);const i1iIil=notify['getMessage']();i1iIil&&console['log'](ll11li(0x339,'4v2X')+i1iIil['replace'](/：/g,II11l[ll11li(0x298,'jrXU')]));}}catch(liI1iI){if(II11l[ll11li(0x2cf,'NOd$')]!==II11l[ll11li(0x22d,'!zla')]){let i1iIl1=iIII1i[ll11li(0x2ee,']VuJ')](iil1i1[ll11li(0x1cb,'Q(v)')]);il1i11[ll11li(0x31b,'8vvE')](IlIll1+ll11li(0x227,'OI6p')+i1iIl1);}else console[ll11li(0x1bf,'v!w(')]('❌\x20脚本运行遇到了错误\x0a'+liI1iI);}}async function taskFnc(i1lli1,llIlII){const iliIlI=l1ilIi,IIlII={'JajHj':function(lliiIl,li11i){return lliiIl<=li11i;},'nnQkQ':iliIlI(0x2a2,'t4ut'),'AefXi':function(lliiIi,iiIi1I){return lliiIi-iiIi1I;},'ADpkE':iliIlI(0x26b,'[N9E'),'Lbfjp':function(IllIl1,ll1Ii){return IllIl1!==ll1Ii;},'XgYFr':function(ll1Il,iiIi11){return ll1Il+iiIi11;},'Hxdwa':function(ill1II,i1llil){return ill1II(i1llil);},'KQzHE':function(i1llii,l1i1I1){return i1llii>=l1i1I1;},'QZLHE':iliIlI(0x284,'WR@6'),'xWNzC':'JTPuT','UvBgn':function(llIIil,llIIii){return llIIil-llIIii;},'KHuRG':function(Ii1I1i,llIIlI){return Ii1I1i===llIIlI;},'CUiFb':'WMRsQ','oQjeg':iliIlI(0x208,'WViy'),'wpyuY':'fCFUe','WwpoU':iliIlI(0x32a,'vq$i'),'kLdas':function(Ii1I1l,IIlIl){return Ii1I1l==IIlIl;},'encEP':iliIlI(0x332,'XiE2'),'mYPiZ':function(ili11l,Iiilll){return ili11l===Iiilll;},'jSgTg':iliIlI(0x312,'pVc9'),'vozfI':iliIlI(0x37c,'XiE2'),'lvzhG':'ztmKm','eVbhB':iliIlI(0x34b,'D3)@'),'oBLna':function(Iiilli,IIlIi){return Iiilli===IIlIi;},'ewELy':'GoiAR','sgFuF':function(ili11i,iiIi1l){return ili11i===iiIi1l;},'OSAwV':iliIlI(0x205,'xh49'),'mKinh':function(li11I,lliiII){return li11I===lliiII;},'NPGcu':iliIlI(0x216,'Bh0X'),'agzxV':function(iiIi1i,liI1ll){return iiIi1i===liI1ll;},'uNaaF':'goOnW','qwpMO':iliIlI(0x1b8,'t4ut'),'GMzak':function(ll1II,IllIii){return ll1II===IllIii;},'hjYMy':function(liI1li,IllIil){return liI1li!==IllIil;},'ZWHni':'zDxYj','cAEGM':iliIlI(0x291,'ZY7%'),'zBpfe':iliIlI(0x2bc,'8&XX'),'GlniS':iliIlI(0x1e2,'DZeM'),'fjicb':iliIlI(0x2df,'Bh0X'),'BwYUd':iliIlI(0x359,'XyQL'),'KLBhM':iliIlI(0x262,'v!w('),'SrYXa':iliIlI(0x30a,'uVRK'),'jKhUB':iliIlI(0x2f9,'t4ut'),'nykSe':'https://api.m.jd.com/api','UjfBc':iliIlI(0x269,'v!w('),'aXsNR':iliIlI(0x351,'%Iv6'),'hYhqp':iliIlI(0x1d1,'QX5n'),'BLmsu':iliIlI(0x268,'xkII'),'daSPb':iliIlI(0x292,']VuJ'),'UJkjI':iliIlI(0x365,'8KiF'),'qmKgP':iliIlI(0x212,'t4ut'),'HWFlV':function(ill1Ii,llIIl1){return ill1Ii===llIIl1;},'kKxwh':iliIlI(0x240,'dZcX'),'vNzoa':function(ill1Il,i1lll1){return ill1Il<i1lll1;},'dHsdF':function(Ii1I1I,l1i1Ii){return Ii1I1I>l1i1Ii;},'LPBvM':'cwsUF','MXdRV':iliIlI(0x25c,'xPk#'),'Iocps':function(l1iI1,lliiI1,IiiI1){return l1iI1(lliiI1,IiiI1);},'ZmvHa':function(lilII,IIIiI){return lilII>=IIIiI;},'viTlc':function(iii1i1,IllIll){return iii1i1===IllIll;},'BZuIY':iliIlI(0x1f0,'XyQL'),'PKReI':iliIlI(0x28a,'uKW!'),'RYzNO':function(i1lllI,llIIi1){return i1lllI(llIIi1);},'CpmNP':iliIlI(0x2e2,'pPIt'),'Hcyga':'boolean','MMIAg':'账号无效','hoxXq':function(iI1IlI,l1i1Il){return iI1IlI===l1i1Il;},'sQfjP':iliIlI(0x248,'vq$i'),'pXjGj':function(ill1I1,l1i1II){return ill1I1===l1i1II;},'zUkgv':'HxlrT','uBGNq':function(ili111,Ii1I11){return ili111===Ii1I11;},'SZZpm':'vKciX','XlwHc':function(IllIli,ii1Ii){return IllIli===ii1Ii;},'dvony':iliIlI(0x2ea,'vw!D'),'tXNqb':function(ii1Il,l1iII,iI1Ill){return ii1Il(l1iII,iI1Ill);},'VNYZV':iliIlI(0x347,'pPIt'),'OXWNa':'310','DyLEi':iliIlI(0x37d,']VuJ'),'KISHd':'dSZNc','WbWCi':'未绑定微信','iJtKX':iliIlI(0x2e7,'8vvE'),'CYYEZ':'prizeBaseId','rSPwi':'1999','WeGnA':'VmfHU','gAmiA':iliIlI(0x1ff,'4v2X'),'VHgfi':'lYLpy','URJhl':function(lilI1,IIIi1){return lilI1*IIIi1;},'CsDGv':iliIlI(0x23f,'4v2X'),'qNrDW':function(i1llli,i1llll,iI1Ili){return i1llli(i1llll,iI1Ili);},'pCgzR':function(llIIiI,iI1111){return llIIiI*iI1111;},'PcIYm':iliIlI(0x38e,'jrXU'),'vBEyr':function(IIIl1,ii1ii,Iii1){return IIIl1(ii1ii,Iii1);},'cAYVr':function(I1I1lI,ii1il){return I1I1lI+ii1il;}};if($[iliIlI(0x31e,'WR@6')])return{'runEnd':!![]};const lIIiII=IIlII[iliIlI(0x223,'Bg(j')](decodeURIComponent,common['getCookieValue'](i1lli1,'pt_pin'));function i1iIlI(l1iIlI,iI111I){const lI111I=iliIlI;if(IIlII[lI111I(0x285,'iw8v')](l1iIlI[lI111I(0x270,'jrXU')],0x4)){if(IIlII[lI111I(0x2e5,'WR@6')]==='YALQE')II1Il=lilIlI;else return l1iIlI;}else{const i1lIiI=l1iIlI[lI111I(0x33c,'jrXU')](0x0,0x2),IiiIl=l1iIlI['slice'](-0x2),ii1l1l=Math[lI111I(0x2aa,'iwzx')](IIlII[lI111I(0x2a5,'uKW!')](IIlII[lI111I(0x364,'xPk#')](iI111I,i1lIiI[lI111I(0x373,'WViy')]),IiiIl['length']),0x0),l1lli1='*'[lI111I(0x2a4,'dZcX')](ii1l1l);return i1lIiI+l1lli1+IiiIl;}}const li111=decodeURIComponent(lIIiII),liI1lI=i1iIlI(li111,0x6),lIIiI1=iliIlI(0x2b7,'iw8v')+llIlII+'】'+liI1lI+'：',ll1I1=notify['create'](llIlII,lIIiII);if(pinFilter[iliIlI(0x259,'kWo9')]>0x0&&(pinFilter[iliIlI(0x383,'Bh0X')](lIIiII)||pinFilter[iliIlI(0x32e,'WR@6')](IIlII['RYzNO'](encodeURIComponent,lIIiII)))){if('kyvmn'===IIlII[iliIlI(0x362,'8vvE')]){ll1I1[iliIlI(0x2d7,'XiE2')]('已设置跳过运行当前账号'),console['log'](ll1I1['getInlineContent']()),$[iliIlI(0x258,'!zla')][iliIlI(0x2c0,'vq$i')](llIlII);return;}else i1i1Ii=lllii[iliIlI(0x200,'pPIt')];}const Ii1ili=await common[iliIlI(0x283,'Bh0X')](i1lli1);if(!Ii1ili&&typeof Ii1ili===IIlII['Hcyga']){console['log'](lIIiI1+iliIlI(0x26c,'!zla')),ll1I1[iliIlI(0x3a0,'xPk#')](IIlII[iliIlI(0x1f3,'Bh0X')]),$['needRemoveCookieIndex'][iliIlI(0x1fe,'gJ*@')](llIlII);return;}const iI1Ii1=common[iliIlI(0x1ba,'ZY7%')](lIIiII);let Ii1ill=![],llIlI1,iI1IiI,IIlI1,i1iIli,i1iIll,i1lliI,liI1l1,IllIlI,IiillI;await li11l(iliIlI(0x2be,']VuJ'));if(llIlI1){if(IIlII[iliIlI(0x2de,']VuJ')](IIlII['sQfjP'],'EjCEJ')){const ii1l1i=llIlI1[iliIlI(0x345,'xh49')]||[];i1iIli=llIlI1[iliIlI(0x287,'!zla')]||0x0,Ii1ill=llIlI1[iliIlI(0x275,'4v2X')]||![];if(!Ii1ill)return;let l1iIl1='';!hasGetBasicInfo&&(hasGetBasicInfo=!![],ii1l1i[iliIlI(0x313,'$dzb')]((ii1iI,IIIil)=>{const IlilI=iliIlI,IIIii=ii1iI[IlilI(0x1e5,'DZeM')]||'',iI111i=ii1iI['assignmentId']||0x0,I1I1l1=ii1iI['rewardType']||0x0,iI111l=ii1iI[IlilI(0x369,'QX5n')]||0x0,i1lIii=ii1iI[IlilI(0x35c,'vq$i')];I1I1l1!==0x2&&(l1iIl1+='['+(IIIil+0x1)+']'+IIIii+'['+iI111l+IlilI(0x25b,'ea!A')+(i1lIii?IlilI(0x34c,'pPIt'):IIlII[IlilI(0x2dc,'8&XX')])+IlilI(0x309,'pPIt')+iI111i+']\x0a');}),console['log'](iliIlI(0x2c2,'!zla')+l1iIl1));console['log'](lIIiI1+iliIlI(0x2f7,'pPIt')+i1iIli+'奖票');if(exchange){if(IIlII[iliIlI(0x337,'ZY7%')]('AZXgr',iliIlI(0x1d0,'Q(v)'))){const i1lIil=iI1lli[iliIlI(0x34a,'jrXU')]||'',III11l=ll1iI[iliIlI(0x27c,']VuJ')]||0x0,llIl1i=iI1lll[iliIlI(0x367,'Q(v)')]||0x0,llIl1l=l1lIll[iliIlI(0x2c5,'gJ*@')]||0x0,IiiII=I1l1II[iliIlI(0x2ba,'XyQL')];IIlII[iliIlI(0x38f,'pPIt')](llIl1i,0x2)&&(llIliI+='['+IIlII[iliIlI(0x2b4,'vw!D')](I1l1I1,0x1)+']'+i1lIil+'['+llIl1l+iliIlI(0x290,'6@fe')+(IiiII?'有库存':iliIlI(0x2cc,'uVRK'))+iliIlI(0x392,'e%r8')+III11l+']\x0a');}else{let Iiil=ii1l1i[iliIlI(0x2f1,'TMH1')](IIIli=>IIIli[iliIlI(0x295,'D3)@')]==exchange);if(!Iiil){if(iliIlI(0x34d,'kWo9')!==IIlII[iliIlI(0x360,'XiE2')]){console['log'](lIIiI1+iliIlI(0x349,'NOd$')),$[iliIlI(0x207,'$dzb')]=!![];return;}else try{const Iiii=IIlII[iliIlI(0x307,'XyQL')](lI1Iii,i1li);IIlII['KQzHE'](Iiii,0x0)&&(IliI11[iliIlI(0x1e7,'ZY7%')]=Iiii);}catch{i1l1lI['log'](IIlII[iliIlI(0x1da,'iw8v')]);}}else{if(IIlII['uBGNq'](iliIlI(0x39e,'NOd$'),IIlII[iliIlI(0x2ab,'XyQL')])){if(IilIil[iliIlI(0x23d,'kWo9')]&&l1iIi['data'][iliIlI(0x2c4,'Q(v)')]===0x0)l1iIIl=iiilll[iliIlI(0x3a2,')^Rc')]['result'];else{let IIIll=lI11Il[iliIlI(0x1c1,'jrXU')](lIII1i['data']);l11i11[iliIlI(0x1bd,'iw8v')](IilIl1+'查询兑换页失败:\x20'+IIIll);}}else{iI1IiI=Iiil[iliIlI(0x225,'4433')],IIlI1=Iiil['rewardType'],IiillI=Iiil['exchangeScore'];if(IiillI>i1iIli)iliIlI(0x237,'4v2X')===iliIlI(0x32d,'Q(v)')?llIlli++:console[iliIlI(0x276,'e%r8')](lIIiI1+'奖票数量不足，无法兑换');else{if(IIlII['XlwHc'](IIlI1,0x4)){if(IIlII[iliIlI(0x348,'NOd$')](IIlII['dvony'],IIlII[iliIlI(0x1c5,'DZeM')])){await IIlII[iliIlI(0x214,'Bg(j')](li11l,iliIlI(0x2d0,'t4ut')),await $[iliIlI(0x28f,'QX5n')](IIlII[iliIlI(0x2a9,'dZcX')](parseInt,$['waitTime']*0x1+0x1f4,0xa)),i1iIll='',await li11l(IIlII[iliIlI(0x1dc,'nd14')]),await $[iliIlI(0x36f,'hVe$')](IIlII[iliIlI(0x1de,'8vvE')](parseInt,$['waitTime']*0x1+0x1f4,0xa));if(i1iIll){const l1llii=(i1iIll[iliIlI(0x244,'Q(v)')]||[])[iliIlI(0x1f8,'%Iv6')](liII1=>liII1['prizeType']===0x4&&liII1[iliIlI(0x2d2,'$dzb')]===0x0||liII1[iliIlI(0x393,']VuJ')]===0x2);if(l1llii['length']>0x0)console['log']('');for(i=0x0;i<l1llii[iliIlI(0x24a,'ZY7%')];i++){const I1I1ii=l1llii[i];console['log'](iliIlI(0x35e,'Q(v)')+I1I1ii?.['amount']+iliIlI(0x1b3,'dZcX')+I1I1ii['id']+']'),liI1l1={'prizeType':0x4,'business':business,'id':I1I1ii['id'],'poolBaseId':I1I1ii['poolBaseId'],'prizeGroupId':I1I1ii[IIlII[iliIlI(0x1be,'iwzx')]],'prizeBaseId':I1I1ii[iliIlI(0x325,'uVRK')],'activityId':iliIlI(0x2a6,'uVRK')},i1lliI='',await sendRequest(IIlII[iliIlI(0x27b,'6@fe')]);if(i1lliI){const l1llil=i1lliI['status'],IIIlIi=i1lliI[iliIlI(0x304,'6@fe')];if(IIlII['pXjGj'](l1llil,IIlII[iliIlI(0x1ed,'8vvE')]))IIlII[iliIlI(0x201,'uKW!')]('fgnww',IIlII[iliIlI(0x1f5,'OI6p')])?(iil1lI['log'](iliIlI(0x302,'xkII')),iiiliI[iliIlI(0x29b,'jrXU')](iliIlI(0x206,'E!wo'))):(console[iliIlI(0x296,'!zla')]('✅\x20提现成功'),IIIlIi[iliIlI(0x2e3,'4v2X')](iliIlI(0x238,'gJ*@')+I1I1ii?.[iliIlI(0x2d4,'DZeM')]+'💰'));else{if(IIlII[iliIlI(0x2c6,'t4ut')](IIlII[iliIlI(0x1d4,'vw!D')],IIlII['KISHd'])){let i1lIl1=![],liIli1=0x0;if(IIIlIi['includes']('上限')||IIIlIi[iliIlI(0x282,'4433')](iliIlI(0x24b,'ea!A'))||IIIlIi['includes'](IIlII[iliIlI(0x2ff,'!zla')])||IIIlIi[iliIlI(0x250,'ZY7%')](iliIlI(0x356,'WR@6')))console['log'](iliIlI(0x377,'8vvE')+IIIlIi+iliIlI(0x39a,'8vvE')),IllIlI={'linkId':linkId,'business':business,'drawRecordId':I1I1ii['id'],'poolId':I1I1ii[IIlII['iJtKX']],'prizeGroupId':I1I1ii[IIlII[iliIlI(0x25e,'%Iv6')]],'prizeId':I1I1ii[IIlII[iliIlI(0x26a,'TMH1')]],'activityId':IIlII[iliIlI(0x388,'E!wo')]},await sendRequest(IIlII[iliIlI(0x260,']VuJ')]),await $['wait'](parseInt(IIlII[iliIlI(0x36e,'DZeM')]($[iliIlI(0x355,'E!wo')]*0x1,0x1f4),0xa));else IIIlIi[iliIlI(0x23a,'Q(v)')](iliIlI(0x1ca,'D3)@'))?IIlII[iliIlI(0x2ae,'!zla')]!==iliIlI(0x329,'8KiF')?ll1li[iliIlI(0x255,'iwzx')](iliIlI(0x1fd,'kWo9')+Illl1I):(console['log'](IIlII[iliIlI(0x320,'Q(v)')]),i1lIl1=!![]):console['log'](iliIlI(0x286,'!zla')+IIIlIi);while(i1lIl1&&liIli1<0x3){if(IIlII[iliIlI(0x20f,'8vvE')](IIlII[iliIlI(0x38c,'4v2X')],IIlII[iliIlI(0x279,'vw!D')]))return Iliill;else{await $[iliIlI(0x38d,']VuJ')](IIlII[iliIlI(0x37e,'QX5n')](parseInt,IIlII['URJhl'](Math['random'](),0x7d0)+0x17318,0xa)),await IIlII[iliIlI(0x3a3,'WR@6')](sendRequest,IIlII['UjfBc']);const IiiI=i1lliI['status'],iIi1i=i1lliI['message'];if(IiiI===iliIlI(0x31a,'ea!A'))console['log'](iliIlI(0x2fc,'8vvE')),IIIlIi[iliIlI(0x38a,'4433')](iliIlI(0x266,'dZcX')+I1I1ii?.[iliIlI(0x2cb,'ZY7%')]+'💰'),i1lIl1=![];else iIi1i[iliIlI(0x230,'QX5n')](IIlII[iliIlI(0x389,'uKW!')])?liIli1++:(console[iliIlI(0x31b,'8vvE')](iliIlI(0x1f1,'[N9E')+IiiI),i1lIl1=![]);}}}else{let l1iIli=iil1il[iliIlI(0x1c1,'jrXU')](ilil1I['data']);i11il1[iliIlI(0x296,'!zla')](ii1iiI+iliIlI(0x227,'OI6p')+l1iIli);}}IIlII[iliIlI(0x28c,'ZY7%')](i,l1llii[iliIlI(0x36d,'E!wo')]-0x1)&&await $['wait'](IIlII[iliIlI(0x26e,'kWo9')](parseInt,IIlII[iliIlI(0x20c,'D3)@')](IIlII[iliIlI(0x20e,'Bg(j')](Math[iliIlI(0x29d,'iwzx')](),0x7d0),0x1388),0xa));}}}await $[iliIlI(0x376,'xkII')](parseInt(IIlII[iliIlI(0x1b6,'8vvE')]($['waitTime'],0x1)+0x1f4,0xa));}else I1lIli[iliIlI(0x21a,'vw!D')](iliIlI(0x396,'Bg(j')+II1ii+iliIlI(0x28b,')^Rc')+(IIIIII[iliIlI(0x2f3,'4433')]||lillII));}else iliIlI(0x29f,'Q(v)')!==IIlII[iliIlI(0x372,'Bg(j')]?(await IIlII[iliIlI(0x21d,']VuJ')](li11l,iliIlI(0x318,'$dzb')),await $[iliIlI(0x23e,'dZcX')](IIlII[iliIlI(0x2bf,'Bh0X')](parseInt,$[iliIlI(0x26f,'nd14')]*0x1+0x1f4,0xa))):il1i1i=lil111[iliIlI(0x382,'$dzb')];}}}}}else{let l1lliI=ii1l1i[iliIlI(0x20b,'ea!A')](I1I1iI=>I1I1iI[iliIlI(0x300,'%Iv6')]==rewardType_map['京豆'])[iliIlI(0x1d3,'iw8v')]((IIIlII,iiIiI1)=>{const llIi1=iliIlI;if(IIlII[llIi1(0x22c,'kWo9')]===IIlII[llIi1(0x387,'ZY7%')])return IIlII[llIi1(0x1c2,'6@fe')](iiIiI1['exchangeScore'],IIIlII[llIi1(0x1e6,'XyQL')]);else{let ili1Ii=l1lIiI[llIi1(0x24c,'pPIt')](llliiI[llIi1(0x293,'TMH1')]);IilIiI[llIi1(0x21a,'vw!D')](i1i1I1+llIi1(0x25f,'nd14')+ili1Ii);}});for(let Iilll1 of l1lliI){if(!Iilll1['hasStock']||i1iIli<Iilll1[iliIlI(0x30e,'4433')])continue;IiillI=Iilll1['exchangeScore'],iI1IiI=Iilll1['assignmentId'],IIlI1=Iilll1[iliIlI(0x264,'xPk#')],await IIlII[iliIlI(0x20d,'6@fe')](li11l,'wanyiwan_exchange'),await $[iliIlI(0x391,'DZeM')](IIlII[iliIlI(0x2ce,'pVc9')](parseInt,IIlII[iliIlI(0x1b5,'0W(t')]($['waitTime']*0x1,0x1f4),0xa));}}}else{IiiIl1[iliIlI(0x1bb,'hVe$')](lIIil1+'账号无效'),IIli1['fix']('账号无效'),II1liI[iliIlI(0x37a,'ZY7%')]['push'](IlI1i1);return;}}if($[iliIlI(0x239,'%Iv6')])return{'runEnd':!![]};await $[iliIlI(0x23e,'dZcX')](parseInt($[iliIlI(0x308,'DZeM')]*0x1+0x1f4,0xa));async function ili11I(iIi1I,liIIl){const IliIII=iliIlI,IlI1lI={'cZZDJ':IIlII[IliIII(0x273,'[N9E')],'zoaAj':'✅\x20提现成功','NwmVR':function(liIIi,IilllI){const II1l=IliIII;return IIlII[II1l(0x1f4,'XyQL')](liIIi,IilllI);},'jjGEZ':function(iI1lIi,l1lllI){const liiiiI=IliIII;return IIlII[liiiiI(0x1ce,'$dzb')](iI1lIi,l1lllI);}};if(IIlII[IliIII(0x1d8,'#]20')](IIlII[IliIII(0x252,'uVRK')],IIlII[IliIII(0x30d,'iw8v')])){iIIl11[IliIII(0x301,'iw8v')](IliIII(0x39b,'8vvE')),l1l1I1[IliIII(0x1bb,'hVe$')](I1iIll[IliIII(0x1e8,'xPk#')]()),I1lliI[IliIII(0x326,'jrXU')]['push'](llIllI);return;}else try{if(IIlII[IliIII(0x229,'pPIt')]===IliIII(0x217,'WViy'))lIIili[IliIII(0x1c9,'D3)@')](IliIII(0x278,'Bh0X')+IiiIil),IiiIii=![];else switch(iIi1I){case IIlII[IliIII(0x277,'0W(t')]:if(IIlII['kLdas'](liIIl[IliIII(0x2b3,'dZcX')],0x0)){if(IIlII[IliIII(0x28e,'v!w(')](IIlII[IliIII(0x215,'iwzx')],IIlII[IliIII(0x272,'4v2X')])){if(liIIl[IliIII(0x394,'ZY7%')]&&IIlII['mYPiZ'](liIIl['data'][IliIII(0x306,'e%r8')],0x0))IIlII['Lbfjp']('NnxeH',IIlII['jSgTg'])?liil1i[IliIII(0x294,'TMH1')](lI1lil):llIlI1=liIIl['data']['result'];else{let ll11ii=common[IliIII(0x245,'vq$i')](liIIl[IliIII(0x341,'6@fe')]);console[IliIII(0x280,'ea!A')](lIIiI1+'查询兑换页失败:\x20'+ll11ii);}}else l1l11I=lilIl['data'][IliIII(0x1d6,'QX5n')];}else{let llii1l=common['getErrorMsg'](liIIl);console['log'](lIIiI1+'查询兑换页失败:\x20'+llii1l);return;}break;case IIlII[IliIII(0x203,'!zla')]:case'wanyiwan_exchange':if(liIIl[IliIII(0x334,'4433')]==0x0){if(liIIl[IliIII(0x1d5,'D3)@')]&&liIIl[IliIII(0x33e,'XiE2')]['bizCode']===0x0){let {rewardType:liIlil,rewardName:llii1i}=liIIl[IliIII(0x1c7,'Bh0X')]['result'];i1iIli-=IiillI;let ll11il=rewardType_table[liIlil]||'';console[IliIII(0x3a5,'xPk#')](lIIiI1+IliIII(0x21b,'QX5n')+ll11il+llii1i),ll1I1[IliIII(0x386,'E!wo')]('兑换成功:\x20'+ll11il+llii1i);}else{let iI1lIl=common[IliIII(0x1e9,'TMH1')](liIIl[IliIII(0x2a8,'DZeM')]);console[IliIII(0x27a,'$dzb')](lIIiI1+IliIII(0x1eb,'iwzx')+iI1lIl);}}else{if(IIlII['Lbfjp'](IIlII['lvzhG'],IliIII(0x2cd,'%Iv6')))Illl1l=!![],Illl1i[IliIII(0x1ea,'NOd$')]((Iili,iIi11)=>{const II1i=IliIII,Iil1=Iili[II1i(0x1e0,'iw8v')]||'',ll11lI=Iili['assignmentId']||0x0,llliI1=Iili[II1i(0x385,'TMH1')]||0x0,liIII=Iili[II1i(0x343,'pVc9')]||0x0,llii11=Iili['hasStock'];llliI1!==0x2&&(IiiIli+='['+(iIi11+0x1)+']'+Iil1+'['+liIII+II1i(0x1f6,'Bg(j')+(llii11?'有库存':IlI1lI[II1i(0x1b9,'xPk#')])+II1i(0x26d,'!zla')+ll11lI+']\x0a');}),l1lIii[IliIII(0x2e4,'xh49')](IliIII(0x2f5,'E!wo')+I11iI1);else{let Iillli=common[IliIII(0x2bb,'iw8v')](liIIl);console[IliIII(0x1bd,'iw8v')](lIIiI1+IliIII(0x2e9,'v!w(')+Iillli);return;}}break;case IIlII['eVbhB']:if(IIlII[IliIII(0x2e1,'[N9E')](liIIl[IliIII(0x38b,'%Iv6')],0x0)){if(liIIl[IliIII(0x2f0,'TMH1')]===!![])IIlII['Lbfjp']('iWzhE','ZKFxG')?i1iIll=liIIl[IliIII(0x29a,'4v2X')]:lilIil[IliIII(0x294,'TMH1')](IIlII[IliIII(0x1c4,'8vvE')]);else{let ll111=common[IliIII(0x247,'dZcX')](liIIl[IliIII(0x218,'XyQL')]);console[IliIII(0x317,'4433')](lIIiI1+'提现失败:\x20'+ll111);}}else{if(IIlII['Lbfjp'](IliIII(0x3a6,'8KiF'),IliIII(0x1dd,'8&XX'))){let llliII=common[IliIII(0x265,'$dzb')](liIIl);console[IliIII(0x354,'QX5n')](lIIiI1+IliIII(0x1b2,'XyQL')+llliII);}else ii1lI[IliIII(0x3a5,'xPk#')](IlI1lI[IliIII(0x221,'dZcX')]),I1ilIl['insert']('成功提现'+I11iII?.[IliIII(0x2d4,'DZeM')]+'💰'),I1ilIi=![];}break;case'apCashWithDraw':if(liIIl[IliIII(0x1cd,'OI6p')]===0x0){if(IIlII['ewELy']!==IliIII(0x37b,'8KiF')){if(liIIl[IliIII(0x22a,'xkII')]===!![]){if(IIlII[IliIII(0x319,'nd14')](IIlII[IliIII(0x1c6,'E!wo')],IliIII(0x251,'iwzx')))i1lliI=liIIl[IliIII(0x2d1,'QX5n')];else{if(IlI1lI[IliIII(0x35b,'xPk#')](illIiI[IliIII(0x33b,'Bg(j')],!![]))ii1iil['log'](IliIII(0x2eb,'4433')),lllI1l['insert'](IliIII(0x2b9,'xPk#'));else{let liIliI=i11iii[IliIII(0x34e,'4v2X')](llI1Ii[IliIII(0x228,'xPk#')]);lllI1i[IliIII(0x2d9,'NOd$')](li1i1l+IliIII(0x1ef,'Bg(j')+liIliI);}}}else{if(IIlII[IliIII(0x39f,'0W(t')](IliIII(0x368,'Bg(j'),IIlII[IliIII(0x253,'#]20')]))i1III['log'](IliIII(0x2b5,'[N9E')+Ii1iIi);else{let iiIiIi=common[IliIII(0x1f9,'t4ut')](liIIl[IliIII(0x36a,'t4ut')]);console[IliIII(0x21e,'gJ*@')](lIIiI1+IliIII(0x29c,'6@fe')+iiIiIi);}}}else{const IilI=IlI1lI[IliIII(0x1fa,'vq$i')](lI1Iil,lilIiI);IilI>=0x0&&(IiilIi[IliIII(0x2e0,'OI6p')]=IilI);}}else{if(IIlII[IliIII(0x358,'#]20')](IIlII['uNaaF'],IIlII[IliIII(0x35d,'iwzx')])){let lil11=llli1[IliIII(0x328,'uKW!')](iIli1i);iI1lii[IliIII(0x299,'pVc9')](IilIii+IliIII(0x310,'vq$i')+lil11);return;}else{let Iillll=common[IliIII(0x397,'DZeM')](liIIl);console['log'](lIIiI1+IliIII(0x39d,'8vvE')+Iillll);}}break;case IliIII(0x202,'QX5n'):if(IIlII[IliIII(0x375,'XiE2')](liIIl[IliIII(0x32f,'vq$i')],0x0)){if(IIlII[IliIII(0x27e,'ZY7%')]('zDxYj',IIlII['ZWHni'])){if(iiili1[IliIII(0x340,'dZcX')]===!![])Ill11=liiIII[IliIII(0x390,'gJ*@')];else{let III11I=li1i11[IliIII(0x2dd,'Bg(j')](iI11I1['data']);il1i1l['log'](IlIlll+IliIII(0x2ca,'4v2X')+III11I);}}else{if(IIlII[IliIII(0x242,'uVRK')](liIIl[IliIII(0x1cc,'8KiF')],!![]))console[IliIII(0x395,'xkII')](IliIII(0x232,'OI6p')),ll1I1[IliIII(0x381,'iwzx')](IliIII(0x323,'OI6p'));else{if(IIlII['cAEGM']===IIlII[IliIII(0x1e1,'4433')])i1l1ll=I1iIiI[IliIII(0x22e,'nd14')]((ll11i1,ili1I1)=>!lilIii[IliIII(0x25d,'WR@6')][IliIII(0x2e6,'[N9E')](ili1I1+0x1)),i1ilil[IliIII(0x374,'8&XX')]=[];else{let Iill=common[IliIII(0x30c,'uVRK')](liIIl[IliIII(0x1f2,'dZcX')]);console[IliIII(0x1b7,'t4ut')](lIIiI1+'兑换失败:\x20'+Iill);}}}}else{let ili1II=common['getErrorMsg'](liIIl);console['log'](lIIiI1+IliIII(0x2d8,'iw8v')+ili1II);}break;}}catch(liIllI){if(IIlII['Lbfjp'](IliIII(0x21f,'vq$i'),IliIII(0x33a,')^Rc'))){let {rewardType:iI1lI1,rewardName:I1I1li}=i11I11[IliIII(0x204,'vw!D')]['result'];l1llIl-=ii1I1l;let l1i11=ii1I1i[iI1lI1]||'';llI[IliIII(0x31d,']VuJ')](llliI+IliIII(0x27f,']VuJ')+l1i11+I1I1li),iI1li1['insert'](IliIII(0x211,'WR@6')+l1i11+I1I1li);}else console[IliIII(0x2b2,'pPIt')](IliIII(0x1fc,'pPIt')+iIi1I+'\x20请求响应\x20'+(liIllI['message']||liIllI));}}async function li11l(IlI1li){const illli1=iliIlI;if(illli1(0x37f,'8KiF')===illli1(0x22f,'uVRK'))iIIl1i['log'](illli1(0x371,'xh49')+I1lllI[illli1(0x333,'uKW!')](/：/g,IIlII[illli1(0x2fa,'DZeM')]));else{if($['runEnd'])return;let ll11l='',III111=null,liIll1=null,l1llli=illli1(0x222,'8vvE'),iI1lII={},ll11iI={};switch(IlI1li){case illli1(0x2c7,'NOd$'):ll11l='https://api.m.jd.com/client.action',III111={'functionId':IlI1li,'body':JSON[illli1(0x243,'XyQL')]({'version':0x1}),'rfs':illli1(0x322,'pPIt'),'appid':IIlII[illli1(0x226,'Bg(j')],'t':Date[illli1(0x32b,'ZY7%')](),'client':illli1(0x30f,'8KiF'),'clientVersion':common[illli1(0x31f,'NOd$')]()};break;case IIlII[illli1(0x361,'TMH1')]:ll11l=illli1(0x2f2,'8KiF'),III111={'functionId':IlI1li,'body':JSON[illli1(0x352,'Bg(j')]({'assignmentId':iI1IiI,'type':IIlI1,'version':0x1}),'rfs':'0000','appid':IIlII[illli1(0x1c8,'pVc9')],'t':Date[illli1(0x363,'xPk#')](),'client':IIlII['KLBhM'],'clientVersion':common[illli1(0x2f4,'8&XX')]()};break;case IIlII['vozfI']:ll11l=illli1(0x1df,'vq$i'),III111={'functionId':IlI1li,'body':JSON[illli1(0x20a,'nd14')]({'assignmentId':iI1IiI,'type':IIlI1,'version':0x1}),'rfs':'0000','appid':IIlII['fjicb'],'t':Date[illli1(0x380,'Bg(j')](),'client':illli1(0x1f7,'xkII'),'clientVersion':common['getLatestAppVersion']()};break;case IIlII[illli1(0x1ec,'4v2X')]:ll11iI={'appId':'f2b1d','functionId':illli1(0x2d6,'DZeM'),'appid':IIlII[illli1(0x288,'gJ*@')],'clientVersion':common['getLatestAppVersion'](),'client':IIlII[illli1(0x24e,'vw!D')],'body':{'pageNum':0x1,'pageSize':0x190,'linkId':linkId,'associateLinkId':'','business':business},'version':illli1(0x2f6,'hVe$'),'ua':$['UA'],'t':!![]},iI1lII=await H5st[illli1(0x220,'uVRK')](ll11iI),ll11l=IIlII['nykSe'],III111=iI1lII[illli1(0x3a7,'Bh0X')];break;case IIlII['UjfBc']:ll11iI={'appId':'73bca','functionId':IIlII['UjfBc'],'appid':'activities_platform','clientVersion':common[illli1(0x1e4,'6@fe')](),'client':illli1(0x2ad,'pPIt'),'body':{'linkId':linkId,'businessSource':IIlII['aXsNR'],'base':liI1l1},'version':IIlII[illli1(0x384,']VuJ')],'ua':$['UA'],'t':!![]},iI1lII=await H5st['getH5st'](ll11iI),ll11l=IIlII[illli1(0x1ee,'E!wo')],III111=iI1lII[illli1(0x350,'!zla')];break;case illli1(0x2fd,'8&XX'):ll11iI={'appId':illli1(0x2b0,'4v2X'),'functionId':IIlII[illli1(0x344,'TMH1')],'appid':illli1(0x261,'DZeM'),'clientVersion':common[illli1(0x289,'8vvE')](),'client':IIlII['jKhUB'],'body':IllIlI,'version':IIlII[illli1(0x399,'[N9E')],'ua':$['UA'],'t':!![]},iI1lII=await H5st['getH5st'](ll11iI),ll11l='https://api.m.jd.com/api',III111=iI1lII[illli1(0x257,'xkII')];break;default:console['log'](illli1(0x21c,'pPIt')+IlI1li);return;}const l1i1I={};III111&&Object['assign'](III111,l1i1I);liIll1&&Object['assign'](liIll1,l1i1I);const l1llll={'url':ll11l,'method':l1llli,'headers':{'origin':illli1(0x210,'WR@6'),'Referer':'https://pro.m.jd.com/mall/active/3fcyrvLZALNPWCEDRvaZJVrzek8v/index.html','User-Agent':iI1Ii1,'Cookie':i1lli1,'content-type':IIlII['daSPb'],'accept':IIlII['UJkjI'],'x-rp-client':IIlII['qmKgP']},'params':liIll1,'data':III111,'timeout':0x7530};IIlII['HWFlV'](l1llli,IIlII[illli1(0x398,'#]20')])&&(delete l1llll[illli1(0x394,'ZY7%')],delete l1llll[illli1(0x267,'xPk#')]['Content-Type']);const I1I1ll=0x1;let lil1i=0x0,liiiil=null;while(IIlII[illli1(0x33d,'OI6p')](lil1i,I1I1ll)){IIlII[illli1(0x1e3,'WR@6')](lil1i,0x0)&&(IIlII[illli1(0x338,'vq$i')]!==illli1(0x224,'Q(v)')?await $[illli1(0x2ec,'E!wo')](0x3e8):lI1IiI['waitTime']=i1lI);const IIIIli=await common[illli1(0x32c,']VuJ')](l1llll);if(!IIIIli[illli1(0x2f0,'TMH1')]){liiiil=illli1(0x1bc,'$dzb')+IlI1li+illli1(0x305,'kWo9')+IIIIli[illli1(0x28d,'[N9E')],lil1i++;continue;}if(!IIIIli[illli1(0x1d2,'WViy')]){if(IIlII['GMzak']('djPeC',IIlII[illli1(0x315,'XiE2')])){liiiil=illli1(0x2d3,'hVe$')+IlI1li+illli1(0x324,'!zla'),lil1i++;continue;}else{let lllIl=illlIl['getErrorMsg'](i11ill);IIIIIi[illli1(0x209,'8KiF')](IIIIIl+illli1(0x27d,'WViy')+lllIl);}}await IIlII[illli1(0x34f,'DZeM')](ili11I,IlI1li,IIIIli[illli1(0x357,'v!w(')]);break;}if(IIlII[illli1(0x2f8,'xPk#')](lil1i,I1I1ll)){if(IIlII[illli1(0x274,'Q(v)')](IIlII[illli1(0x36b,'TMH1')],IIlII[illli1(0x366,'QX5n')])){let illlii=illIil[illli1(0x2fb,'ea!A')](Ill1I['data']);i11iiI['log'](lIli11+'兑换失败:\x20'+illlii);}else console[illli1(0x21e,'gJ*@')](liiiil);}}}}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
