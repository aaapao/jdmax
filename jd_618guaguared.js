/*
618刮刮红包

cron:1 1 1 1 *

*/

const $ = new Env('618刮刮红包')
var iｉl='jsjiami.com.v7';const i1lll1=iii1II;(function(llIIii,Ii1I1i,llIIlI,Ii1I1l,IIlIl,ili11l,Iiilll){return llIIii=llIIii>>0x6,ili11l='hs',Iiilll='hs',function(Iiilli,IIlIi,ili11i,iiIi1l,li11I){const ill1Il=iii1II;iiIi1l='tfi',ili11l=iiIi1l+ili11l,li11I='up',Iiilll+=li11I,ili11l=ili11i(ili11l),Iiilll=ili11i(Iiilll),ili11i=0x0;const lliiII=Iiilli();while(!![]&&--Ii1I1l+IIlIi){try{iiIi1l=parseInt(ill1Il(0x241,'c9i['))/0x1+parseInt(ill1Il(0x20a,'KjPr'))/0x2+parseInt(ill1Il(0x168,'Qa7I'))/0x3+-parseInt(ill1Il(0x11a,'0F7A'))/0x4+-parseInt(ill1Il(0x1b6,'59hs'))/0x5*(-parseInt(ill1Il(0xb0,'dvG2'))/0x6)+parseInt(ill1Il(0x202,'Mtun'))/0x7+parseInt(ill1Il(0x121,'3uBX'))/0x8*(-parseInt(ill1Il(0x1f5,'xilk'))/0x9);}catch(iiIi1i){iiIi1l=ili11i;}finally{li11I=lliiII[ili11l]();if(llIIii<=Ii1I1l)ili11i?IIlIl?iiIi1l=li11I:IIlIl=li11I:ili11i=li11I;else{if(ili11i==IIlIl['replace'](/[bdqrHLnYtBwSPWyJF=]/g,'')){if(iiIi1l===IIlIi){lliiII['un'+ili11l](li11I);break;}lliiII[Iiilll](li11I);}}}}}(llIIlI,Ii1I1i,function(liI1ll,ll1II,IllIii,liI1li,IllIil,ill1Ii,llIIl1){return ll1II='\x73\x70\x6c\x69\x74',liI1ll=arguments[0x0],liI1ll=liI1ll[ll1II](''),IllIii=`\x72\x65\x76\x65\x72\x73\x65`,liI1ll=liI1ll[IllIii]('\x76'),liI1li=`\x6a\x6f\x69\x6e`,(0x16ecf2,liI1ll[liI1li](''));});}(0x3140,0xab9b9,Iii11l,0xc7),Iii11l)&&(iｉl=0x4727);const jdCookie=require(i1lll1(0x26a,'c9i[')),notify=require(i1lll1(0x270,'[BL(')),common=require('./utils/Rebels_jdCommon'),{H5st,jsTk}=require(i1lll1(0x238,']vLA')),isNotify=![];$['inviteCode']=process[i1lll1(0x118,'0F7A')]['JD_PARTY_INVITE_CODE']||'';function Iii11l(){const lilII=(function(){return[...[iｉl,'bdnSjwSswLjSiytaYmiPdw.rqcBFJoPmWwH.tSv7==','oNdcLG','CatdMmkoBW','DZVcGSk7la','W7PCWODwfqykWQDU','WQRcUSoLbI8','W4bJW6HFewCDESoQhfZdMSoVqeuMFmkeWRxdLa','tbJcGIjPF8kTWP9rAJldGuGDfIhcNfay','iauFW7tdJW','W7vCWQXufsahWQ5uqmk7WR46zmoiWOldJW','W5VcSCoUW6ddO8otWOHxAwZdNmoFW6JcQCoWdW','W7JKVk/MGlpLIPtcTq','A8kpW4NcG8oT','W4VcImoNb8k8W4W/WR7dOcS','eSogjmosW7PY','WQBcOSk0W6yyFSkSygBcGG','W5HuW4dcOMbx','e8k5WP1q','pSomW73cHYjXW7CvW5y','i8ktpaZdKSkM','WRFcS8kVWQKyi8kcztZcGbbB','W4tLRRRNIPP5','m8ouW7S','W7z4W50CW7a','sX/cMX1JAa','fCkXWPn8W4/dLG','iGm/W5ZdOSon','W7hdMvtcUK4','W6tdRMf6EW','W6T+WOZdQCkUWPqGz8kA','WR9EW6JcUby','tCkIWR0','l8koWRHEW5G','nCodW4pcHsDpW6OFW73dUNC+WPz0cSkzW5i','W5LvWQOAWQe','WP/cJI8GW4q/h8ktdsS','W4zAW4K','W4hNUQ7LJ7xdNG','WPtcSLVdM8oAgG','WOVcSLVdNCoxcCk7','WRZcU8kzW7CuF8kCEe3cJH5gm8omjSodWPG','WO3ML6ZKUj7LIR8O','WQhcPNZdGCoV','W7XlWPDb','kr4GW7ZdMmoo','W6PNWOZdUG','m0xcSCk5dZujW4RdMCkgWQdcUmo3W6ZdN8oE','qLddHq','WQjoB8ozW40','eKBcMCoVWQu','lmkFntldGmkMjW','W6HPWOpdTSkSWQu','CbNcOW','WP/cRCodlsreWP7dKq','WQDdtmohW48','WOD3WQldP1WvqhFdQSohWQPyW58','W5VcP2tdOCotaCkzy8o1W57cMHBdG8olW4jsB8odW63cVSoKW6bMW5j9','g8k3WO4','eSkGWP0','dmktnHxdOW','jmklWPNdTYRcGW','W4FcJSoGhCkYW4uo','W6evj8khAa','8k2RNhO','W5PYW69AdIK','e8ohk8o5W5O','pLhcMCoCWRWu','WQv3AmorW6G','W5bdWQhdHCkgW5hcHsrN','WQxcT8k0W64BASkbz2S','WRJcOSkRW6i','nSkhaw0v','qZxdRSkaBCkK','ivhcMCoAWRehaG','W4/dMCoGfSo1','p3dcMCkXW6/dSW','hCoklCoSW6HYja','W6L4W6JcOum','W4vEWR/dMmknW4q','W55DW6qs','W6xdHLxcIKq','k8kYf2n1W63dTq','WPROR4VMS5lLKR7LUkSc','W7HLWORdJSkZWRy','gSoxaCoVW6HNnCoJWQPpWOC8qCk9FaddH1u','e8o0W5xcNmkUx8oikLhdH8kPtvS','W7VdTCoYyw4','CHNcTmkPhW','W4BcTwRdHCoH','kL3cKG','W5D1W78EW40','WPtdVSkeWRKa','WRFdJSkMWOiWnSkZqG','ntxdSCo1W7SjW74EWRSVWPnp','WOZcVSoeccv1WPddIaT/WOpdM8o7WPuz','W4VcImoNb8k8W4W','WPHQW7hcSYLlgKZdQCor','DY7cJmk5mq','gCoboSo6W7e','if3cJCobWQqUeNK','W6jPWP8','W5FcTLxdSmoEh8ku','W5ldO8oybILAWOZcIt9ZWOBdSmo2WOSJW5GUuG3cKvZcKgRcKxqtaG','W5RcMCo6fmk2W7ysWRFdTq','joAkGUwkSq','W7vxWRC+','W7tcIZtdQfyjfW','gmoXwSkNz8o3d8oNW4xdMG','W7VcGsJdT1ipha','WR/dHSk1WOS','W6hcKgJdHq','aSk2WPPuW4JdSGiorq83','W4/dVmomtu4','W4HzW6mgW5nw','W4lcG8k1','rUI3R+w7HUwoRdS','oamOW5JdHCooW44HWPG','5y2z5lQG5OIM5AAb','lmopW67cNcHAW7CaW5S','k8kcgthdGmkZnSosb8k9aWVcRvZdQmkt','W75TWOtdOG','lSoRW6ZcOmkM','k+s+T+AcVUwkP8ou','W47cISoNdW','W5ddVLJcKG','W7OgW7RcPH8','W4LKW69gbtm','WRVcPSk1W7quASkn','WP5cDG','CgZcNCkZWR5AW4mnWP0XWPe','WOtdTKyKnd3dVapcN8kUkSobWQH5cg0EvhTDW5S','W6tdP1TRCCkr','WP7dP0eHk3m','W4uXW6NcVGrdhehdUq','W6VcGtldTvm','jXG9','WRhdN8kEWPOLcSkYvG8TgCo+WQ1qW6v5WPq','W5FcQmkHECoh','WOBcHCkPltjJBow9GowMQEodHEs4Pos5KoI1NowmMq','BY5xlCkVWRGVW5i','5OIl5lMO776b','WRj0w8oFW40','W5HqW53cS2no','W5uQW7/cSG','WRNdJSk7WQC3hW','W5ddVmkdWQxdOa','ESk7W5VcVmoOmG','W7vCWQXufsahWQ5uwCk7WR0Wv8ogWP7dKwe','iCkYefGHW7NdPa','W6LnW6mDW7S','WRtcQSk8W4qAACkn','W49yWRq','rL5nWQ46mW','rCoOW51CW7RdNaKLya','pSk2du8VW7m','Bw3cVSkQWRPAW7CNWO8XWP1QW5NcK8kxqmk8hXtdMmoGgW','mN7cHCoG','WOLNW4xcIG','l8kaWRxdRIZcN1uqW5RcRuHmWRxcLmonWOpdKq','WQXQFq','WRFNQ7JMSkyj','WOxdReq9m2lcLuxcJCkTkSkaWQStegHhz2zzWO5x','vdrrnmkVWRGVW5i','veHpWR4QjMvsWPTRW6LfWPBdICoVzq','W55tW74w','WOLZvmowW7G','W77cGmoNW7JdUa'],...(function(){return[...['W53cPCkACSoJ','WOJdVSkIWQut','xJXgpG','W7NdT1XyCCkeW4i','W7pcLHJdQ1yCbSoBBsbHC8oDhSkLWRNdOry','WQtcJ2NdUCoA','mCkxWP7dVYhcO1qe','W4vYW69CaZPx','5l2H5OgY5yIwW67WNyYg77MuWRC','WOVdRtuYq8oS','WQW/W4NdHCk6WPGAsZO','gmkTWP13W5ddKaO','5OMr5AEuchq','5yEs57Qu5y+g5OMp5yMn77+q','hCoyjSo7W50','W7vRWQzhjG','rhhdPt/dRG','WQrKBSoF','W5DzW6maW55fFG','d8o0W5pcOIK','yglcVmkI','W73cJZpdUG','g8oLW7dcR8kGsCoz','W5VcP2tdOCotaCkzy8o1W5VcLaVdHW','WQ/dHSkYWOe','W5ZdQ1JcG3PNWRzTiuJdJXpdUspcMeKCW5bKWO5B','WP9JW4lcNJyO','WOTVW4K','W7ZdUNDUFmkxW5fTwSkGWOFdTSoGWO9ga8k7','W4fyWQe5WRq','W53dSuJcLNe','tdpcVCk0kW','BUwUToEjHCkh','W57dP3pcG2GVW607h1xdH03dTwhcKfHFW6X5WOyxd8k5WPVcHa','o1xcG8oD','d1VcHmoDWRuoeZNcTSkbWPRcNa','pMVcHCoXWP7cUSoLW5hdHeBdJG7cIreHsCoQW6nUWQeb','5lMH5yQTWQS','pcBcO8o+mNKlWP93tmkyeLe4oNhdHCoim8oOWPWnWONdNmkNC8o3DmkJW519W55QWQLEsSk7W5aRbsldO8kjj080WQmuEgmZWQdcQWNcTSkmyhtdO8kHW5CyfuvyWRTSWO0vur7dPG','reFdVrVdQmk5aCoYW4SoWOJdPvS','4P2ii+AFOUECPUEYTEwETo++Q++9HG','W6Ogn8kd','uZ7cUWzH','ot/cO8oKea','m8kFnttdJCk1','wWZdTSklsW','WQldUr3dHmkbamkf','W4BcHmo0','W7LJWOldSa','W5LbW5ZcR2fDsKPh','mSk9dcldPW','WOVdJHW8Ea','W7XLWOG','4P+MfEAEHoIaU+ATRoEHLowKP+EqQH4','WRrKACovW5yNWPuh','z0BcKSkKWPC','fCoJW60','W79gW4VcTefBtKK','or3cMSo2ea','WRJcNWuGW5m','W7HLWORdGmkVWRul','fJpcTCoRlrXaW5vXyCkysfrZiKRdMSkAmmoQW4CuWO3dGSkYl8oIDSkLW4a','W6LfWP9req','sL7dLGO','WOhcRuhdTmoH','ttpdSW','W4hdICoXxvq','ssLanSkpWR4RW5hdHG','W7vlWPPk','BUs8SUAdJmkh','W7rrWQ7dL8kk','emoAW63cPSkB','e8oQCCk+ACoRl8oNW6RdLZFdMCkk','t1ZdLGldPSkLiCoYW6qd','W7tdQ1jtBSkc','vcZcK8kFaG','WORdVcCZwSoR','WQNcR2FdR8oz','WPL/W4hcJG','vJ3dVCk5','W6vxWRa0','txRdUaZdKa','5l6g5AE96lsc5B2T5lIW772I6zIy5y6J5AEe5yMP5BAg57I86Aob5y6L6l+S5lQyoa','W75ZWOVdSW','W7RdRu8','xrFcKJS','s3VcH8kcWQe','zCk7W5VcUSoLirW','WPRcPCov','k8kcgthdGmkZnSosb8k0dstcUfhdUCknbG','WP3dTYi','44gP5O2C56AW44o96kY45ywL6iYl5y6ftCoaWQLlvYy','W4ZcQ211bmkRivRdNSkNmmo3WQq','rt3dOmkS','dCoTW7NcHW','cwSeBmosW693WOtcH0xdP0CJW4LFBW','8k+jKwy','W4r4W7S','WRtcQSk8W4OgAG','qCkzz8kPWRWJdSokWRjwWOef','f8okkSoxWRXMnq','W7TfWODf','WPKJWQ4yuwuhf8okfNdcUSot','n2ZcGSoOWORdRSkNWPVdI0ldQuhcIvO','W7nFW5uHW5S','DatcP8kHeZ0FWPy','ASkiWQJdGcHSW5yYW6BdPa','nthcO8oNlI1WW4L3wW','l8kCWO7cRN4','W4VcGaddT2m','W6njWRxdO8kE','fCo9sq','nmo/W6JcUXq','W7PNWOVdSa','BH7cTSkKcd4tWOpdSG','W6DZW71Baq','hraxW4pdPa','imocW7NcGCkR','W7XQWRhdV8kP','g8oWvSk9qW','W4RcJCkMqG','hCoZwSkV','W71nWOLPbZu','wCk6W5JcI8o3','W6vzWPyVWQlcUColy8kcWOJcNa','mdpcO8oV','W7/dReTYAmkbW4bN','B8k7W5ZcHmoHnqOcWODR','W4pcRmoCW7hdQ8opWQHhw2xdGa','W73cNvBdUSo1','6AcU5y+b6zMA5y2o5As05yUS','W5hcJs7dNKq','WQ3dQb3dVmohsCoEW6pdS8ohtYnxmu/dJSoDW4WYjZG','WPjszCoMW7TH','WQZcUSkOW4yS','lSk+gwyZW7K','55Ua5yMY6zMK5yYk6l2s5BMTt8kR','oh7cNmoK','o8k2cL8eW6VdS8o5W5xcJ8kUWR0','WQ3dUqJdQmoraCkc','nSkmWOVdQJJcNG','W7nuWRSSWPK','W7pcLHJdQ1yCbSoBBtLHCmoxlCkRWQxdVW','5OIK5AA45P2T552+57gm5z+Lsmkc','g8oNW57cU8ko','W75LW7GDW7C','WRjKDmoAW7uJ','W7DFWRS','W6iija','WP14w8oyW6y','axVdH8oJW6jqvIxdJ8oj','lL3cKmoKWQmh','mhtcL8kwW40','DXlcM8k9bYSoWPZdLmkxWQpcRSoWW4ddRmo/W70/','BL5vWQOQFq','uxdcRCkXWObEW5WR','W4BdVKlcL2yW','v+ISR+AYQ+wtVow4Qmkr','W7LNWPhdR8klWRuRDSkla8kDWQu','wYPtlCkfWPaSW5hdKa','W5tdHCoAzfi','4P+9W7/OHkhMNR3OVAlOOl/PGQRLIkRKUkZPLQRORjrS','zMRcSSkoWR1y','bCk9WPHeW5NdGHK','W7ZdUNDUFmkxW5fTwSkGWOFdTSoGWO9ga8k7WQXGm0ZcL8k2bmoV','WP5uySo8W7vOWQu','ymkQW5ZcUCo3FfzmWOf+W7lcT2BcJvnmWPxcLSoPWPlcOq','k3lcVmoqWOu'],...(function(){return['WRFNQP3MSzWt','u0naWQ4QmG','WOSiWQjeWOWAlKmCWO3cKmoXW6i','W4ixW7ZcSaW','xq9RjSkw','f+E6LUwpR8o0','W592W7vB','W4fEWQNdOCkBW5e','W5lcQmoFW4/dPSotWP1z','W58RW63cVH5bm07dS8ohWPvqW710DwJdNcSepqNcNW','W75dWRCzWR7cVCoE','pgNcK8kqW7xdT1n7xxyzWQzjdSkKlvZcJCoRBshdMblcN8oeW7tcK13dHSoSW7ecxW','W5TJW65gddPBm8oJ','W4NcLJ7dGvu','5BYU5AE0566o','W4LpWOZdNmkjW4tcMdTbDLrGqCoPWOS/W5RdKq','D2RcR8kTWQTBW645WPr3','W4hdJNVcSNm','mxBcHa','WPRdIri8vq','W70tmCklDmo4W6xcUmk5','WOlcTLZdJW','WRpcU8kY','mxZcJCkBW6JdVa','W6vrWQRdUCkE','jwVcKmo1WPJdSW','WQlcRmkYW6yzq8kDBa','rrNcHG','W7VdP1TTFmkcW4a','W7VcHZ3dMfGkfW','W5xNQBZMS6ZdHG','W6NdL8oQCW','W53cICkMymo4WOjdaCo7','WPBcTmoYaIfeWOVdNZj7WOxdPCo7WPqEW54M','ySkMW7FcUCoLna0AWR9QW7tdHN/dGKPd','k+E4JEwnM8oc','W4TOWOddGCkZ','W53cISo6gG','oSkrWP97W60','FCkWW5JcPq','W7ZdPKWUla','WRfYF8omW643WPmAsSonW5FcOdu/us7dRCojEeRcT8kaWRPzWPpdRW','W7xcHYRdSKm9bSoq','WRnXAmoxW7qPWO8vxa','ya3dOSk+EhywW68XdSoddGPjya','W45tW5yAW4DhFW','W7xcGsa','nmkjWOzzW5i','mZFcO8onlIXpW5LIAmkwueLZ','W5OQW7W','ifVcJq','W5tcVmkWzCoc','uuTyWRS','mCoYW5BcOJq','W6SFnW','5l2O5AE06lAc5BYk5lIc772k6zQ/5yYc5AA25yQ/5BwP57Mw6Akn5y216l++5lQUW4u','W7/dM8oXBNyUlYyB','h8oLW7i','AwBcU8kWWQ9yW5q','wEITPEAXRowNV+I0RCk54P+hWR7MLzxLKBlLU4ZML4tMJOe','W4bnW7hcTM5iv1vHWPDuW4qn','Bmk/W5ZcQa','ASk3W5lcHmo3iq','mSkoncJdJ8kMk8oniq','wXFcJZr/yG','WOxcV0NdNmo3gG','lvpcLCkSW5y','W6r+WQFdQ8kUWRiTBSkGbSkDWR/dUSkfWR7dMG','W5ZcUKJdOSotfmki','pgNcK8kzW7ldShfGwM0sW6Dx','CeD9WQOT','W71YWORdSSkHWQCWCCkg','W6zGW4XhfW','amoalG','W4lLRBdNIk7dHG','oxJcL8kD','WRhdPrNdQq','pGaWW7tdSG','jmkpWOVdRcNcPe8pW6O','W7xML4pKUiRLIjVdIG','WP/dMmkNw8k9W7mJWPpdLd0','WQldUqFdMCo1','qduFhmkVW7u4W5/cHaFdR0e8W4zeoCooWOjmW4BcTCk0W5ZcSrddQmktDH98w8krWPRdOa3dVwxdVmkXd8kmW7Hmk8oioCon','xHFcIcq','W5JdSeS','lSooW5JcKY8','W77dISoWCNq9','6lwY5y6L5Ps35PEg','WPxcTKxdI8kBhCk3WRBdTW','CqxcOW','W49VWRpdQ8kJ','W78ZW5xcVWG','bmkSWOHfW4NdGG','WQjSymoZW6KP','WPxcOhddQCor','otFcPmo9icrb','W6SMiSkWqW','77276k2O5B2+5l2o55AuW48','z23dJYZdUq','yxVcOCk3','CMlcPmk2WQS','W53cHCk1tCoYWOL3h8o2WQ0','WO5UW5dcMrSO','lXyUW5a','W5ztW7C','sfBdMG','WQP9rCooW7S8WPikESovW5NcVJq','nHBcGmoAca','WR5wCCorlSkQWRRdQCo4ca','BX/cQSkicd0','W4VdNSkHw8kX','WR5XW73cMJq','mhZcKmkpW73dS1C','WO/dRvyX','WRFdQqFdICoAfW','l3ZcKmkjW7ddOa','W71PWP7dKCkHWR8kqs/cIK3cKuJdQxe','gSk9WPPcW53dLGG','W5FdHe5ZuW','WR/dJaVdISoH','amkrWOldTb4','WQNdGSkYWP8Oda','pSoiW6/cNcftW7mdW4ZdO1GVWPP9','nhBcI8omWP7dPW','W7TnWObhgYCDWQm','emoXt8kVwq','WOdcRrxdGdTPWQeGde3dGuJdMG','WORcSKBdICocbG','WO/dRvWYlMa','W6r+WQFdQ8kUWRiTBSkGaSkDWQBdQW','nCkmWRxdRItcGW','ucvTl8kaWQS2W47dOb7cVrX3','WRHnW6NcJJq','5OU25AsH5Q275PEb5lQM6lsA','W74jjCk2xW','we9FWQKUjZa','kCkxWO0','W4lOTAVLUyxLJ7PQ','W55mW57cOW','hSoOr8k+jmk5p8o7W5pdKZNdGmkktJuHeW','W5T1WP3dQCkbWQe0CG','ttpdS8kiBmkX','WOpdKaVdVSoy','WRHuESkKymowW7JcU8k4','osuRW7BdJq','WQNdSW4','4PYaW7FMNyNOG5BMRkpNO7dLPOxNKP7cGq','WPRdSc4lrCo4','W6BdL8oCD3K7mJK9WRJdQtWBWOldTuhcUW','AgZcRW','g8o7vmkdE8o+','W75WW5fDlq','x1jZWQOUmIeAW7y1WRWaW4hcKSk1ku1OW63cQgpcPCk7W7tcPa','W4L0W6HgdtnMlmoQcW','fCo3qmkPFmoX','mSoAW6W','W4CjjCk6WQC8W7dcIYBdP3fZlG','WOJcTKxdIW','EsVdV8k7AG','W5/dHh9mEq','W6jcWRe2WRZcU8oqrSkA','W57cVmofW5BdRSoaWPS','W6HVWOa','WONdUKy','c2GfBmoyW6P0W4xdJs7cUcf/'];}())];}())];}());Iii11l=function(){return lilII;};return Iii11l();};function iii1II(_0x565d13,_0x274f6a){const _0x3db5c6=Iii11l();return iii1II=function(_0x3e982f,_0x15031){_0x3e982f=_0x3e982f-0xae;let _0x360b79=_0x3db5c6[_0x3e982f];if(iii1II['mfRjEB']===undefined){var _0x12efcd=function(_0x2d0d4f){const _0x10e861='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x2fba05='',_0x28c63f='';for(let _0x14a47d=0x0,_0x462b0a,_0x51839a,_0x535063=0x0;_0x51839a=_0x2d0d4f['charAt'](_0x535063++);~_0x51839a&&(_0x462b0a=_0x14a47d%0x4?_0x462b0a*0x40+_0x51839a:_0x51839a,_0x14a47d++%0x4)?_0x2fba05+=String['fromCharCode'](0xff&_0x462b0a>>(-0x2*_0x14a47d&0x6)):0x0){_0x51839a=_0x10e861['indexOf'](_0x51839a);}for(let _0x45642c=0x0,_0x189be8=_0x2fba05['length'];_0x45642c<_0x189be8;_0x45642c++){_0x28c63f+='%'+('00'+_0x2fba05['charCodeAt'](_0x45642c)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x28c63f);};const _0x1e1555=function(_0x22c845,_0x4487a1){let _0x547552=[],_0x5c6e64=0x0,_0x146fe8,_0x16e119='';_0x22c845=_0x12efcd(_0x22c845);let _0x27918d;for(_0x27918d=0x0;_0x27918d<0x100;_0x27918d++){_0x547552[_0x27918d]=_0x27918d;}for(_0x27918d=0x0;_0x27918d<0x100;_0x27918d++){_0x5c6e64=(_0x5c6e64+_0x547552[_0x27918d]+_0x4487a1['charCodeAt'](_0x27918d%_0x4487a1['length']))%0x100,_0x146fe8=_0x547552[_0x27918d],_0x547552[_0x27918d]=_0x547552[_0x5c6e64],_0x547552[_0x5c6e64]=_0x146fe8;}_0x27918d=0x0,_0x5c6e64=0x0;for(let _0x3f1f8e=0x0;_0x3f1f8e<_0x22c845['length'];_0x3f1f8e++){_0x27918d=(_0x27918d+0x1)%0x100,_0x5c6e64=(_0x5c6e64+_0x547552[_0x27918d])%0x100,_0x146fe8=_0x547552[_0x27918d],_0x547552[_0x27918d]=_0x547552[_0x5c6e64],_0x547552[_0x5c6e64]=_0x146fe8,_0x16e119+=String['fromCharCode'](_0x22c845['charCodeAt'](_0x3f1f8e)^_0x547552[(_0x547552[_0x27918d]+_0x547552[_0x5c6e64])%0x100]);}return _0x16e119;};iii1II['iEJGfd']=_0x1e1555,_0x565d13=arguments,iii1II['mfRjEB']=!![];}const _0x45a996=_0x3db5c6[0x0],_0x12d3b4=_0x3e982f+_0x45a996,_0x9fe2ed=_0x565d13[_0x12d3b4];return!_0x9fe2ed?(iii1II['rmSvbB']===undefined&&(iii1II['rmSvbB']=!![]),_0x360b79=iii1II['iEJGfd'](_0x360b79,_0x15031),_0x565d13[_0x12d3b4]=_0x360b79):_0x360b79=_0x9fe2ed,_0x360b79;},iii1II(_0x565d13,_0x274f6a);}let ALL_CHAR='0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM',ALL_DIGIT=i1lll1(0x1d2,'xilk'),ALL_ALPHABET=i1lll1(0x18f,'MPt*'),sdkToken=i1lll1(0x18e,'ZsS]')+randomString(0x6f,ALL_DIGIT+ALL_CHAR)[i1lll1(0x28b,'x0(i')](),jsToken=i1lll1(0x12a,'yBCh')+randomString(0x7b,ALL_DIGIT+ALL_CHAR)[i1lll1(0x13a,'*9%G')](),cookie='';const prize_type={0x1:i1lll1(0x166,'KN)b'),0x2:'[支付券]',0x3:i1lll1(0x284,'3uBX'),0x4:i1lll1(0x233,'a2X#'),0x5:i1lll1(0x189,'3uBX'),0x6:i1lll1(0xde,'UF4t'),0x7:i1lll1(0x103,'UF4t'),0x8:i1lll1(0x16b,'oRPo'),0x9:i1lll1(0x1b0,'2NOq'),0xd:i1lll1(0x27d,']vLA'),0xe:'[红包]'},skip_task=[i1lll1(0x248,'xilk')],cookiesArr=Object['keys'](jdCookie)[i1lll1(0x201,'qo*#')](ililII=>jdCookie[ililII])[i1lll1(0x167,'UF4t')](lI1II1=>lI1II1);!cookiesArr[0x0]&&($[i1lll1(0x23e,']vLA')]($[i1lll1(0x250,'a2X#')],'【提示】请先获取Cookie'),process[i1lll1(0x185,'M2%k')](0x1));!(async()=>{const Ii1I1I=i1lll1,i1ilII={'zWVLE':function(iIIii1,IllIi1){return iIIii1===IllIi1;},'OYESD':function(lilIII,Ii1ilI){return lilIII<Ii1ilI;},'bkTWA':'AmJzN','xnQad':Ii1I1I(0x20c,'I71A'),'PxyZb':'0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM','FLbrl':function(II11i1){return II11i1();},'iVgJT':function(iliIil,iliIii){return iliIil!==iliIii;},'NwPhu':Ii1I1I(0x133,']iCo')};notify[Ii1I1I(0x1e6,'M!uq')]({'title':$['name']});for(let lill1i=0x0;i1ilII[Ii1I1I(0x265,'d)4T')](lill1i,cookiesArr['length']);lill1i++){if(i1ilII[Ii1I1I(0x14e,']iCo')]===i1ilII['xnQad'])l1l11l['jx_party_task_list']=IilIil[Ii1I1I(0x286,'$diu')][Ii1I1I(0x1bc,'M2%k')];else{$[Ii1I1I(0xdc,'$diu')]=lill1i+0x1,cookie=cookiesArr[lill1i],common[Ii1I1I(0x186,'7EQk')](cookie),$[Ii1I1I(0x1f2,'NXI8')]=decodeURIComponent(common[Ii1I1I(0x196,'a$2^')](cookie,Ii1I1I(0x1e8,'yBCh'))),$['UA']=common[Ii1I1I(0x1b7,'tHcg')]($[Ii1I1I(0xf7,'L@UE')]),$[Ii1I1I(0x1ed,'UF4t')]=notify['create']($['index'],$[Ii1I1I(0x295,'KjPr')]),$['nickName']='',console[Ii1I1I(0x22e,'L@UE')](Ii1I1I(0x294,'M2%k')+$[Ii1I1I(0x26c,'3uBX')]+'】'+($[Ii1I1I(0xb9,'KjPr')]||$[Ii1I1I(0x159,'x0(i')])+'******\x0a'),$[Ii1I1I(0x18d,'1SXF')]=common[Ii1I1I(0x1da,'Ygj]')](0x12c,i1ilII[Ii1I1I(0x173,'2NOq')]),await i1ilII[Ii1I1I(0x1f4,'tHcg')](Main),common[Ii1I1I(0x279,'dvG2')]();if($[Ii1I1I(0x1d3,']vLA')])break;await $[Ii1I1I(0xe0,'oRPo')](0x3e8);}}if(isNotify&&notify[Ii1I1I(0x13d,'1SXF')]()){if(i1ilII[Ii1I1I(0x105,']iCo')](i1ilII[Ii1I1I(0x1ae,'2jF!')],Ii1I1I(0x1d1,'a$2^')))notify[Ii1I1I(0x1ab,'hLUL')]('\x0a'),await notify['push']();else{const iilii=lI1IiI?.[Ii1I1I(0x11b,'I71A')];if(i1ilII[Ii1I1I(0x104,'NXI8')](iilii['bizCode'],0x0)&&iilii[Ii1I1I(0xd8,'eul$')])I1iIiI[Ii1I1I(0x1d0,'MPt*')]=li1I1[Ii1I1I(0xc0,'KjPr')]['result'];else iilii[Ii1I1I(0x222,'6Cxf')]?(i1ilil[Ii1I1I(0x1ba,'$diu')](iilii[Ii1I1I(0x252,'I71A')]),lilIii[Ii1I1I(0x1d6,'hLUL')][Ii1I1I(0xf2,'Ygj]')](iilii[Ii1I1I(0x25d,'Ygj]')])):i1ill1['log']('❓'+iIIl1l+'\x20'+llIli1[Ii1I1I(0x101,'KjPr')](iliIII));}}})()['catch'](Ill11i=>$[i1lll1(0x1f3,'I71A')](Ill11i))[i1lll1(0x26f,'ywbR')](()=>$[i1lll1(0xbb,'Qa7I')]());async function Main(){const l1i1Ii=i1lll1,iilil={'eAaRY':l1i1Ii(0x119,']iCo'),'kFBoS':function(il1ll,i1ilIi){return il1ll||i1ilIi;},'HsUhx':l1i1Ii(0xba,'UF4t'),'IvNhb':function(lill1l,l1l1i1){return lill1l===l1l1i1;},'niJpv':l1i1Ii(0x276,'2NOq'),'IcERd':'jx_party_task_list','jQFvJ':function(i1iiI,i1ilIl){return i1iiI!==i1ilIl;},'DECfQ':function(llI11I,Il1i11){return llI11I===Il1i11;},'cvknW':l1i1Ii(0x1c0,'Ygj]'),'jDHtW':'IwRoD','uwjEY':'zNeJP','xuwbC':l1i1Ii(0x188,'1SXF'),'VvHto':function(iii1li,Iil1i1){return iii1li+Iil1i1;},'mmtjQ':function(IIii11,iliIl1){return IIii11*iliIl1;},'cQaJi':'shoppingActivity','RnGlT':function(Ii1il1,iii1ll){return Ii1il1(iii1ll);},'gFVyU':function(IIliI1,il1lI,IliIIl){return IIliI1(il1lI,IliIIl);},'AEJPY':function(I1il1l,lI1l1l){return I1il1l+lI1l1l;},'ospdy':'jx_party_mapalbum','IFWRd':function(IIliII,iiliI){return IIliII*iiliI;},'dHQQQ':l1i1Ii(0xdf,'$diu'),'Xwkvt':function(Ill11I,I1il1i){return Ill11I+I1il1i;},'vglYI':l1i1Ii(0x106,'Pf)V'),'aNSpG':function(IliIIi,lI1l1i){return IliIIi>lI1l1i;},'EFxIG':function(i1iil,llI11l){return i1iil!==llI11l;},'wZqfv':l1i1Ii(0x13f,'ywbR'),'SwLqn':'zMtoe','icaaQ':l1i1Ii(0x15e,'M2%k')},Ill11l=await common['getLoginStatus'](cookie);if(!Ill11l&&typeof Ill11l===iilil['niJpv']){console[l1i1Ii(0x243,'dvG2')](l1i1Ii(0x1bd,'a$2^'));return;}try{$['can_draw']=!![],$[l1i1Ii(0x29d,'sUl8')]='',await sendRequest(iilil[l1i1Ii(0x126,'Qa7I')]);if($['jx_party_task_list']){if(iilil[l1i1Ii(0xbc,'MPt*')]('CQohn',l1i1Ii(0x195,'dvG2'))){let I1llIl=$['jx_party_task_list'][l1i1Ii(0xf4,'MPt*')]||[];for(let i1iii of I1llIl['filter'](I1llIi=>!I1llIi['completionFlag'])){$[l1i1Ii(0x10e,'*9%G')]=i1iii,$[l1i1Ii(0x1e0,'qo*#')]=$['task']['assignmentName'];let IIii1I=[],llI11i=i1iii?.['ext']?.[l1i1Ii(0x227,'NXI8')]||'';if(skip_task[l1i1Ii(0x127,']vLA')](llI11i))continue;llI11i&&(iilil[l1i1Ii(0x20d,']vLA')](l1i1Ii(0x27a,'M2%k'),l1i1Ii(0x17e,'NXI8'))?(IIii1I=i1iii?.['ext'][llI11i]||[],IIii1I=IIii1I[l1i1Ii(0x258,'4Y6C')](i1iIi1=>i1iIi1[l1i1Ii(0x14a,'yBCh')]==0x1)):iI1llI['log']('❌\x20'+llliii['message']));for(let I11i1I=i1iii['completionCnt'];I11i1I<i1iii['assignmentTimesLimit'];I11i1I++){if(iilil['DECfQ']('UcChc',iilil['cvknW'])){$['itemId']=undefined;if(IIii1I?.[l1i1Ii(0x1e5,'te]F')]){if(iilil[l1i1Ii(0x26b,']vLA')]!==iilil[l1i1Ii(0x1b3,'ImOh')]){let iliIi1=IIii1I[l1i1Ii(0x1af,'3uBX')]();$[l1i1Ii(0x224,'ImOh')]=iliIi1?.['itemId'];}else lilIl1[l1i1Ii(0x28a,'Mtun')](i1l1ii[l1i1Ii(0x147,'Blt]')],iilil[l1i1Ii(0x1c6,'xilk')]),i1l1[l1i1Ii(0x1c9,'x0(i')](0x1);}$[l1i1Ii(0x1ff,'2jF!')]=0x1,await sendRequest(iilil['xuwbC']),await $[l1i1Ii(0x10d,'I71A')](parseInt(iilil[l1i1Ii(0x20f,'[BL(')](Math[l1i1Ii(0x1a6,'6Cxf')]()*0x3e8,0x3e8),0xa));if($[l1i1Ii(0x129,'a$2^')]==0x1){if($[l1i1Ii(0x113,'6Cxf')]['ext'][l1i1Ii(0x148,'Y9N6')])l1i1Ii(0xcc,'3uBX')===l1i1Ii(0x228,'eul$')?liiIIl['can_draw']=![]:await $['wait'](iilil[l1i1Ii(0xe9,'a$2^')]($['task'][l1i1Ii(0x244,'dvG2')][l1i1Ii(0x15c,'NXI8')],0x3e8));else $[l1i1Ii(0x11c,']iCo')][l1i1Ii(0x17c,'a2X#')]['extraType']==iilil[l1i1Ii(0x216,'1SXF')]&&await $['wait'](0x1770);$[l1i1Ii(0x275,'Pf)V')]=0x0,await iilil[l1i1Ii(0x12b,'2NOq')](sendRequest,'jx_party_do_task'),await $[l1i1Ii(0x1b9,'6Cxf')](iilil[l1i1Ii(0x165,'oRPo')](parseInt,iilil[l1i1Ii(0x297,'Mtun')](Math['random']()*0x3e8,0x3e8),0xa));}}else iiilll[l1i1Ii(0x152,'xilk')]('❓'+lI11Il+'\x20'+lIII1i[l1i1Ii(0x191,'MPt*')](l11i11));}}}else{lil11I=iilil['kFBoS'](Iliii1,0x20);let il1l1=iilil['HsUhx'],Ii1iil=il1l1[l1i1Ii(0x17d,'hLUL')],Ilil1i='';for(iIiIi=0x0;iil1ll<iiilil;iil1li++)Ilil1i+=il1l1[l1i1Ii(0x1cc,'eul$')](lillIl['floor'](iIiIl[l1i1Ii(0x15a,'$diu')]()*Ii1iil));return Ilil1i;}}$[l1i1Ii(0x213,'sUl8')]='',await sendRequest(iilil[l1i1Ii(0x261,']vLA')]),await $[l1i1Ii(0x16c,'2jF!')](parseInt(iilil[l1i1Ii(0x109,']vLA')](Math[l1i1Ii(0xb1,'Y9N6')](),0x3e8)+0x3e8,0xa));if($[l1i1Ii(0xda,'ZsS]')]){if($['jx_party_mapalbum'][l1i1Ii(0x15d,'KjPr')][l1i1Ii(0xaf,'UF4t')]===-0x1)console[l1i1Ii(0x152,'xilk')](l1i1Ii(0x146,'XKGY')+$['jx_party_mapalbum'][l1i1Ii(0x26d,'oRPo')]+'/'+$[l1i1Ii(0x292,'d)4T')][l1i1Ii(0xc4,'yBCh')]);else{if($[l1i1Ii(0x232,'a2X#')]['awardInfo'][l1i1Ii(0x1c2,'dvG2')]===0x0)console[l1i1Ii(0x239,'XKGY')]('哇塞，你已经集卡完毕了，快去领取奖励吧~'),await sendRequest(iilil['dHQQQ']),await $[l1i1Ii(0x18b,'59hs')](parseInt(iilil[l1i1Ii(0x204,'I71A')](Math[l1i1Ii(0x150,'MPt*')]()*0x3e8,0x3e8),0xa));else $[l1i1Ii(0x14c,'2NOq')][l1i1Ii(0x1b4,'yBCh')][l1i1Ii(0x17f,'Blt]')]===0x1&&console[l1i1Ii(0xff,'I71A')](l1i1Ii(0x19d,'1SXF'));}}$[l1i1Ii(0x1e9,'KjPr')]='',await sendRequest(iilil['vglYI']);if($[l1i1Ii(0x1e7,'NXI8')]){let iili1=$[l1i1Ii(0xe5,'XKGY')]?.[l1i1Ii(0x290,'2NOq')]?.[l1i1Ii(0x13e,'lemK')]||0x0;iili1=Math['min'](iili1,0x1e),console[l1i1Ii(0x239,'XKGY')](l1i1Ii(0x27f,'c9i[')+iili1+'次');let II11ii=0x0;while(iilil['aNSpG'](iili1--,0x0)&&$[l1i1Ii(0x16e,'lemK')]&&II11ii<0x1e){iilil[l1i1Ii(0x225,'$diu')]('eCAyl',iilil[l1i1Ii(0x260,'M2%k')])?(II11ii++,console[l1i1Ii(0x291,'ImOh')](l1i1Ii(0x174,'XKGY')+II11ii+'次抽奖'),await $['wait'](parseInt(iilil['Xwkvt'](iilil[l1i1Ii(0x156,'hLUL')](Math['random'](),0x3e8),0x7d0),0xa)),await sendRequest(l1i1Ii(0x214,'lemK')),await $['wait'](iilil[l1i1Ii(0x240,'MPt*')](parseInt,iilil[l1i1Ii(0x205,'ZsS]')](Math[l1i1Ii(0x21a,'L@UE')](),0x3e8)+0x1388,0xa))):(IiiIli['log'](iillli['bizMsg']),I1l1Ii[l1i1Ii(0x182,'ZsS]')][l1i1Ii(0xd9,'eul$')](I1i11i[l1i1Ii(0x1fc,'Pf)V')]));}}}catch(II11il){if(iilil[l1i1Ii(0x1d5,'eul$')]!==iilil[l1i1Ii(0x1e3,'Pf)V')])console[l1i1Ii(0x181,'6Cxf')](l1i1Ii(0x15f,'ywbR')+II11il);else{if(iilil[l1i1Ii(0x1c1,'c9i[')](I11iII[l1i1Ii(0x1b1,'hLUL')][l1i1Ii(0xd4,']iCo')],0x0)&&I1ilIi[l1i1Ii(0x21b,'dvG2')][l1i1Ii(0x298,'L@UE')])liliI[l1i1Ii(0x157,']vLA')]=ll1lI[l1i1Ii(0x17b,'te]F')][l1i1Ii(0x10a,'0F7A')];else llIlll['data'][l1i1Ii(0x138,'sUl8')]?l1iii[l1i1Ii(0x220,'qo*#')](IIlli['data'][l1i1Ii(0x21d,'i]2a')]):l1iil['log']('❓'+ii1l1+'\x20'+lIIill['stringify'](I11iIi));}}}async function handleResponse(IlllII,I1il1I){const l1iI1=i1lll1,II111={'swXGg':'jx_party_home','QdpBs':function(lI1l1I,lill11){return lI1l1I===lill11;},'zZDdN':l1iI1(0x187,'[BL('),'uQWAz':function(liI1i1,I11i11){return liI1i1===I11i11;},'UQerQ':l1iI1(0x1de,'yBCh'),'zHZVq':l1iI1(0x29f,'Qa7I'),'SYcOW':function(I1llII,Iil1il){return I1llII===Iil1il;},'bbxsK':function(I11i1i,l1l1iI){return I11i1i!==l1l1iI;},'jNGTg':l1iI1(0x1ea,'eul$'),'Pnbff':'uSkho','sWHzN':l1iI1(0x22c,'*9%G'),'yDsZP':'jlTba','OxOAo':'ZbtJF','ozjNY':function(I1llI1,I11i1l){return I1llI1===I11i1l;},'XRWMF':l1iI1(0x179,'0F7A'),'LCaqu':l1iI1(0x184,'NXI8'),'QYyyM':function(il1il,Il1i1i){return il1il+Il1i1i;},'TxMnr':l1iI1(0x215,'4Y6C'),'Odatc':l1iI1(0x153,'Mtun'),'bKugW':l1iI1(0x22f,'Ygj]'),'gziZW':l1iI1(0x21f,'sUl8'),'aiFFH':l1iI1(0x1ef,'2NOq'),'KDXrh':l1iI1(0x283,']iCo'),'pJvPJ':function(iIIili,Ii1iiI){return iIIili+Ii1iiI;},'MIvJQ':'pnfTE','EmQpb':l1iI1(0x1c8,'XKGY'),'OIVhz':'UwnAm'};try{switch(IlllII){case II111[l1iI1(0x1c4,'te]F')]:if(II111[l1iI1(0x139,'1SXF')](I1il1I['code'],0x0)&&I1il1I[l1iI1(0x259,'Qa7I')]){const Ilil1I=I1il1I?.[l1iI1(0x286,'$diu')];if(Ilil1I['bizCode']===0x0&&Ilil1I[l1iI1(0x28e,'M!uq')])$[l1iI1(0x25f,']iCo')]=I1il1I[l1iI1(0xcf,'MPt*')]['result'];else Ilil1I[l1iI1(0x1e1,'Blt]')]?(console[l1iI1(0xae,'4Y6C')](Ilil1I['bizMsg']),$['message']['fix'](Ilil1I[l1iI1(0x108,'ZsS]')])):console[l1iI1(0x12d,'Pf)V')]('❓'+IlllII+'\x20'+JSON[l1iI1(0x280,'qo*#')](I1il1I));}else I1il1I[l1iI1(0x1db,'dvG2')]?(console[l1iI1(0x22e,'L@UE')](I1il1I['message']),$[l1iI1(0x1d6,'hLUL')][l1iI1(0x263,'oRPo')](I1il1I['message'])):console['log']('❓'+IlllII+'\x20'+JSON[l1iI1(0x27e,'ImOh')](I1il1I));break;case II111['zZDdN']:if(I1il1I[l1iI1(0x235,'sUl8')]===0x0&&I1il1I[l1iI1(0x1cd,'ImOh')]){const iliIiI=I1il1I?.[l1iI1(0xc0,'KjPr')];if(II111['QdpBs'](iliIiI['bizCode'],0x0)&&iliIiI['result'])$['jx_party_mapalbum']=I1il1I['data'][l1iI1(0x23d,'Ygj]')];else iliIiI[l1iI1(0x120,'a2X#')]?(console[l1iI1(0x239,'XKGY')](iliIiI[l1iI1(0x1f9,'0F7A')]),$['message'][l1iI1(0x151,'*9%G')](iliIiI[l1iI1(0x1c3,'MPt*')])):l1iI1(0x14f,'Qa7I')!==l1iI1(0x23b,'Blt]')?IlIII[l1iI1(0x246,'yBCh')](ilil1l,illlIi):console['log']('❓'+IlllII+'\x20'+JSON[l1iI1(0xef,'L@UE')](I1il1I));}else I1il1I['message']?(console['log'](I1il1I['message']),$[l1iI1(0x23c,'i]2a')][l1iI1(0x1cf,'XKGY')](I1il1I[l1iI1(0x1a0,'x0(i')])):console[l1iI1(0x22e,'L@UE')]('❓'+IlllII+'\x20'+JSON[l1iI1(0x28f,'c9i[')](I1il1I));break;case l1iI1(0x162,'ZsS]'):if(II111[l1iI1(0x18a,'Ygj]')](I1il1I[l1iI1(0x1d7,'M!uq')],0x0)&&I1il1I[l1iI1(0x1a3,'1SXF')]){const Il1i1l=I1il1I?.['data'];if(Il1i1l['bizCode']===0x0&&Il1i1l[l1iI1(0x1df,'d)4T')]){if(II111[l1iI1(0x177,'$diu')](II111['UQerQ'],II111[l1iI1(0xe8,'6Cxf')]))II11Il=IlI11?.[l1iI1(0x19c,'xilk')][iIIIIl]||[],II1Il=lilIlI['filter'](lill1I=>lill1I[l1iI1(0xc7,'0F7A')]==0x1);else switch(Il1i1l[l1iI1(0x230,'te]F')][l1iI1(0x1f0,'L@UE')]){case 0x1:console[l1iI1(0x178,'hLUL')](l1iI1(0x140,'2jF!')+Il1i1l[l1iI1(0x24a,'2jF!')][l1iI1(0xfc,'sUl8')]+l1iI1(0xcb,'*9%G')+Il1i1l[l1iI1(0xea,'i]2a')]['endTime']+l1iI1(0x1c7,'dvG2'));break;case 0x1:amountAsNumber=Number($[l1iI1(0xb2,'x0(i')]['amount']),displayedStr=$[l1iI1(0x16f,'c9i[')]['limitStr']===null?$[l1iI1(0xb8,'M!uq')][l1iI1(0x268,'[BL(')]:$['inviteFissionDrawPrize'][l1iI1(0x190,'2NOq')],console[l1iI1(0x22e,'L@UE')](l1iI1(0x296,'c9i[')+displayedStr+'(-'+amountAsNumber[l1iI1(0x193,'Qa7I')](0x2)+l1iI1(0xc6,'Pf)V'));break;default:console[l1iI1(0x11f,'2jF!')](l1iI1(0xe6,'x0(i')+$[l1iI1(0x271,'59hs')]+'）'+JSON['stringify'](I1il1I));break;}}else Il1i1l[l1iI1(0x223,'dvG2')]?(console[l1iI1(0x1bf,']vLA')](Il1i1l['bizMsg']),$[l1iI1(0x1a0,'x0(i')][l1iI1(0x116,'[BL(')](Il1i1l[l1iI1(0x218,'3uBX')])):console['log']('❓'+IlllII+'\x20'+JSON[l1iI1(0x24e,'4Y6C')](I1il1I));}else I1il1I[l1iI1(0x289,'a2X#')]?(console[l1iI1(0x1ee,'yBCh')](I1il1I[l1iI1(0x231,'te]F')]),$['message'][l1iI1(0x208,'NXI8')](I1il1I[l1iI1(0x231,'te]F')])):console[l1iI1(0x1ce,'Qa7I')]('❓'+IlllII+'\x20'+JSON['stringify'](I1il1I));break;case l1iI1(0xc2,'2NOq'):if(I1il1I[l1iI1(0x299,'c9i[')]===0x0&&I1il1I[l1iI1(0x277,'d)4T')]){if(II111[l1iI1(0xbf,'d)4T')](I1il1I[l1iI1(0x237,'NXI8')][l1iI1(0xfa,'Ygj]')],0x0)&&I1il1I[l1iI1(0x285,'59hs')][l1iI1(0x24c,'oRPo')])$['jx_party_task_list']=I1il1I[l1iI1(0xd2,'x0(i')]['result'];else{if(I1il1I[l1iI1(0x137,'Pf)V')][l1iI1(0x138,'sUl8')]){if(II111[l1iI1(0x135,'Pf)V')](II111[l1iI1(0xce,'XKGY')],II111[l1iI1(0xdb,'*9%G')]))console[l1iI1(0x220,'qo*#')](I1il1I[l1iI1(0xfd,'XKGY')][l1iI1(0x16d,'4Y6C')]);else{const Ilil11=iIIl11?.[l1iI1(0xe7,'xilk')];if(Ilil11[l1iI1(0x183,'2NOq')]===0x0&&Ilil11[l1iI1(0x28d,'ZsS]')])l1lIlI[l1iI1(0x117,'i]2a')]=IiiIl1['data'][l1iI1(0x1d9,'hLUL')];else Ilil11[l1iI1(0x155,'oRPo')]?(lIIil1['log'](Ilil11[l1iI1(0x145,'Y9N6')]),IIli1[l1iI1(0xc5,'2jF!')][l1iI1(0x116,'[BL(')](Ilil11[l1iI1(0x1a4,'1SXF')])):II1liI[l1iI1(0xb6,'MPt*')]('❓'+IlI1i1+'\x20'+l1lIl1[l1iI1(0x172,'2jF!')](IiiIlI));}}else console[l1iI1(0xed,'59hs')]('❓'+IlllII+'\x20'+JSON['stringify'](I1il1I));}}else I1il1I[l1iI1(0x29e,'Y9N6')]?console[l1iI1(0x27c,'7EQk')]('❌\x20'+I1il1I[l1iI1(0x247,'59hs')]):l1iI1(0x245,'i]2a')!=='hZEUw'?console['log']('❓'+IlllII+'\x20'+JSON[l1iI1(0x1a5,'i]2a')](I1il1I)):(i11ili['log'](iil1l1),lllli&&(I1lIiI[l1iI1(0xc1,'ZsS]')]=!![],lllili['message']&&liiIII[l1iI1(0x1db,'dvG2')]['fix'](li1i11)));break;case l1iI1(0x281,'i]2a'):if(II111['SYcOW'](I1il1I['code'],0x0)&&I1il1I['data']){if(I1il1I[l1iI1(0xb4,'eul$')]['bizCode']===0x0&&I1il1I['data']['result'])l1iI1(0x141,'2NOq')!==II111[l1iI1(0xf1,'0F7A')]?(delete illlIl[l1iI1(0x123,'sUl8')],delete i11ill[l1iI1(0x149,'tHcg')][l1iI1(0xe1,'oRPo')]):console[l1iI1(0x12d,'Pf)V')]($[l1iI1(0x143,'Mtun')]+l1iI1(0xe3,'Ygj]')+$[l1iI1(0x125,'Blt]')]+l1iI1(0x272,'Pf)V'));else I1il1I[l1iI1(0xc0,'KjPr')][l1iI1(0x29a,'d)4T')]?II111['yDsZP']!==II111[l1iI1(0x293,'7EQk')]?i1IIi[l1iI1(0x1fb,'x0(i')]('❓'+IIII1I+'\x20'+Iii111[l1iI1(0x206,'*9%G')](l1l1II)):console['log'](I1il1I[l1iI1(0xb3,'Blt]')][l1iI1(0x16d,'4Y6C')]):console[l1iI1(0xed,'59hs')]('❓'+IlllII+'\x20'+JSON['stringify'](I1il1I));}else I1il1I['message']?II111[l1iI1(0x114,'x0(i')]===II111[l1iI1(0x10b,'te]F')]?console[l1iI1(0x112,'ZsS]')]('❌\x20'+I1il1I['message']):(iil1ii[l1iI1(0xc9,'dvG2')]=!![],IlIlli[l1iI1(0x1aa,'ywbR')]&&i11ilI[l1iI1(0xc5,'2jF!')]['fix'](ii1ii1)):console[l1iI1(0x194,'2NOq')]('❓'+IlllII+'\x20'+JSON[l1iI1(0x130,']vLA')](I1il1I));break;case'jx_party_lottery':if(I1il1I['code']===0x0&&I1il1I['data']){if(II111['ozjNY'](I1il1I[l1iI1(0x273,'*9%G')][l1iI1(0x2a0,'a2X#')],0x0)&&I1il1I['data'][l1iI1(0x29c,'1SXF')]){let IlllI1=[],I1il11=I1il1I[l1iI1(0x19a,'UF4t')][l1iI1(0x23d,'Ygj]')][l1iI1(0x21c,'qo*#')]||[];for(let lI1l11 of I1il11){if(II111['XRWMF']!=='KBUJh'){let II11l=prize_type[lI1l11['type']]||l1iI1(0x158,'UF4t')+lI1l11[l1iI1(0x1b2,'tHcg')]+']',II11i='';switch(II11l){case II111[l1iI1(0x287,'c9i[')]:{II11i=II11l;break;}case l1iI1(0x1b5,'7EQk'):{II11i=II111[l1iI1(0x25a,'$diu')](II11l,lI1l11[l1iI1(0x1e2,'sUl8')]+'元');break;}case II111[l1iI1(0xf9,'KN)b')]:{if(II111[l1iI1(0x131,'2jF!')]!==l1iI1(0x19b,'qo*#'))IliI11['log'](l1iI1(0x110,'te]F'));else{II11i=II11l+lI1l11['name'];break;}}case II111[l1iI1(0x23a,'MPt*')]:{II11i=II11l+(lI1l11['value']+'元');break;}case II111[l1iI1(0xfe,'te]F')]:{II11i=II11l+lI1l11['name'],console[l1iI1(0x198,'oRPo')]('抽到实物:\x20'+II11i);break;}case II111['aiFFH']:II11i=II111[l1iI1(0xdd,']vLA')](II11l,lI1l11[l1iI1(0x1ca,'x0(i')]+'元');break;default:{if(II111[l1iI1(0x14b,'*9%G')](II111['KDXrh'],'JDNGz')){II11i=II111[l1iI1(0x1a8,'hLUL')](II11l,lI1l11[l1iI1(0x203,'te]F')]);break;}else Ii1iI1['log'](lilIli[l1iI1(0xd0,'Qa7I')]),Iliili[l1iI1(0x253,'oRPo')][l1iI1(0x19f,']iCo')](Iliill[l1iI1(0x163,'Mtun')]);}}!prize_type[lI1l11[l1iI1(0x10c,'eul$')]]&&console['log'](l1iI1(0x14d,'2NOq')+JSON[l1iI1(0x24f,'a2X#')](lI1l11)),IlllI1['push'](II11i);}else Illl1l[l1iI1(0xb5,'yBCh')]=Illl1i[l1iI1(0x13b,'a$2^')][l1iI1(0x27b,'Qa7I')];}!IlllI1['length']&&IlllI1[l1iI1(0x111,'NXI8')](l1iI1(0xb7,'M!uq')),console['log'](l1iI1(0xca,'M!uq')+IlllI1[l1iI1(0x102,'sUl8')](',\x20'));}else I1il1I[l1iI1(0x136,'7EQk')][l1iI1(0x236,'ImOh')]?II111['SYcOW'](l1iI1(0x1ec,'xilk'),II111[l1iI1(0x18c,'dvG2')])?console[l1iI1(0x220,'qo*#')](I1il1I['data']['bizMsg']):i1iliI[l1iI1(0x291,'ImOh')]('❌\x20脚本运行遇到了错误\x0a'+I1iIii):(console['log']('抽奖失败,'+(data?.['code']||'')+','+(data?.[l1iI1(0x1c5,'a$2^')]||'')),data?.[l1iI1(0x13c,'ZsS]')](l1iI1(0x1eb,'ImOh'))&&($[l1iI1(0x23f,'[BL(')]=![]));}else I1il1I[l1iI1(0x253,'oRPo')]?console[l1iI1(0x26e,'NXI8')]('❌\x20'+I1il1I[l1iI1(0x256,'3uBX')]):console['log']('❓'+IlllII+'\x20'+JSON[l1iI1(0x130,']vLA')](I1il1I));break;}}catch(il1iI){II111[l1iI1(0x1ac,'UF4t')]===II111[l1iI1(0xbd,'lemK')]?IliI1I[l1iI1(0x178,'hLUL')]('目前集卡进度:\x20'+lI1Iii['jx_party_mapalbum'][l1iI1(0x266,'d)4T')]+'/'+i1li['jx_party_mapalbum'][l1iI1(0x180,'a2X#')]):console[l1iI1(0x26e,'NXI8')](l1iI1(0xf3,'L@UE')+IlllII+l1iI1(0x25c,'Qa7I')+(il1iI[l1iI1(0xc5,'2jF!')]||il1iI));}}async function sendRequest(i1iIil){const lliiI1=i1lll1,liI1il={'zPbFU':lliiI1(0x22d,'KN)b'),'LDMoO':lliiI1(0x242,'ywbR'),'QwLEP':'jx_party_do_task','CuwRc':function(i1iIlI,li111){return i1iIlI==li111;},'cEZgY':lliiI1(0x229,']iCo'),'jqMXM':lliiI1(0xd5,'ywbR'),'mOMxQ':function(liI1lI,lIIiI1,ll1I1){return liI1lI(lIIiI1,ll1I1);},'gRYyw':lliiI1(0x1d4,'59hs'),'kDtNR':function(Ii1ili,iI1Ii1,Ii1ill){return Ii1ili(iI1Ii1,Ii1ill);},'MfrZL':'https://api.m.jd.com/','POOWo':lliiI1(0x11d,'KjPr'),'dTGde':lliiI1(0x171,'hLUL'),'sGJcF':lliiI1(0x1f1,'Pf)V'),'jOUcR':lliiI1(0x1b8,'KjPr'),'tRggf':'keep-alive','ApJBC':'application/x-www-form-urlencoded','rRqGf':lliiI1(0x210,'2jF!'),'AFfmN':lliiI1(0xe4,'a$2^'),'GqToY':lliiI1(0x1be,'te]F'),'rlIdf':function(llIlI1,iI1IiI){return llIlI1===iI1IiI;},'krEEd':lliiI1(0xc3,'te]F'),'gKDKf':'TNwiU','quDfi':lliiI1(0x24b,'3uBX'),'sIHQt':'ZXwRf','zynAY':lliiI1(0x257,'L@UE'),'mIomr':function(IIlI1,i1iIli){return IIlI1!==i1iIli;}};if($[lliiI1(0x1d8,'tHcg')]||$[lliiI1(0x207,'lemK')])return;let llIlIi='',llIlIl=null,II11I=null,il1i1=lliiI1(0x278,'ywbR'),lIIiIi={},liI1iI={};switch(i1iIil){case lliiI1(0x175,'4Y6C'):llIlIi=lliiI1(0xd7,'$diu'),II11I={'appid':liI1il[lliiI1(0x251,'Y9N6')],'functionId':lliiI1(0x25e,'3uBX'),'body':JSON[lliiI1(0x19e,'M2%k')]({})};break;case lliiI1(0x1fa,'M2%k'):llIlIi=lliiI1(0xe2,'Blt]'),II11I={'appid':liI1il[lliiI1(0xeb,'I71A')],'functionId':lliiI1(0x22b,'qo*#'),'body':JSON[lliiI1(0x1ad,'NXI8')]({})};break;case lliiI1(0x1fe,'UF4t'):llIlIi=lliiI1(0x28c,'M!uq'),II11I={'appid':lliiI1(0x176,'x0(i'),'functionId':liI1il[lliiI1(0x221,'Qa7I')],'body':JSON[lliiI1(0x280,'qo*#')]({})};break;case liI1il['QwLEP']:$[lliiI1(0x269,'59hs')]=liI1il['CuwRc']($[lliiI1(0x107,'XKGY')],0x0)?'完成':'开始',liI1iI={'appId':lliiI1(0x29b,'lemK'),'functionId':liI1il['QwLEP'],'appid':lliiI1(0x1cb,'7EQk'),'body':{'itemId':$['itemId'],'actionType':$[lliiI1(0x217,'59hs')],'taskType':$[lliiI1(0x113,'6Cxf')]['assignmentType'],'assignmentId':$[lliiI1(0x12f,'NXI8')][lliiI1(0x211,'6Cxf')],'extraType':$[lliiI1(0xd6,'d)4T')][lliiI1(0x209,'M!uq')][lliiI1(0x20e,'sUl8')]||''},'version':liI1il[lliiI1(0x10f,'XKGY')],'ua':$['UA'],'t':!![]},lIIiIi=await H5st[lliiI1(0x122,'3uBX')](liI1iI),llIlIi=lliiI1(0x164,'1SXF'),llIlIl=lIIiIi['paramsData'];break;case lliiI1(0x1a2,'L@UE'):liI1iI={'appId':lliiI1(0x254,'7EQk'),'functionId':liI1il['jqMXM'],'appid':liI1il[lliiI1(0x1dd,'tHcg')],'body':{'areaInfo':lliiI1(0x192,'a$2^'),'unpl':liI1il[lliiI1(0xf8,'a$2^')](randomString,0xdc,ALL_ALPHABET),'refresh':null,'skuId':null},'version':liI1il['cEZgY'],'ua':$['UA'],'t':!![]},lIIiIi=await H5st[lliiI1(0x25b,'Y9N6')](liI1iI),llIlIi=lliiI1(0x142,'tHcg'),llIlIl=lIIiIi['paramsData'];break;case lliiI1(0x1a9,'NXI8'):liI1iI={'appId':liI1il[lliiI1(0x16a,'KjPr')],'functionId':'jx_party_lottery','appid':liI1il[lliiI1(0x199,'7EQk')],'body':{'areaInfo':'0_0_0_0','deviceInfo':JSON[lliiI1(0x17a,'xilk')]({'sdkToken':sdkToken,'jsToken':jsToken}),'unpl':liI1il[lliiI1(0x12e,'qo*#')](randomString,0xdc,ALL_ALPHABET),'qdPageId':lliiI1(0x154,'oRPo'),'mdClickId':lliiI1(0xfb,'a$2^')},'version':liI1il[lliiI1(0xf5,'x0(i')],'ua':$['UA'],'t':!![]},lIIiIi=await H5st[lliiI1(0xec,'tHcg')](liI1iI),llIlIi=liI1il[lliiI1(0x100,'M2%k')],llIlIl=lIIiIi[lliiI1(0x219,'a2X#')];break;default:console[lliiI1(0x20b,'Blt]')]('❌\x20未知请求\x20'+i1iIil);return;}const iI1Il1={'eu':liI1il[lliiI1(0xd1,'qo*#')],'fv':'1643536316330383'};llIlIl&&Object['assign'](llIlIl,iI1Il1);II11I&&Object['assign'](II11I,iI1Il1);const i1iIl1={'url':llIlIi,'method':il1i1,'headers':{'Host':lliiI1(0x21e,'a2X#'),'Accept':liI1il['dTGde'],'Accept-Encoding':liI1il[lliiI1(0xf0,'i]2a')],'Accept-Language':liI1il[lliiI1(0xcd,'sUl8')],'Connection':liI1il[lliiI1(0x169,'c9i[')],'Content-Type':liI1il['ApJBC'],'Cookie':cookie,'Origin':liI1il[lliiI1(0x1f6,'ImOh')],'Referer':liI1il[lliiI1(0x1dc,'ZsS]')],'x-rp-client':'h5_1.0.0','Sec-Fetch-Dest':'empty','Sec-Fetch-Mode':lliiI1(0xee,'Ygj]'),'Sec-Fetch-Site':liI1il[lliiI1(0x234,'te]F')],'x-requested-with':'com.jingdong.app.mall','User-Agent':$['UA']},'params':II11I,'data':llIlIl,'timeout':0x3a98};il1i1==='GET'&&(liI1il[lliiI1(0x226,'ZsS]')](liI1il[lliiI1(0x212,'ImOh')],liI1il['gKDKf'])?(lIIiiI[lliiI1(0x26e,'NXI8')](II1lil['bizMsg']),IIli1l[lliiI1(0x274,'2NOq')]['fix'](II1lii[lliiI1(0x255,'hLUL')])):(delete i1iIl1['data'],delete i1iIl1['headers']['Content-Type']));const i1lli1=0x1;let llIlII=0x0,IIlII=null,lIIiII=![];while(llIlII<i1lli1){if(liI1il[lliiI1(0x134,'NXI8')]('mVztb','mVztb')){llIlII>0x0&&await $['wait'](0x3e8);const i1lliI=await common[lliiI1(0x161,'dvG2')](i1iIl1);if(!i1lliI['success']){if(liI1il[lliiI1(0x1bb,'qo*#')]===liI1il[lliiI1(0xbe,'7EQk')])liIli['log']('抽奖未知类型:\x20'+liIll[lliiI1(0x1ad,'NXI8')](IilIi1));else{IIlII=lliiI1(0x11e,'i]2a')+i1iIil+'\x20请求失败\x20➜\x20'+i1lliI[lliiI1(0x24d,'MPt*')],llIlII++;continue;}}if(!i1lliI?.[lliiI1(0x282,'Ygj]')]){IIlII=lliiI1(0x249,'ImOh')+i1iIil+lliiI1(0x1a1,'Pf)V'),llIlII++;continue;}liI1il[lliiI1(0x12c,'NXI8')](handleResponse,i1iIil,i1lliI[lliiI1(0xb3,'Blt]')]),lIIiII=![];break;}else lllil[lliiI1(0x288,'2jF!')](iI11Il,iIII1i);}llIlII>=i1lli1&&(lliiI1(0x262,'ywbR')===liI1il[lliiI1(0x144,'a2X#')]?lil11i[lliiI1(0x1f7,'tHcg')](lliiI1(0x1f8,'Y9N6')+IlIIl+lliiI1(0x15b,'dvG2')+(lI1liI[lliiI1(0x29e,'Y9N6')]||i1i1Ii)):(console[lliiI1(0x197,'c9i[')](IIlII),lIIiII&&(liI1il[lliiI1(0x264,'Qa7I')]('RSQFF',lliiI1(0x22a,'dvG2'))?($[lliiI1(0x170,'*9%G')]=!![],$[lliiI1(0x115,'1SXF')]&&(lliiI1(0x132,'ImOh')!==lliiI1(0x1fd,'2jF!')?(ill11I[lliiI1(0x1bf,']vLA')](Iliiil[lliiI1(0x223,'dvG2')]),li1Il[lliiI1(0x256,'3uBX')][lliiI1(0x151,'*9%G')](li1Ii[lliiI1(0x29a,'d)4T')])):$[lliiI1(0x1ed,'UF4t')][lliiI1(0x116,'[BL(')](IIlII))):IiIi[lliiI1(0xf6,']iCo')](iI1ll1[lliiI1(0xd3,'2NOq')][lliiI1(0x160,'x0(i')]))));}function randomString(lliiIl){const IiiI1=i1lll1;lliiIl=lliiIl||0x20;let li11i='abcdef0123456789',lliiIi=li11i[IiiI1(0x200,'Pf)V')],iiIi1I='';for(i=0x0;i<lliiIl;i++)iiIi1I+=li11i[IiiI1(0x1a7,'te]F')](Math['floor'](Math['random']()*lliiIi));return iiIi1I;}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `🔔${this.name}, 开始!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============📣系统通知📣=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `🔔${this.name}, 结束! 🕛 ${s} 秒`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
