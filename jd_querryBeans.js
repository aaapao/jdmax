/*
ÂΩìÊó•Êî∂ÊîØÊü•ËØ¢

1 1 1 1 *

*/

const $ = new Env('ÂΩìÊó•Êî∂ÊîØÊü•ËØ¢')
var iÔΩâl='jsjiami.com.v7';function iii1II(_0x21af17,_0x4837e8){const _0x26eb82=Iii11l();return iii1II=function(_0x691261,_0x4907a8){_0x691261=_0x691261-0x171;let _0xac70d=_0x26eb82[_0x691261];if(iii1II['LfZKax']===undefined){var _0x406a88=function(_0xa4284c){const _0x2ee373='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x192834='',_0x59192a='';for(let _0x5f47d5=0x0,_0x58eb04,_0x257efe,_0x962441=0x0;_0x257efe=_0xa4284c['charAt'](_0x962441++);~_0x257efe&&(_0x58eb04=_0x5f47d5%0x4?_0x58eb04*0x40+_0x257efe:_0x257efe,_0x5f47d5++%0x4)?_0x192834+=String['fromCharCode'](0xff&_0x58eb04>>(-0x2*_0x5f47d5&0x6)):0x0){_0x257efe=_0x2ee373['indexOf'](_0x257efe);}for(let _0x506493=0x0,_0x527f98=_0x192834['length'];_0x506493<_0x527f98;_0x506493++){_0x59192a+='%'+('00'+_0x192834['charCodeAt'](_0x506493)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x59192a);};const _0x169e1b=function(_0x9b253b,_0x3e9768){let _0x33d5c5=[],_0x406332=0x0,_0x565b24,_0x3da64f='';_0x9b253b=_0x406a88(_0x9b253b);let _0x1f6286;for(_0x1f6286=0x0;_0x1f6286<0x100;_0x1f6286++){_0x33d5c5[_0x1f6286]=_0x1f6286;}for(_0x1f6286=0x0;_0x1f6286<0x100;_0x1f6286++){_0x406332=(_0x406332+_0x33d5c5[_0x1f6286]+_0x3e9768['charCodeAt'](_0x1f6286%_0x3e9768['length']))%0x100,_0x565b24=_0x33d5c5[_0x1f6286],_0x33d5c5[_0x1f6286]=_0x33d5c5[_0x406332],_0x33d5c5[_0x406332]=_0x565b24;}_0x1f6286=0x0,_0x406332=0x0;for(let _0x14fe7a=0x0;_0x14fe7a<_0x9b253b['length'];_0x14fe7a++){_0x1f6286=(_0x1f6286+0x1)%0x100,_0x406332=(_0x406332+_0x33d5c5[_0x1f6286])%0x100,_0x565b24=_0x33d5c5[_0x1f6286],_0x33d5c5[_0x1f6286]=_0x33d5c5[_0x406332],_0x33d5c5[_0x406332]=_0x565b24,_0x3da64f+=String['fromCharCode'](_0x9b253b['charCodeAt'](_0x14fe7a)^_0x33d5c5[(_0x33d5c5[_0x1f6286]+_0x33d5c5[_0x406332])%0x100]);}return _0x3da64f;};iii1II['slTSJD']=_0x169e1b,_0x21af17=arguments,iii1II['LfZKax']=!![];}const _0x49a1e3=_0x26eb82[0x0],_0x19de19=_0x691261+_0x49a1e3,_0x5793bc=_0x21af17[_0x19de19];return!_0x5793bc?(iii1II['uQJvGg']===undefined&&(iii1II['uQJvGg']=!![]),_0xac70d=iii1II['slTSJD'](_0xac70d,_0x4907a8),_0x21af17[_0x19de19]=_0xac70d):_0xac70d=_0x5793bc,_0xac70d;},iii1II(_0x21af17,_0x4837e8);}const lllili=iii1II;(function(IlIII,ilil1l,illlIi,I1lIii,IiI1I,illlIl,i11ill){return IlIII=IlIII>>0x6,illlIl='hs',i11ill='hs',function(IIIIIi,IIIIIl,I1lIil,IIIl1i,liiII1){const I1lIiI=iii1II;IIIl1i='tfi',illlIl=IIIl1i+illlIl,liiII1='up',i11ill+=liiII1,illlIl=I1lIil(illlIl),i11ill=I1lIil(i11ill),I1lIil=0x0;const IIIl1l=IIIIIi();while(!![]&&--I1lIii+IIIIIl){try{IIIl1i=-parseInt(I1lIiI(0x193,'IA8g'))/0x1*(parseInt(I1lIiI(0x212,'6dxt'))/0x2)+-parseInt(I1lIiI(0x1be,'7Gpu'))/0x3*(-parseInt(I1lIiI(0x22f,'7uyI'))/0x4)+-parseInt(I1lIiI(0x1db,'tRjL'))/0x5+-parseInt(I1lIiI(0x194,'L[O['))/0x6+parseInt(I1lIiI(0x21a,')Y[L'))/0x7+parseInt(I1lIiI(0x179,'B3aO'))/0x8+parseInt(I1lIiI(0x1e0,'L[O['))/0x9;}catch(lllll){IIIl1i=I1lIil;}finally{liiII1=IIIl1l[illlIl]();if(IlIII<=I1lIii)I1lIil?IiI1I?IIIl1i=liiII1:IiI1I=liiII1:I1lIil=liiII1;else{if(I1lIil==IiI1I['replace'](/[WqkrEuFUBOhwpgxHYGVDy=]/g,'')){if(IIIl1i===IIIIIl){IIIl1l['un'+illlIl](liiII1);break;}IIIl1l[i11ill](liiII1);}}}}}(illlIi,ilil1l,function(i11ili,iil1l1,lllli,iiili1,ill11i,lllill,ill11l){return iil1l1='\x73\x70\x6c\x69\x74',i11ili=arguments[0x0],i11ili=i11ili[iil1l1](''),lllli=`\x72\x65\x76\x65\x72\x73\x65`,i11ili=i11ili[lllli]('\x76'),iiili1=`\x6a\x6f\x69\x6e`,(0x16ef44,i11ili[iiili1](''));});}(0x2f80,0x1deb7,Iii11l,0xc0),Iii11l)&&(iÔΩâl=0xc0);function Iii11l(){const iI11I1=(function(){return[...[iÔΩâl,'UEjkqVsrjDkpiOaGFmHiWy.YucuoBmx.vwu7gGhg==','mFcvG7RcTEI8VUIGVEE7P+AFPta','WQxdJXhdSmkAWOq','WPxcKSkIvSkM','xmoMs8kkzG','s8owxSkTEutcQmkAE0GZua','W6aLWRPvWPqAW4iwAhhdMNBcJSkhkJP1W4xcVSkgAa','f1Wpbee','WRiVvWDq','W5jCDrNdR8oZW6hdMLBdPW','s1TWW7VcMIvvg1BcOW','p3hdPZVcPbv7','W6ZdGxhdS8oNxa','xSozrmo9','W73dGalcJreNW5K','WQtcGhldGmkh','W67cPdu','zmkGW6PDdq','bh/cMZ/cLa','WPtdRmkYDexcJq','v8k6sSoIESoBCG','W7NML5RMLOBMSPNMGAa','WQisgInl','l8kcuxm','WPldPfCtW43cJapdHdrQaq','FKeCFmkksmoIW5NdRba','m8kmWQldLCoY','WOtcMuddH8kPrraVWQn9w8o1','W6KPWOrkWO8AW5W','WPNdPmkZzL/cKq','WONcH8kLumkQhcO','W5xcMN3dU8kR','W5JMLR/ML7pMSztMGiO','vabCvauxWP7cQLG0W73dJCoV','chrCE8oA','mCkcuNeyj0NdRhPEufxdGhG','o3VdOq','yCokW5m','fr4q','kCkothO9ivG','EcldHW','W41myGhcRSosW5u','WRXJW6Xw','W47cK8ofW7yOWQRcQXSSWOi','FdCFbSkHcCozWP3dGejv','W5ldImoBWQlcKa','haCsusWqErJdTCoGsJu','ghVdUmk0WQXAWO5BW5fh','WO3cIKpdNq','rIZcQq','WP/dRmkOwxtcPG','fCkKxmkvW5u','rbFdGWlcVW','5P2u6k2l5B6T5BU5','W6flWPdcPSkkWPddQgG1','zCkAW48','xmoBwCo7pf8','WQJdIYNdUa','W6ZORz3MSj/LKztLUB3dKa','D8oOW4ldLCo7WQqUW54Q','hmkVsSkk','avaCdvXlW6RcTNiN','sY7cOCo1WOzu','EIZdJqG','gaxcGCkFWPK','WR7dJY3dTCkiWPme','uSk+uSoJ','W5VcJ8oA','4P60WQNOH4BMNl/OV6hOOQNPG5/LIi3KUPxPLjdOR7LJ'],...(function(){return[...['meynhNTgW4VcUG','fCkDWPZdV8oS','W7TvxaRcOq','WOhcLmkZtCk/nI4mWRS1W67dTa','W59jm8o7WPZcPmki','dCoMACkBnSoId8kyvq','W5GYyq8Nt33cVSose8o/dhD4W5pdO2SBWRfwsSonfZJdISkcW5ORW5GMv8k+W74','W5OKsYa9','BmobW5ddJSkwWRW','gqPpoSkau8oaW6W','mCodWP4RtvFcNCkLmCo/W6RcUG','W4tcICkbW5a9WPdcUvqdWQKPEmkiW6jPW6uXW44AWPiXWP3dQ8kCttpdQCk2W5hcQ3K4CSkVW57cQJJdQxqZWRiUeSo3cq','W65qxHJcQW','W5JcKmoJW7mU','WRVdG8om','44ks5OYB56wO44cT6k2Q5ywI6i2y5yYfvxjrtmoJjq','W64GWPfb','WOLgW4farG','laistry8Dq4','dSkQWOiNW7u','WRWQCrLL','fe3dHrhcUW','WQRIN53dHq','W6hcPdzz','qSk6t8oAESoBDu7dImo2','WRT0W5eCW5fpWOGrsftdIvtcTq','jmk/WPddTmoDWOazW6uvWQu','W5njzddcIG','xL98W7VcMJXvcKNcPYHk','W77dKbFcKWi9W7Kox27cGW','W6VdHaBcHa','4P6uiUAESUIdJUATGoEIS+wNU+EqU8ol','WPCnWOb3','zSkaW5XAfatcJa','cJfVamkE','W5ZcP8oQW6i6','zIBcTrdcOYzlttS','WO3dHIVcRCoIWQhdQ8olptflCWe','aHjzW7eLW6q','WRypnYLFsq','W4NcPqnRW7y','fSkcrvmP','W6eKWPXx','WO8ayXbU','WR0FW5xcKSkcWRldQq','lr1ogSkHrq','jrDzlCk8rG','ymkWBmo+rq','WQNcJCooWRSvkLS','8yEjHau','W47cKwNdSSkYW7pcVa','jKxdJcTGtG','WPpdSCk2WOxcNcn2xG','WPhdRmkqEKlcKq','WRrTW78','W6VcPtzzW6u','WQG7WQy','WR7dGZRdSCkD','5lIm5PwN5PE85ysnW7i','ibzn','5y+O5yUR5RIc6yoN','WRzJW7vw','lCk9w8kDW5ldGwHj','BEs7J+AxIUAuNowfRo+9Lq','lJf0W7OY','cCkethur','WPtdOxmgW5G','W4OYFqO6','WOuyzq','A8orsmklqq'],...(function(){return['WQmkW4RcImkx','WO/dQmk1zW','n8kawh49','WRJcGCogWQS1kW','varEk1XIW4lcQNa','WPZdQmkOCG','W73cMg/cQSoyW4ftW6uWW6dcO2NcLq','WQP3W7z2tCk5','WQ/dMdJdUmkDWPu','D8oOW4hcR8kUWQm+W54yWO/dOG','WOFdJmk9WPJcVG','W7NcMwVdJCka','WOJdVN0KW6S','nSk7WPBdV8oxWPaa','4P+mWOtMNlxOGANMR7dNOzRLPQJNKkxdRa','WPhdUfujW4S','W5/dGmomWQRcTJVcOYu','5lUK5Pwf5Psn5yAMlq','WRnNW71ddSk8WPnuWP0s','tIlcUSoH','W7ldJxJdVmoN','WRhdRSkuDuK','WRldJmkF','WQHWW7fDv8kjWP5FWOCs','FwpdKmo+W68DqH/cNmojW6OHAW','6k+F5y655l6S55wK5lI06lcN','pqXpoSk8s8oOW7VdSd3cVa','dSo2BSkW','k8owhYBdGa','yLzFpmkNxSoEWQBdKdFcRmkGWR7cM8kJWORcTCoLwCobWOJdSmk0btHoWQC','qCk6t8o2DSoesKBdNmoN','kqfdpa','W7hcQJ9zWRbfWP3cUNf0ua','rIBcOmoNWPXi','x8otv8oGfK7cGdhcN8od','WR9tW6TEsG','x0HTW7a','W6HmWPddLSowW6FdUKCkl8kVnq','EdixbCkJF8odWOVdR3zfW6u','BSkqW5XFfWRcGmkwgSoEW4xcOvFcPq','eCkjWR0RW6Wj','W4vkEW','WQhdP8kNWRVcVsvYvCkbymkFW4muaW','WO3dGsZcRSoJWQFdQCoZfrDeCbq','nL7dItO','5lM05Pse5PAA5yE9Fa','8l+5Ohi','W6pdIHu','yLzFpmkNxSoEWQBdKdFcRmkGWR7cM8kJWPpcTmoiuSoMWQhdKCk1','bmkzfLOJW5RcVG','WRxcG8oo','WOyFWPfG','6lwE5yY55PEE5PAN','pf/dItPT','5PYJ6k2G5B+r5BUp','W6ldGahcKHeJW5K','W4hORjJMSAFLKAtLUyKO','CwXr','WOxdHvOvW4u','WRtdP8kJWPVcSYf+','c8k7xCkmW7NdK3y','j8kaWOOOW5u','bCk7mMCy','WQmvDZT5','vczwW5xdTCkF','W7NcPmo4','W7K1WOrqWPqm','W49eEau','us5nW4hdSSkh'];}())];}())];}());Iii11l=function(){return iI11I1;};return Iii11l();};const jdCookie=require('./jdCookie'),notify=require(lllili(0x1d2,'6dxt')),common=require(lllili(0x1e5,'6dxt')),{Table}=require('console-table-printer'),isNotify=process[lllili(0x23c,'gRN&')][lllili(0x1ff,'J145')]==='true',todayString=$['time'](lllili(0x202,'n&Iu'),Date[lllili(0x1de,'n&Iu')]());let cookie='';const cookiesArr=Object[lllili(0x199,'J145')](jdCookie)[lllili(0x1b3,'seR9')](IilIll=>jdCookie[IilIll])['filter'](lI11Ii=>lI11Ii);!cookiesArr[0x0]&&($['msg']($[lllili(0x1ac,'bWoE')],lllili(0x17e,']fpl')),process[lllili(0x1d4,'6dxt')](0x1));!(async()=>{const IliiiI=lllili,Iiill={'ZlYdM':IliiiI(0x1eb,'I%@*'),'CYCNz':function(lI11I1,l1il11){return lI11I1<l1il11;},'XVPCb':function(IiI1,liI){return IiI1+liI;},'fThtz':'pt_pin','gPsoo':function(illIli){return illIli();},'mjbzI':IliiiI(0x18f,'NHKz'),'QDYse':function(l11i1l,lIII11){return l11i1l!==lIII11;},'HXukM':function(IiilI,ii1I11){return IiilI>ii1I11;},'qptum':IliiiI(0x176,'JS$9')};$[IliiiI(0x1fb,'w(Q1')]=[],notify['config']({'title':$[IliiiI(0x238,'nj*n')]});for(let liIi1=0x0;Iiill[IliiiI(0x184,'IA8g')](liIi1,cookiesArr[IliiiI(0x205,'ITcN')]);liIi1++){$[IliiiI(0x1ea,'Umab')]=Iiill['XVPCb'](liIi1,0x1),cookie=cookiesArr[liIi1],common[IliiiI(0x174,'vb14')](cookie),$[IliiiI(0x1a3,'I%@*')]=decodeURIComponent(common[IliiiI(0x1dc,'B3aO')](cookie,Iiill[IliiiI(0x1ef,'*SAR')])),$['UA']=common['genUA']($[IliiiI(0x178,'6dxt')]),$[IliiiI(0x173,'0NxU')]=notify[IliiiI(0x1bd,'w(Q1')]($[IliiiI(0x1a6,']fpl')],$[IliiiI(0x23e,')Y[L')]),$[IliiiI(0x1c5,']g2Z')]='',console[IliiiI(0x21f,'^(w*')]('\x0a******ÂºÄÂßã„Äê‰∫¨‰∏úË¥¶Âè∑'+$[IliiiI(0x218,'L[O[')]+'„Äë'+($['nickName']||$[IliiiI(0x1ad,'UYAq')])+'******\x0a'),$[IliiiI(0x1cb,'dBe9')]=common[IliiiI(0x22b,'dBe9')]($[IliiiI(0x181,'^(w*')]),$[IliiiI(0x1ee,'QINg')]=common['getJEH'](),await Iiill['gPsoo'](Main),common['unsetCookie']();if($[IliiiI(0x1bc,'bWoE')])break;await $[IliiiI(0x1b6,'dBe9')](0x3e8);}if($[IliiiI(0x1fb,'w(Q1')][IliiiI(0x20c,'dBe9')]>0x0){const lI11II=new Table({'title':todayString+IliiiI(0x219,'dBe9'),'columns':[{'title':'Áî®Êà∑','name':Iiill[IliiiI(0x22c,'UYAq')],'alignment':IliiiI(0x1c9,'ITcN')},{'title':'ÊÄªËÆ°','name':'ie','alignment':IliiiI(0x200,')Y[L')}]});for(const l1llI1 of $[IliiiI(0x1a4,'dBe9')]){if(Iiill[IliiiI(0x180,'bWoE')]('IjWbC','IjWbC'))llIll1+=Illl1l;else{let {user:IillIi,ie:lii}=l1llI1;lI11II['addRow']({'user':IillIi,'ie':Iiill['HXukM'](lii,0x0)?'+'+lii:''+lii});}}console['log']('\x0a'),lI11II[IliiiI(0x203,'QINg')]();}const l11i1i=notify[IliiiI(0x187,'B&qo')]();l11i1i&&(console[IliiiI(0x230,'B3aO')](IliiiI(0x1fa,'QINg')+l11i1i['replace'](/Ôºö/,IliiiI(0x185,'J145'))),isNotify&&('cfZCs'!==Iiill[IliiiI(0x1fc,'@Ktu')]?lIIiii[IliiiI(0x22a,'yEE!')](Iiill[IliiiI(0x1f2,'Qm!5')]):await notify['push']()));})()[lllili(0x226,']g2Z')](i11I1l=>$[lllili(0x196,'f8lW')](i11I1l))[lllili(0x222,'n&Iu')](()=>$['done']());async function Main(){const Ill11=lllili,lil={'TSdQF':function(IllI1l,i11I1i){return IllI1l>i11I1i;},'RopcM':function(IillIl,llliil){return IillIl<llliil;},'gQsmi':function(liIl1,II1lll){return liIl1===II1lll;},'vpOQD':function(II1lli,ii1I1I){return II1lli<=ii1I1I;},'xlhPH':Ill11(0x189,'7Gpu'),'xrJOf':function(IiIl,IiIi){return IiIl===IiIi;},'fqOkr':function(iI1ll1,IlI1Il){return iI1ll1!==IlI1Il;},'koOET':Ill11(0x1fd,'utJK'),'uijiy':function(l1il1l,liIil){return l1il1l<liIil;},'bFFzf':'ÊúÄÊñ∞Êó∂Èó¥','orlWp':Ill11(0x210,'YcHs'),'ZVBOs':Ill11(0x229,'SCA0'),'uVSOk':Ill11(0x1a8,'w(Q1'),'IgHfx':function(IllI1I,liIii){return IllI1I!==liIii;}};try{$[Ill11(0x211,'*SAR')]=![];const II1ll1=await common[Ill11(0x1df,'I%@*')](cookie);if(!II1ll1&&typeof II1ll1==='boolean'){if(lil[Ill11(0x1d8,'bWoE')](Ill11(0x208,'SCA0'),Ill11(0x19e,'B&qo'))){console[Ill11(0x21e,'KqnU')](Ill11(0x1e9,'UYAq'));return;}else lIIii1['querryError']=!![];}let IlI1Ii=new Map();i1i1Ii:for(let llliii=0x1;lil['vpOQD'](llliii,0x14);llliii++){$[Ill11(0x1c2,'7Gpu')]=''+llliii,$[Ill11(0x236,')Y[L')]=[],await sendRequest(lil[Ill11(0x18a,'n&Iu')]);const IllI11=$['detailList'];if(lil['xrJOf'](IllI11[Ill11(0x1d6,'yEE!')],0x0))break;for(let l1llIi of IllI11){let II1llI=l1llIi[Ill11(0x223,'bWoE')][Ill11(0x1b5,'7uyI')]('\x20')[0x0];if(II1llI===todayString){if(lil[Ill11(0x17c,'gRN&')](Ill11(0x1f4,'seR9'),'KlbsZ')){let {user:l1llIl,ie:ii1I1l}=iii1I1;II1Ii[Ill11(0x19c,'6dxt')]({'user':l1llIl,'ie':lil[Ill11(0x239,'V1(3')](ii1I1l,0x0)?'+'+ii1I1l:''+ii1I1l});}else l1llIi[Ill11(0x1b8,'cjPr')]=parseInt(l1llIi[Ill11(0x237,'yEE!')]),IlI1Ii[l1llIi['eventMassage']]?lil[Ill11(0x20f,'f8lW')](lil[Ill11(0x1c1,'*SAR')],Ill11(0x1bf,'I%@*'))?(Iliili[Iliill['eventMassage']]['amount']+=IIII11[Ill11(0x231,'IsXo')],lil[Ill11(0x1b0,'YcHs')](new i1illi(i1illl[I1llil[Ill11(0x172,'@Ktu')]]['date']),new I1llii(lilIll[Ill11(0x17f,'J145')]))&&(Iii11I[Iil1II[Ill11(0x18b,'QINg')]][Ill11(0x1d9,'QINg')]=iIIl1I[Ill11(0x1f8,'n&Iu')])):(IlI1Ii[l1llIi[Ill11(0x214,'SCA0')]][Ill11(0x1f9,'^%Ej')]+=l1llIi[Ill11(0x216,'dBe9')],lil['uijiy'](new Date(IlI1Ii[l1llIi[Ill11(0x227,'^(w*')]][Ill11(0x18d,'JznC')]),new Date(l1llIi[Ill11(0x235,'UYAq')]))&&(IlI1Ii[l1llIi[Ill11(0x1fe,'utJK')]][Ill11(0x1e8,'NHKz')]=l1llIi['date'])):IlI1Ii[l1llIi['eventMassage']]={...l1llIi};}else break i1i1Ii;}$['wait'](0x3e8);}const i11I1I=Object['values'](IlI1Ii);let l1il1i=0x0,ll1=0x0;if(lil[Ill11(0x183,'seR9')](i11I1I[Ill11(0x1dd,'Qm!5')],0x0)){const llI=new Table({'columns':[{'title':lil[Ill11(0x192,'gRN&')],'name':lil['orlWp'],'alignment':lil[Ill11(0x201,'seR9')]},{'title':Ill11(0x1ab,'^%Ej'),'name':Ill11(0x215,'J145'),'alignment':lil['ZVBOs']},{'title':'ÊòéÁªÜ','name':Ill11(0x1f5,'^%Ej'),'alignment':lil[Ill11(0x213,'7Gpu')]}]});for(const iI1li1 of i11I1I){let {date:lllii1,amount:liIli,eventMassage:liIll}=iI1li1;liIli>0x0?l1il1i+=liIli:ll1+=liIli,liIll=liIll[Ill11(0x207,'JznC')](/ÔºàÂïÜÂìÅ:.*Ôºâ/g,'')[Ill11(0x23a,'w(Q1')](/ËÆ¢Âçï.*‰ΩøÁî®‰∫¨Ë±Ü.*‰∏™/g,Ill11(0x1ce,'Qm!5')),/ÂèÇÂä†\[.*\].*-Â•ñÂä±/['test'](liIll)&&(lil[Ill11(0x1ca,'dBe9')](Ill11(0x182,'Qm!5'),Ill11(0x22d,'nj*n'))?liIll=liIll[Ill11(0x220,'YcHs')](/ÂèÇÂä†\[/g,'')['replace'](/\].*/g,''):ilI1ll[Ill11(0x221,'nj*n')](Ill11(0x18e,'bWoE')+Iillii+Ill11(0x1ed,'SCA0')+(IlI1iI[Ill11(0x19b,'7uyI')]||Iillil))),lllii1=lllii1[Ill11(0x1b2,'JS$9')]('\x20')[0x1],llI[Ill11(0x177,'KqnU')]({'time':lllii1,'channel':liIll,'detail':liIli});}llI[Ill11(0x224,'gRN&')]();const llliI=l1il1i+ll1;console[Ill11(0x21d,'IA8g')](Ill11(0x1e2,'gRN&')+l1il1i+Ill11(0x1ae,'tRjL')+ll1),$['message']['insert'](Ill11(0x1c6,'utJK')+l1il1i),$[Ill11(0x217,'@Ktu')][Ill11(0x19d,'6dxt')](Ill11(0x1a9,'I%@*')+ll1),$[Ill11(0x195,'LQcW')][Ill11(0x1d0,'vb14')]({'user':$['UserName'],'ie':llliI});}else!$[Ill11(0x18c,'JznC')]&&console[Ill11(0x1e4,'JznC')]('Êú™Êü•ËØ¢Âà∞‰ªäÊó•‰∫¨Ë±ÜÂèòÂä®ÊòéÁªÜÊï∞ÊçÆÔºåÂø´ÂéªÂèÇ‰∏éÊ¥ªÂä®Ëé∑ÂèñÂêß~');}catch(iI1liI){console[Ill11(0x1a5,'bWoE')](Ill11(0x23d,'dBe9')+iI1liI);}}async function handleResponse(l1lIiI,llliiI){const liiIII=lllili,IilIiI={'Zsuou':'user','EqsHL':liiIII(0x1c4,'*SAR'),'WcSMN':function(i1i1I1,IlII1){return i1i1I1===IlII1;},'gyvXM':function(IiI11,lli){return IiI11===lli;},'QwLST':liiIII(0x22e,']g2Z'),'bWqOi':function(liIlI,lll){return liIlI!==lll;},'wpAgg':'owahE'};try{switch(l1lIiI){case'beanDetail':if(IilIiI[liiIII(0x20b,'k]jv')](llliiI[liiIII(0x1e1,'Umab')],'0'))$[liiIII(0x1d3,'B&qo')]=llliiI[liiIII(0x21c,'YcHs')];else IilIiI[liiIII(0x19a,'seR9')](llliiI[liiIII(0x186,']fpl')],'1')?console[liiIII(0x1aa,'6dxt')](IilIiI['QwLST']):console['log']('‚ùì'+l1lIiI+'\x20'+JSON['stringify'](llliiI));break;}}catch(llli1){if(IilIiI['bWqOi'](IilIiI[liiIII(0x1b1,'*SAR')],liiIII(0x17b,'n&Iu')))console[liiIII(0x209,']fpl')](liiIII(0x1c3,'ITcN')+l1lIiI+liiIII(0x233,'w(Q1')+(llli1['message']||llli1));else{const iI1lii=new i1l1l1({'title':IlI1I+liiIII(0x20e,'cjPr'),'columns':[{'title':'Áî®Êà∑','name':IilIiI['Zsuou'],'alignment':IilIiI[liiIII(0x1b4,'utJK')]},{'title':'ÊÄªËÆ°','name':'ie','alignment':IilIiI[liiIII(0x21b,'tRjL')]}]});for(const IilIii of IlI11[liiIII(0x1a4,'dBe9')]){let {user:iI1lil,ie:l1lIi1}=IilIii;iI1lii['addRow']({'user':iI1lil,'ie':l1lIi1>0x0?'+'+l1lIi1:''+l1lIi1});}II11Il[liiIII(0x1e7,'cjPr')]('\x0a'),iI1lii[liiIII(0x1cc,'bWoE')]();}}}async function sendRequest(iIli1l){const li1i11=lllili,i1i1II={'SGmeu':li1i11(0x1f6,'gRN&'),'lkdha':'https://bean.m.jd.com/beanDetail/detail.json','mUBAu':li1i11(0x175,'JS$9'),'FHEHP':li1i11(0x17a,'gRN&'),'MiyEu':'application/x-www-form-urlencoded','lGWNZ':li1i11(0x206,'IsXo'),'PpPjc':'Content-Type','EFabd':function(IiI1l,illlII){return IiI1l<illlII;},'EmrSS':function(iIII11,IiI1i){return iIII11>IiI1i;},'XchKD':function(llll1,lil11l){return llll1===lil11l;},'KnQWk':function(i1i1Il,I1lIl1,lil11i){return i1i1Il(I1lIl1,lil11i);},'HKyew':'WMaDO'};if($['runEnd']||$['outFlag'])return;let liiIIl='',iil1iI=null,IlIllI=null,il1i1I=i1i1II['SGmeu'];switch(iIli1l){case li1i11(0x1d7,'IsXo'):liiIIl=i1i1II[li1i11(0x1b7,'YcHs')],IlIllI={'page':$[li1i11(0x19f,'cjPr')]};break;default:console['log']('‚ùå\x20Êú™Áü•ËØ∑Ê±Ç\x20'+iIli1l);return;}const lI1li1={'url':liiIIl,'method':il1i1I,'headers':{'Accept':i1i1II[li1i11(0x20a,'B3aO')],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':i1i1II[li1i11(0x191,'6dxt')],'Connection':li1i11(0x1c7,'bWoE'),'Content-Type':i1i1II[li1i11(0x198,'YcHs')],'J-E-H':$[li1i11(0x17d,'0a!W')],'J-E-C':$[li1i11(0x1a7,'NHKz')],'Cookie':cookie,'Sec-Fetch-Dest':'empty','Sec-Fetch-Mode':i1i1II[li1i11(0x1f3,'&Y2o')],'Sec-Fetch-Site':li1i11(0x1d5,']fpl'),'User-Agent':$['UA']},'params':IlIllI,'data':iil1iI,'timeout':0x7530};il1i1I===i1i1II[li1i11(0x23f,'7Gpu')]&&(delete lI1li1[li1i11(0x232,'w(Q1')],delete lI1li1[li1i11(0x204,'IA8g')][i1i1II[li1i11(0x171,'n&Iu')]]);const iI11II=0x1;let iIII1I=0x0,ilil1i=null,IlIIi=![];while(i1i1II[li1i11(0x1af,'LQcW')](iIII1I,iI11II)){i1i1II[li1i11(0x1c0,'L[O[')](iIII1I,0x0)&&await $[li1i11(0x23b,'B&qo')](0x3e8);const IlIIl=await common[li1i11(0x20d,'B&qo')](lI1li1);if(!IlIIl[li1i11(0x1f1,'UYAq')]){ilil1i=li1i11(0x1e3,']fpl')+iIli1l+'\x20ËØ∑Ê±ÇÂ§±Ë¥•\x20‚ûú\x20'+IlIIl[li1i11(0x1d1,'r1xu')],iIII1I++;IlIIl[li1i11(0x1a2,'Umab')]&&i1i1II['XchKD'](IlIIl[li1i11(0x1f7,'J145')],0x193)&&($[li1i11(0x1cf,'6dxt')]=!![]);continue;}if(!IlIIl[li1i11(0x1ba,'dBe9')]){ilil1i=li1i11(0x1a0,'SCA0')+iIli1l+'\x20ËØ∑Ê±ÇÂ§±Ë¥•\x20‚ûú\x20Êó†ÂìçÂ∫îÊï∞ÊçÆ',iIII1I++;continue;}await i1i1II[li1i11(0x197,']fpl')](handleResponse,iIli1l,IlIIl[li1i11(0x1c8,'yEE!')]),IlIIi=![];break;}iIII1I>=iI11II&&(i1i1II['HKyew']==='WMaDO'?(console['log'](ilil1i),IlIIi&&($[li1i11(0x190,'B3aO')]=!![],$[li1i11(0x1ec,'JznC')]&&$[li1i11(0x1e6,'&Y2o')]['fix'](ilil1i))):iillli=I1l1Ii[li1i11(0x1a1,'L[O[')](/ÂèÇÂä†\[/g,'')[li1i11(0x1f0,'I%@*')](/\].*/g,''));}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e), this.log("", `üîî${this.name}, ÂºÄÂßã!`) } isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = ["", "==============üì£Á≥ªÁªüÈÄöÁü•üì£=============="]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t.stack) : this.log("", `‚ùóÔ∏è${this.name}, ÈîôËØØ!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; this.log("", `üîî${this.name}, ÁªìÊùü! üïõ ${s} Áßí`), this.log(), (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
