/*
活动名称：批量店铺签到
活动链接：https://h5.m.jd.com/babelDiy/Zeus/2PAAf74aG3D61qvfKUM5dxUssJQ9/index.html?token=<token>
环境变量：jd_dpqd_tokens // 活动令牌，多个用英文逗号，@，&，换行分割
        jd_dpqd_task_threads // 控制签到并发线程数（正整数），默认1
        jd_dpqd_account_threads // 控制账号并发线程数（正整数），默认1
        jd_dpqd_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认0
        jd_dpqd_max_retry // 签到火爆时的最大重试次数（整数），默认0
        jd_dpqd_prize_notify // 是否推送中奖信息（true/false），默认不推送

此脚本为高并发签到本，需要读取主脚本生成的活动信息缓存，自动过滤无效活动，签到后如有奖品则自动到账


cron:1 1 1 1 *

*/

const $ = new Env('批量店铺签到')
var iｉl='jsjiami.com.v7';const llIIii=iii1II;(function(IIlI1,i1iIli,i1iIll,i1lliI,liI1l1,IllIlI,IiillI){return IIlI1=IIlI1>>0x7,IllIlI='hs',IiillI='hs',function(ili11I,li11l,lliiIl,li11i,lliiIi){const llIIil=iii1II;li11i='tfi',IllIlI=li11i+IllIlI,lliiIi='up',IiillI+=lliiIi,IllIlI=lliiIl(IllIlI),IiillI=lliiIl(IiillI),lliiIl=0x0;const iiIi1I=ili11I();while(!![]&&--i1lliI+li11l){try{li11i=-parseInt(llIIil(0x1ef,'rHe%'))/0x1*(parseInt(llIIil(0x1ba,'s!@]'))/0x2)+parseInt(llIIil(0x2b9,'CUH]'))/0x3*(parseInt(llIIil(0x267,'5pL^'))/0x4)+parseInt(llIIil(0x24d,'*9RH'))/0x5*(parseInt(llIIil(0x27d,'vJY$'))/0x6)+-parseInt(llIIil(0x1fc,'$gKj'))/0x7*(parseInt(llIIil(0x1d5,'aQ28'))/0x8)+-parseInt(llIIil(0x21c,'DK^&'))/0x9+parseInt(llIIil(0x1b6,'5pL^'))/0xa*(parseInt(llIIil(0x2b3,']aE7'))/0xb)+parseInt(llIIil(0x29a,'S7QE'))/0xc*(-parseInt(llIIil(0x259,'htg^'))/0xd);}catch(IllIl1){li11i=lliiIl;}finally{lliiIi=iiIi1I[IllIlI]();if(IIlI1<=i1lliI)lliiIl?liI1l1?li11i=lliiIi:liI1l1=lliiIi:lliiIl=lliiIi;else{if(lliiIl==liI1l1['replace'](/[NlBywkgrtbJuFMGfWYqQOD=]/g,'')){if(li11i===li11l){iiIi1I['un'+IllIlI](lliiIi);break;}iiIi1I[IiillI](lliiIi);}}}}}(i1iIll,i1iIli,function(ll1Ii,ll1Il,iiIi11,ill1II,i1llil,i1llii,l1i1I1){return ll1Il='\x73\x70\x6c\x69\x74',ll1Ii=arguments[0x0],ll1Ii=ll1Ii[ll1Il](''),iiIi11=`\x72\x65\x76\x65\x72\x73\x65`,ll1Ii=ll1Ii[iiIi11]('\x76'),ill1II=`\x6a\x6f\x69\x6e`,(0x16f811,ll1Ii[ill1II](''));});}(0x6180,0x5ff3e,Iii11l,0xc5),Iii11l)&&(iｉl=llIIii(0x200,']aE7'));const jdCookie=require(llIIii(0x271,'%XQ4')),notify=require('./utils/Rebels_sendJDNotify'),common=require(llIIii(0x1d1,'H8iC')),{H5st}=require(llIIii(0x1cc,'htg^'));console[llIIii(0x1e3,'lHbA')](''),console[llIIii(0x1ed,'*9RH')](llIIii(0x269,'YuNq')+$['name']+'变量说明=========='),console[llIIii(0x2a2,'[HV(')]('jd_dpqd_tokens\x20//\x20活动ID，多个用英文逗号分割'),console[llIIii(0x206,'1Ugu')](llIIii(0x239,'$mz)')),console[llIIii(0x1ea,'aQ28')](llIIii(0x292,'ddUI')),console['log'](llIIii(0x2ce,'aQ28')),console[llIIii(0x2a2,'[HV(')](llIIii(0x2d9,'$gKj')+$[llIIii(0x1ee,'JjkL')]+llIIii(0x2cc,'%XQ4')),console['log']('');let tokensList=(process[llIIii(0x1bf,'FKYM')][llIIii(0x20c,'$mz)')]||'')[llIIii(0x23d,'rHe%')](/[,@&|\n]+/g)[llIIii(0x1fd,'ys@v')](Boolean),taskThreads=process['env'][llIIii(0x2c0,'^d3(')]||'1',accountThreads=process['env'][llIIii(0x211,'tHrt')]||'1';const runInterval=process['env'][llIIii(0x2ab,'*9RH')]||'';let signHotMaxRetryTimes=process[llIIii(0x282,'vJY$')]['jd_dpqd_max_retry']||'0';function Iii11l(){const iiIi1i=(function(){return[...[iｉl,'NkjrYsOjDiFBaJmyqiw.ucwoGglmQM.Yvu7kWtbf==','dNfOWRK','WR7dMH5AWPZcHNXL','iCo7W4ZcVa','CCkkfquw','tuxdMa','WONcLvNcR8kTFSosW5JcNLTptXLHW5JdQqGRW6BdKmoqW73dIqefvmoeqmkytWy9W5WrWPZdJNldMfVdGG','qmoLW6GOW5S','jConemkCdxmdWPG','WPZdR2ldG24','lh9ZWOxcIq','wYBdHSosW5O','CSkDba','WQmmlH4Uh3JdGmkGbCo6ha','WQldMe5t','W7tcJaFcHLFcNLy','lcjsW6zN','zmk7WOtdSW','bSoyWPnJWR4','fHpdQmkida','W5JdT8ksW7a','5lMH5PER5BsK566Z','W4i8WOu','B8k5WPC','WOxcOmkJcGW','DSkwlcGUaSoCW5TtWOZdMIC/pqVdPSolhJukW5ZdVdyS5O+s5yU656295yQF5BIW5y6G776w6BI46kYVW78','ECkCbq','u8k4mXJcIW','W7GuW40','l8oMWPzZWOi','WRxcTmkSW7CM','WQ8tWRZcJmoj','WR5jcmoUW4e','WPNdNx3dUg16','rCkeWOBdL08','WQGJWRC2wa','CHhdOG','qmkrxwn9','WPBNR6JLI4/LPQtOT5/VVl8','W7OuW50','WOhdJtm','eYjTW6Dr','WR3cImkClau','WQxdQM7dTexdG8o2W7lcRve','zCo+W5OUW74','W5XQW5ldG8oqW4NcOrzbWQa','fSosW43cHcSpW6/dTvO9u28c','W6vqFtpdUG','WQzzW6ZcNSk6WRFcJuvCWRC','FCkbWRtcVW','k+kCP8oi4P65WQS','WRaDWRu','WOxcMw0+WOW','WPxcUCktqGBdImoAxCk8ja','WOXlfeKy','W64KWQKsW70','WOxcQmo6','B8ojW5WyWOaqW7/cOeRdNfT0vW','ESoFW4OFW6O','WOpcLepcQCklFSocW4C','hSoMf20LW5j/kmo6W6a','WPfpiCogW6C','W5WdW6reW5O','oZBdK8k3dJLBWQxdUSkr','WRxcJSk7W6mL','WOFdGZv+WOu','lmohW511tW','WRyijhS0','WP4Tj8kYvW','p8oyW5BcVfG','WRhcS8k3jqWMbW','W5ZcMMtdTx7cJ8ohW5VdJq','i0e7WQdcQCohWRVdHmo4fG','nSkgW5xcGCk2ocHXoCoT','eSktuX1fWPNdQmkYcG','WOmma8k/Cwe','AmkmWQ7cOW','iSolb8kA','WPxcTKJcJmkl','WQuXkW','WRDQlCoyW63dHW','yCk7W514rL7cTZ3cHSkQ','W4/cOmo4W7pcMCojd8obvSom','Bmk/WP7dTCohW4q','WQJMTl7LI6VLPPtNG6/NIQy','WRiDd34H','WOtcQmo/W5xdG8oWW50','WQ7dNGm','imoxemkwbwG','WP5xfa','WQdcU8kWma','WQNdKKTstCklWPu','WPZINyJcUEITTUAYR+wMI+I1VE++OoAxGUwrQEw6P+AwKEAoGU+/JpcIIPS','W4VcMt7cO3bUl8obs8ot','sCkhdHW','W7bPWQHfWPNcMa','5BIl6zo256sP5yIK8ysDR++5Pa','rCk9WPpdTCoE','WP3dGhG','ptddK8kwtsnB','qmknq2u','oSo1W4i','44cq5OYk56Ek44kd6k2e5yEK6i2M5y2HWRK0CsqlrW','fYzSW6a','DCknyKfh','CSkrpqe2','WP7cUfiNWR0','WOtcLepcRW','bNlcGH3cGW','W4ldUSk/WPBcLmkWWPJdNej2Buvi'],...(function(){return[...['W6NINkDx4PYRW6G','WRxcTMKrWOS','5ywuW7xLJ7NWPAYz','WP0SWORcN8oY','WR7cISo3W5WEth3cKSoqqcZcNmo0W7r9W4eyW74EtmkQWOW6p8kQA8kT5O2e5yU06lwo5yYw5BMF5yYz776A6BIc6k2GW78','WOnicCoMW7C','kmoZWOLU','h8keWRPHW6u','WOXEda','dCohW7fxBq','pokFOSk14P+1WPC','luZdG8oxW7e9WPGK','W4FdV8oyW47dOmo1W4ZdTq','nSo5WOTlWPi','FCodW7idW7NdOmkqkKftAmoSWRKW','W6HaWPrhWR4','iCo7W4ZcVgelAhK','l8o1WOHZWOBcQG','lCobdCkyfM4','W4ZcPSoWW7VcImo2mCoBvG','dCkirG','BsBdNmorW7a','mHRdO8kuca','EUESQ+wkL+AlJUwlPW','z8k/WOtdNSoCW4VcUmozWQKVFZSxuq','hgHOWRNcKmkuWQxdKG','nCo7W5hcQ10','WRvjiNqL','xu/dIg4','WOq4WRNcKSo2W6JcOYHHWRriW6nfv8kxkvpdHWNdMCkthCkkgW','dXf7wfC','dSoNlmk3mW','WOpcU8k/zGu','u8kAda','W4mGWOu','ecP4W7P3oMqwWOtdLJxdMGRcLSkB','foEUMUwiNUAiKowkTa','WQDkWP8wW7BcIqSKWQVcRa','6lE/5y2G5Psg5PADWOxWOBIu','ve/dHwu','W6JMTydLIilLPiVNG6FNI5O','lmo7W5n5','W5NdMCkVW43cIG','yCkPWPFdU3CZqKSYjW','WOJcNSkxW5mMDG','sCkJfqu8','WRFdTSklWRa','W4n2vaJdRW','5yA757Im5yYl8lU3Rq','nmk2rZ1j','WPNcS182WR8qWQ8qE8k/WQ8LWO9PimowCfVcH1K','gZjRW7LL','5REe5yQt5BgI5PYk5B2S5Awx','WQ4zkvC3wq','WQXTm3qy','W5HpWPxcOSoF','WOynemkFCvdcJLGSzmoHySk8jmk8W7Cjj2Lk','gCo7g3O','W6xdNCkEW40VrvtcR8oH','WPVcO3qIWRXBW6rGBSkUWRvGWR0ZiSoao1NcJeFcHmkXWOxdPa','BCkHWRtdH1u','WRevif4axN7dImoRbCoHnN7cHCkY','5O6F56AU57MK5P2doaZdPwVdKSoYWPdcJrVcSW','s1tdIIzh','W74lWOFdJ8kCWPBcJ3T8WQpcVCogWPe/WOFdScj0W6hdMwSWlJxcHq/dOt7OHOJLRRBKUOVOVldOO4xPLPRPMAJMLOtPL74','hqZdO8k2cG','o8oZWO4','W5hdVCklW6FcQW','eXTUW41D','WO7cT8kYW6qx','WQvAW6ZdRmkUWQhcMfDS','W4HpWRfGWPW','n8kBWOnjW4zl','WP/dI3RdKMv7c8oHFmoYWPuHWQJcLa','nCo1W4hcRq','xN4IWQKjAdvhW5ZcIa','WPNdThNdTMq','gSkXWRDuW70','FSkrWRm','WPNdPmkmW4RcNKFcG8kLC8k0WQ7cTmkMW7VdSCk4htO0WRC','WOKkcmkozMe','W4HHWRlcQa','hEEUI+wjI+AjQEwjL+++Ja','WQaVWO3cJSoG','qmkgWOe','WRyzWPq6BW','4P6Zg+IfOUACJoI+VoIJKoMaQ+wlOEs7RoMuPUITGmkX','5lQ76lo28lMrNa','WRBdLKncFmkqWOVdLW','WPZdUWldKxG','W6NINkDx4P2IW6JNRPhLIkhLPlhOTBHe','WPbHf8oZW7W','rCk8W73cULDAkhFcUCos','WOZdOw/dS3W','77+68yQQQW','WPSgf8ko','ECknWRFcSG','WPddPSkSWPZdOW','h8o3f3SxW4HejmoDW7hcPHm','vmktWPNdM2G','mSo5WO0','W71WEW','tCkpps/cIG','WQZdLLO','aSoldCklb2GzW4fQwmopWO0','a8kbBHDe','FG/dPmoiW7q','W4RcTZZcMfG','ECkrWR/cOXuqn2xdVSoV','W7SFWRFdVCkj','WOZdGsddSf7cKmoXW7JdIMy'],...(function(){return['xSkOzvbU','W5/cKM3cRXJcJ8oXW7hdLe3dNG','WPjihW','aZvnr2FdMSk9tG','W7jWEdq','cSoXW7L0ymoMuSkGW71xeW','WPGcdCko','WPtdI2ddTN58','WPtcKKdcRW','WOlcRmkguq','W7LIWRa','WPVcL8kPpsW','W6NcNblcPh3cLL0usmkGddO','C8orW6Wl','WPlcRmo6W4e','WPVcR3myWQG','5Rsf5yQi5BwE57Ue57QS5P+G','CSoiW7ezW6ZdVSkQFuXF','CWVdOCo/W5SQWPO','44o06lED5yYo','EUkFICkh4P6swa','bJrj','W7VcMSo1W4pcMG','DCorWPHAW5TpWR3dT1hdUK99BmkiFCkX','wmkCWRxcVve','WRqzkvqMq1VdGa','C8k9iXqU','E8opWRFdJmoIAW','tJxcSslcUfvoWRJdJCo1W47dL8k+bGdcPmkXb1DNW4RcTSko','WRRcU8kP','eczR','tvtdJxKlW4ZdVZu8uG','WQvCW67dNSkTWP/cPKzn','CCorW4C','WPtdHvLWqG','yCkBWQa','W4eGWPu','WRVcOCo4W6aE','W5hdRmkwW6xdLHFcLSkKsSkSWQdcQ8kMWRNcOSo0bq','dmkotW','W5aFW75SW7q','wSkhye1d','wCkuWO0Tka','CmkVWOpdUG','WPhcTw7cGSkl','ASoiW5SDWOPbWOxcJgJdJuW','CbhdSG','B+kCImkx4P2qjq','WP7cUCo6W5ddLCk5WOBcI2manuqXBe5gmf7cQmkj','W77cH8oFW4RcHq','CSocW6OfW6O','ndRdKa','W7/dKmk2W7tcQG','W7GaWR8','5l+45OcB5yIv8y20JU+4Ka','dYX4','WOiZWOe','WRmpWR8v','BCkUWOPwWPVcKqvB','DdhdKCoZW4C','W53dS8kAW6xdL1BcNSkOwSkL','tCkJjIO2','WOX/lhKK','WROEWOCFrG','W7TPWRi','WQxdNHLjWRZcHW','WR7cNCohW5yEdcNdVCkc','WQRdO8khWQFdKqNdQef+WQ8','WQtdMh1vta','WP7dIshdL0NcLmoG','cWXBW55e','uNyRW5n2e3SjWPa','WOdcPmkErbFdIq','bCkgvru','WOHAevq4W7ubWRq','W74iW4biW63cSqXiWP7cPmoSWOVcKhK','WQ0jm3yVuhu','j8oSemkVaa','5RsS5yIy5Pw45PsI','WQ3dVSklWRa','gSoZh2SfW4Hfja','WOJcLmkE','WPvPpuGj','WPBdU2FdOeu','wSklwq','W5xdUSocaGJdGCocFCkAoW','BmoEWPZdSCoUDMyTy8k1','DSkwlcGUaSoCW5TtWOldGIKooG','W4vHW7VcRSozWOlcVq','WQ4hWRuEt8kEndJcI8kydfxcUM4s','i8oldmktb2Cd','l8odrNSKjSowW4zXWOO','ASk+WQ/dTSodW53cTCoOWPS4FsaxtmoVzSkGWP1taCoNW6ddOW','cmkjvrfzWP/dOSkGi8kaz8o7wSouWQZcQ0RcHSkbW5O','4PMpq+IgJUwTOos5IUI/G+IIP+MxGUMBJoAxT+MxRoIUG+E+OEMvLEISVa','WOT3kKu/','s8kgWPVdLwHF','W6WkW55mW50','4PU7W57OHiFLRRtKU7VOV7pOOOlPLkZPMPFMLANPLzlORQBNVA7PL6lOR40','4PUbW4FOR5BLHlZLRRhKURFLVytOPzxNM7FNJz3LOO3LJzNPH7dLKONLHyROVi7OOyROH7xMN57VVQ8','WP7dIJ3dV1W','WOFcPmom','WRxdHhnWua','WOFcP8ohWQpdJq/dH8kQAmkuWRFcJCkH','W7isW4zvW6NcRG','gs5nshFdJCkR','vetdS28pW47dJam4sceEWO82yvpdMSkEWPBcIa','WQ3cQSkXW7GJ'];}())];}())];}());Iii11l=function(){return iiIi1i;};return Iii11l();};function iii1II(_0x1427b8,_0x3d5f81){const _0x344ad0=Iii11l();return iii1II=function(_0x4bc669,_0x5bec13){_0x4bc669=_0x4bc669-0x19b;let _0x837ddd=_0x344ad0[_0x4bc669];if(iii1II['cfeNWg']===undefined){var _0x5a4af7=function(_0x507d0b){const _0x4a1c79='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x5b0922='',_0x475057='';for(let _0x3edf0d=0x0,_0x498962,_0x5e78f2,_0xbb1a0e=0x0;_0x5e78f2=_0x507d0b['charAt'](_0xbb1a0e++);~_0x5e78f2&&(_0x498962=_0x3edf0d%0x4?_0x498962*0x40+_0x5e78f2:_0x5e78f2,_0x3edf0d++%0x4)?_0x5b0922+=String['fromCharCode'](0xff&_0x498962>>(-0x2*_0x3edf0d&0x6)):0x0){_0x5e78f2=_0x4a1c79['indexOf'](_0x5e78f2);}for(let _0x4adb39=0x0,_0x15ac77=_0x5b0922['length'];_0x4adb39<_0x15ac77;_0x4adb39++){_0x475057+='%'+('00'+_0x5b0922['charCodeAt'](_0x4adb39)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x475057);};const _0x9672e9=function(_0x1e791e,_0x446c75){let _0x36fb39=[],_0x3d5d5e=0x0,_0x466f13,_0x54b353='';_0x1e791e=_0x5a4af7(_0x1e791e);let _0x445808;for(_0x445808=0x0;_0x445808<0x100;_0x445808++){_0x36fb39[_0x445808]=_0x445808;}for(_0x445808=0x0;_0x445808<0x100;_0x445808++){_0x3d5d5e=(_0x3d5d5e+_0x36fb39[_0x445808]+_0x446c75['charCodeAt'](_0x445808%_0x446c75['length']))%0x100,_0x466f13=_0x36fb39[_0x445808],_0x36fb39[_0x445808]=_0x36fb39[_0x3d5d5e],_0x36fb39[_0x3d5d5e]=_0x466f13;}_0x445808=0x0,_0x3d5d5e=0x0;for(let _0xd27a78=0x0;_0xd27a78<_0x1e791e['length'];_0xd27a78++){_0x445808=(_0x445808+0x1)%0x100,_0x3d5d5e=(_0x3d5d5e+_0x36fb39[_0x445808])%0x100,_0x466f13=_0x36fb39[_0x445808],_0x36fb39[_0x445808]=_0x36fb39[_0x3d5d5e],_0x36fb39[_0x3d5d5e]=_0x466f13,_0x54b353+=String['fromCharCode'](_0x1e791e['charCodeAt'](_0xd27a78)^_0x36fb39[(_0x36fb39[_0x445808]+_0x36fb39[_0x3d5d5e])%0x100]);}return _0x54b353;};iii1II['vMMBdI']=_0x9672e9,_0x1427b8=arguments,iii1II['cfeNWg']=!![];}const _0x16b003=_0x344ad0[0x0],_0x27b272=_0x4bc669+_0x16b003,_0x1566b0=_0x1427b8[_0x27b272];return!_0x1566b0?(iii1II['geYExr']===undefined&&(iii1II['geYExr']=!![]),_0x837ddd=iii1II['vMMBdI'](_0x837ddd,_0x5bec13),_0x1427b8[_0x27b272]=_0x837ddd):_0x837ddd=_0x1566b0,_0x837ddd;},iii1II(_0x1427b8,_0x3d5f81);}const isNotify=process[llIIii(0x23a,'$mz)')][llIIii(0x21f,']YJ@')]===llIIii(0x27e,'1Vkv');let TokensMap=new Map();const signStatusMessages={0x1805c007:llIIii(0x235,'Cdc1'),0x181688ea:'已达到签到上限',0x1843da61:llIIii(0x2c2,'ASs0'),0x1843da62:llIIii(0x1c5,']YJ@'),0x184253c7:'账号无效',0x192:llIIii(0x203,'@H5$'),'-1':'服务器繁忙'},invalidTokensMap=new Map(),CacheFile=__dirname+llIIii(0x2dd,'DK^&'),cookiesArr=Object['keys'](jdCookie)[llIIii(0x1ad,'yk7p')](lI1lii=>jdCookie[lI1lii])[llIIii(0x21d,']aE7')](Iiili1=>Iiili1);!cookiesArr[0x0]&&($[llIIii(0x236,'@2l&')]($[llIIii(0x2bc,'7p]e')],llIIii(0x286,'tHrt')),process[llIIii(0x26c,'AZIf')](0x1));!(async()=>{const Ii1I1i=llIIii,Iil1l1={'ncNMh':function(i1i11I,il1iIl){return i1i11I(il1iIl);},'aZwgn':function(iii1ii,il1iIi){return iii1ii(il1iIi);},'DaGjs':Ii1I1i(0x217,'htg^'),'pBTtj':function(iii1il,II11li,I1l11i,iIIiiI,liiI1i,ililIi){return iii1il(II11li,I1l11i,iIIiiI,liiI1i,ililIi);},'tOabv':function(lilIIl,ililIl){return lilIIl>ililIl;},'OaMrS':function(liiI1l,i1l1II){return liiI1l<=i1l1II;},'QNOXc':function(i1ill,I1l11l){return i1ill===I1l11l;},'WUpBC':'JBAuI','kwFJc':'⚠\x20请先定义必要的环境变量后再运行脚本！','AOZzO':function(lilIIi,i1l1Il){return lilIIi!==i1l1Il;},'UiIVq':Ii1I1i(0x293,'zOz6'),'BSFKh':function(llIli,i1i11l){return llIli(i1i11l);},'nIeio':Ii1I1i(0x1d7,'yk7p'),'Nskxf':Ii1I1i(0x25a,'@H5$')};try{notify[Ii1I1i(0x270,'zOz6')]({'title':$['name']});if(Iil1l1['tOabv'](tokensList['length'],0x0))tokensList=[...new Set(tokensList[Ii1I1i(0x2de,'LXV1')](II11l1=>II11l1!==''))];if(Iil1l1[Ii1I1i(0x230,'$gKj')](tokensList['length'],0x0)){if(Iil1l1[Ii1I1i(0x1b1,'R3G4')](Ii1I1i(0x2ca,'89GB'),Iil1l1[Ii1I1i(0x227,'@H5$')])){console[Ii1I1i(0x23c,']aE7')](Iil1l1[Ii1I1i(0x19b,'JjkL')]);return;}else I1lIl1===0x0&&(i1i1Ii(lllii),iI11Ii());}const i1i11i=require('fs');if(i1i11i[Ii1I1i(0x1c6,'@H5$')](CacheFile)){if(Iil1l1[Ii1I1i(0x23f,'*9RH')](Iil1l1['UiIVq'],Iil1l1['UiIVq'])){const iii1iI=Iil1l1[Ii1I1i(0x289,'$mz)')](iliIII,iIIl1i);I1lllI=iii1iI>0x0?iii1iI:0x0;}else{const llIll=i1i11i[Ii1I1i(0x1a8,'*kbE')](CacheFile,'utf-8'),il1iII=JSON['parse'](llIll);for(const iilli in il1iII){TokensMap[Ii1I1i(0x258,'S7QE')](iilli,il1iII[iilli]);}}}$['waitTime']=null;if(runInterval)try{const IlllIl=Iil1l1[Ii1I1i(0x297,'%XQ4')](parseInt,runInterval);if(IlllIl>=0x0){if(Iil1l1['QNOXc']('iqrXx',Iil1l1['nIeio'])){const lI1IIi=Iil1l1[Ii1I1i(0x2da,'vJY$')](IlI1l,lilIil);lI1IIi>=0x0&&(i1l1li['waitTime']=lI1IIi);}else $[Ii1I1i(0x1ff,'ASs0')]=IlllIl;}}catch{console['log'](Ii1I1i(0x213,'LXV1'));}try{const I1l11I=Iil1l1[Ii1I1i(0x1e6,'1E&Y')](parseInt,signHotMaxRetryTimes);signHotMaxRetryTimes=Iil1l1[Ii1I1i(0x1a3,'vJY$')](I1l11I,0x0)?I1l11I:0x0;}catch{signHotMaxRetryTimes=0x3;}try{const Ilil1l=parseInt(taskThreads);if(Ilil1l>0x0&&Ilil1l!==0x1){if('oRfyT'!==Ii1I1i(0x19f,'5pL^'))taskThreads=Ilil1l;else{lI11I1[Ii1I1i(0x285,'CUH]')](''+l1il11+IiI1+Ii1I1i(0x298,'lHbA')+liI['time']('HH:mm:ss.S',illIli['now']())+'\x20签到失败（'+l11i1l['msg']+'）');if(!lIII11[IiilI[Ii1I1i(0x2b7,'%XQ4')]])ii1I11=!![];}}}catch{taskThreads=0x1;}try{const iilll=Iil1l1[Ii1I1i(0x1de,'j1#p')](parseInt,accountThreads);Iil1l1[Ii1I1i(0x24f,'[)E*')](iilll,0x0)&&Iil1l1[Ii1I1i(0x2db,'htg^')](iilll,0x1)&&(Ii1I1i(0x28a,'^d3(')===Iil1l1[Ii1I1i(0x2e1,'*9RH')]?accountThreads=iilll:lilIii[Ii1I1i(0x1d8,'AZIf')](Iil1l1['DaGjs']));}catch{accountThreads=0x1;}await common[Ii1I1i(0x25b,'59$j')](accountThreads,cookiesArr,async(IlllIi,iIIiil)=>{const llIIlI=Ii1I1i;await Iil1l1['pBTtj'](concMain,taskThreads,tokensList,IlllIi,iIIiil,Main);if($[llIIlI(0x222,'TK[X')])await $[llIIlI(0x1bb,'LXV1')]($[llIIlI(0x2a7,'WE8X')]);}),isNotify&&notify[Ii1I1i(0x20b,'YuNq')]()&&await notify['push']();}catch(i1l1Ii){console['log'](Ii1I1i(0x19c,'ASs0')+i1l1Ii);}})()[llIIii(0x2a8,'CUH]')](I1iIIi=>$[llIIii(0x26b,'LXV1')](I1iIIi))[llIIii(0x266,'g7dM')](()=>$[llIIii(0x28b,'59$j')]());async function Main(I1iIIl,lI1IIl){const Ii1I1l=llIIii,i1ilI={'uMeFT':'123','FaiCD':function(I1l111,IIii1l){return I1l111>IIii1l;},'jLKPE':function(I1iIII,liiI11){return I1iIII!==liiI11;},'ZGsPl':'⚠\x20自定义运行间隔时长设置错误','DUYQJ':'【提示】请先获取Cookie','jREhe':function(ililI1,IIii1i){return ililI1===IIii1i;},'IQHLq':'mmULe','ttcKw':Ii1I1l(0x262,'%XQ4'),'pXqYi':Ii1I1l(0x264,'LXV1'),'paHNb':Ii1I1l(0x24c,'@H5$'),'sDTYH':Ii1I1l(0x1b3,'aQ28'),'nMHaC':Ii1I1l(0x1eb,'59$j'),'oOPXp':Ii1I1l(0x1a2,'AZIf'),'qXIhG':'ZNiyH','gUoTH':function(i1ili,Iiill1){return i1ili===Iiill1;},'DMlIx':Ii1I1l(0x28c,'H8iC'),'LEdFE':Ii1I1l(0x254,'^d3('),'hODJp':function(I1iII1,lilII1){return I1iII1===lilII1;},'ICcpA':function(iill1,iii1l1){return iill1===iii1l1;},'JrZTI':Ii1I1l(0x214,'ASs0'),'joqQd':Ii1I1l(0x22b,'lHbA'),'RiHYc':'EwmQi','fHsPb':'4da33','gktrQ':function(IIliIl,II11ll){return IIliIl(II11ll);},'pzFVB':Ii1I1l(0x2c9,'^d3('),'FodKL':Ii1I1l(0x1f7,'ddUI'),'EoKVw':'zh-CN,zh-Hans;q=0.9','EYnUY':Ii1I1l(0x1f1,'DK^&'),'IqJIF':Ii1I1l(0x22d,'7dy^'),'uowCh':Ii1I1l(0x1e5,'S7QE'),'AkKBS':Ii1I1l(0x20d,'Cdc1'),'sinft':'GET','nUiqO':function(liiI1I,ililII){return liiI1I===ililII;},'DzWOW':Ii1I1l(0x233,'dlhL'),'tBRPO':function(lI1II1,i1ilII,iIIii1){return lI1II1(i1ilII,iIIii1);},'QQUfh':'YLoPl','SVKTt':function(IllIi1,lilIII){return IllIi1===lilIII;},'Egcgm':function(Ii1ilI,II11i1){return Ii1ilI!==II11i1;},'OCOHQ':Ii1I1l(0x1af,'[HV('),'tsYFx':Ii1I1l(0x1cb,'1E&Y'),'HxNeV':function(iliIil,iliIii){return iliIil!==iliIii;},'LMpyL':Ii1I1l(0x216,']aE7'),'gpUoJ':Ii1I1l(0x238,'g7dM'),'AiLAl':Ii1I1l(0x1df,'s!@]'),'GYDhr':Ii1I1l(0x20e,'JjkL')},{title:iii1lI,UA:i1ilI1,cookie:Iiilii,message:Iil1li}=lI1IIl;if(invalidTokensMap[Ii1I1l(0x2d0,'rHe%')](I1iIIl))return;let Iiilil='',Iil1ll='';const iillI=TokensMap[Ii1I1l(0x1f5,'FKYM')](I1iIIl);if(iillI)Iiilil=iillI[Ii1I1l(0x1ce,'7dy^')],Iil1ll=iillI[Ii1I1l(0x25f,'dlhL')];else try{if(i1ilI[Ii1I1l(0x1f2,'$mz)')]!==i1ilI['QQUfh']){const il1li=Iillii[Ii1I1l(0x1a9,'89GB')](':');if(!il1li[0x0]||!il1li[0x1]||!il1li[0x2])return;IlI1iI=il1li[0x0];if(Iillil[Ii1I1l(0x273,'tHrt')]!==0x20||!/^[A-Z0-9]*$/[Ii1I1l(0x1a5,'LXV1')](l1lIli))return;lIIiiI=il1li[0x1],II1lil=il1li[0x2],il1li[0x2]['startsWith'](Ii1I1l(0x21a,'DK^&'))&&il1li[0x2]['length']===0x8&&!il1li[0x1][Ii1I1l(0x272,'1E&Y')](i1ilI['uMeFT'])&&(lliil1=il1li[0x2],IIllI=il1li[0x1]),lIIii1[Ii1I1l(0x2dc,'AZIf')](ll1i1,{'index':null,'venderId':IIli1i,'shopName':'','activityId':I1iIi1,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}else{if(I1iIIl['includes'](':')&&i1ilI[Ii1I1l(0x2c4,'ASs0')](I1iIIl[Ii1I1l(0x256,'ASs0')](':')[Ii1I1l(0x1f6,'TK[X')],0x3)){const iIIill=I1iIIl[Ii1I1l(0x291,'*9RH')](':');if(!iIIill[0x0]||!iIIill[0x1]||!iIIill[0x2])return;I1iIIl=iIIill[0x0];if(I1iIIl[Ii1I1l(0x2ba,'1Ugu')]!==0x20||!/^[A-Z0-9]*$/[Ii1I1l(0x287,'$gKj')](I1iIIl))return;Iil1ll=iIIill[0x1],Iiilil=iIIill[0x2];if(iIIill[0x2][Ii1I1l(0x255,'ys@v')](i1ilI[Ii1I1l(0x243,'JjkL')])&&iIIill[0x2][Ii1I1l(0x2c3,'7dy^')]===0x8&&!iIIill[0x1][Ii1I1l(0x25c,'*kbE')]('123')){if('GXffK'!=='XfNkh')Iil1ll=iIIill[0x2],Iiilil=iIIill[0x1];else{const Ill11i=Ii1iII(l1i11I);i1ilI['FaiCD'](Ill11i,0x0)&&i1ilI[Ii1I1l(0x1b5,'j1#p')](Ill11i,0x1)&&(Ii1iI1=Ill11i);}}TokensMap[Ii1I1l(0x296,'ASs0')](I1iIIl,{'index':null,'venderId':Iiilil,'shopName':'','activityId':Iil1ll,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}catch(iilil){if(i1ilI[Ii1I1l(0x2a4,'dlhL')](Ii1I1l(0x1e9,'DK^&'),'IFIaP'))return;else lllii1['log'](liIli),liIll&&(iI1liI[Ii1I1l(0x1c7,'lHbA')]=!![]);}if(!Iiilil||!Iil1ll){if(i1ilI[Ii1I1l(0x281,'tHrt')](i1ilI[Ii1I1l(0x2ad,'vUrK')],i1ilI[Ii1I1l(0x21b,'yk7p')]))return;else iIII1i(iil1i1),il1i11();}const lI1III=Math['floor'](Date[Ii1I1l(0x1aa,'rHe%')]()/0x3e8)+'000';if(invalidTokensMap[Ii1I1l(0x277,'TK[X')](I1iIIl))return;let IIliIi=![];await i1il1(Ii1I1l(0x2cb,'7dy^'));if($[Ii1I1l(0x205,'*kbE')])await $[Ii1I1l(0x223,'CUH]')]($[Ii1I1l(0x29e,'CUH]')]);if(IIliIi&&i1ilI['FaiCD'](signHotMaxRetryTimes,0x0)){if(i1ilI[Ii1I1l(0x25e,']aE7')](i1ilI[Ii1I1l(0x1c0,'g7dM')],Ii1I1l(0x2c1,'$gKj')))return;else{let lill1l=0x0;while(lill1l<signHotMaxRetryTimes){if(i1ilI['jLKPE'](i1ilI[Ii1I1l(0x1f4,'JjkL')],i1ilI[Ii1I1l(0x288,'j1#p')])){if(invalidTokensMap[Ii1I1l(0x2e2,'89GB')](I1iIIl))return;await i1il1(i1ilI[Ii1I1l(0x2cf,'dlhL')]);if($[Ii1I1l(0x19e,'yk7p')])await $[Ii1I1l(0x27a,'g7dM')]($['waitTime']);if(!IIliIi)break;lill1l++;}else IIII1I=0x1;}}}function IllIiI(i1iiI,i1ilIl){const IIlIl=Ii1I1l,llI11I={'eoWcd':i1ilI['DUYQJ']};try{switch(i1iiI){case'signCollectGift':if(i1ilI[IIlIl(0x207,'ASs0')](i1ilIl[IIlIl(0x2d8,'CUH]')],0xc8)&&i1ilIl[IIlIl(0x21e,'^Y)#')]===!![]){const Il1i11=[];if(i1ilIl[IIlIl(0x231,'tHrt')]&&i1ilI['FaiCD'](i1ilIl[IIlIl(0x1be,'ys@v')][IIlIl(0x2d6,'htg^')],0x0)){if(i1ilI[IIlIl(0x2d3,'1Ugu')](i1ilI[IIlIl(0x220,'1Ugu')],i1ilI[IIlIl(0x263,'7dy^')]))for(const iii1li of i1ilIl[IIlIl(0x1fe,'[HV(')]){if(i1ilI[IIlIl(0x2d2,'$gKj')]===IIlIl(0x1e1,'59$j')){const Iil1i1=iii1li?.[IIlIl(0x2a1,'1E&Y')]||[];for(const IIii11 of Iil1i1){if(i1ilI[IIlIl(0x24a,'g7dM')](i1ilI[IIlIl(0x275,'7dy^')],i1ilI[IIlIl(0x1f3,'ASs0')]))try{const Ii1il1=I1iIil(lI1Iil);Ii1il1>=0x0&&(i1l1I['waitTime']=Ii1il1);}catch{IiilIl[IIlIl(0x1ca,'^Y)#')](i1ilI['ZGsPl']);}else{const iii1ll=IIii11?.[IIlIl(0x1a6,'AZIf')],IIliI1=IIii11?.[IIlIl(0x228,'vUrK')];let il1lI='';switch(iii1ll){case 0x1:il1lI=i1ilI[IIlIl(0x23b,'1Vkv')];break;case 0x4:il1lI=IIliI1+IIlIl(0x19d,'@H5$');break;case 0x6:il1lI=IIliI1+IIlIl(0x280,'FKYM');break;case 0x9:console[IIlIl(0x2b0,'@2l&')](IIii11),il1lI=(IIii11?.[IIlIl(0x212,'[HV(')][0x0]?.[IIlIl(0x1fa,'5pL^')]||'未知')+'🎁';break;case 0xa:il1lI=IIliI1+IIlIl(0x290,'@H5$');break;case 0xe:il1lI=IIliI1/0x64+IIlIl(0x2be,'vJY$');break;default:il1lI='未知奖品（'+iii1ll+'）';}Il1i11[IIlIl(0x1e0,'tHrt')](il1lI);}}}else llliiI[IIlIl(0x22f,'R3G4')]=!![];}else I1llil=0x1;}if(i1ilI[IIlIl(0x28f,'^d3(')](Il1i11[IIlIl(0x2a0,'vUrK')],0x0)){console['log'](''+iii1lI+I1iIIl+'\x20➜\x20✅\x20'+$['time'](i1ilI[IIlIl(0x2b8,'DK^&')],Date[IIlIl(0x22c,'$mz)')]())+IIlIl(0x2e0,'1Vkv')+Il1i11[IIlIl(0x2b5,']YJ@')]('，')+'）');for(const lI1l1l of Il1i11){Iil1li['insert'](lI1l1l);}}else i1ilI['jLKPE'](IIlIl(0x232,'rHe%'),i1ilI[IIlIl(0x2a3,'lHbA')])?i1IIl=I1lll1:console[IIlIl(0x1ab,'[)E*')](''+iii1lI+I1iIIl+IIlIl(0x252,'YuNq')+$[IIlIl(0x2c7,'*kbE')](i1ilI[IIlIl(0x1da,'ddUI')],Date[IIlIl(0x1d9,'@2l&')]())+IIlIl(0x2b2,'j1#p'));IIliIi=![];}else{if(i1ilI[IIlIl(0x240,'zOz6')](i1ilIl[IIlIl(0x1b9,'[)E*')],0xc8)){if(i1ilI['gUoTH'](i1ilI['DMlIx'],i1ilI['LEdFE']))lilIl1[IIlIl(0x253,'JjkL')](i1l1ii[IIlIl(0x234,'DK^&')],llI11I[IIlIl(0x1f9,'yk7p')]),i1l1[IIlIl(0x221,'WE8X')](0x1);else{const Ill11I=signStatusMessages[i1ilIl[IIlIl(0x2df,'Cdc1')]]||i1ilIl['code']+IIlIl(0x274,'zOz6');[0x1843da61,0x1843da62,0x192]['includes'](i1ilIl['code'])&&invalidTokensMap['set'](I1iIIl,!![]),console['log'](''+iii1lI+I1iIIl+IIlIl(0x1e4,'%XQ4')+$[IIlIl(0x1bd,'59$j')](i1ilI[IIlIl(0x1cf,'$mz)')],Date[IIlIl(0x1e8,'dlhL')]())+'\x20签到失败（'+Ill11I+'）'),(i1ilI[IIlIl(0x1fb,'$gKj')](i1ilIl['code'],'-1')||i1ilI[IIlIl(0x1f0,'lHbA')](i1ilIl[IIlIl(0x22e,'yk7p')],-0x1))&&(IIliIi=!![]);}}else{if(i1ilIl['msg']){console[IIlIl(0x248,'5pL^')](''+iii1lI+I1iIIl+'\x20➜\x20❌\x20'+$[IIlIl(0x204,'7p]e')]('HH:mm:ss.S',Date[IIlIl(0x244,'lHbA')]())+'\x20签到失败（'+i1ilIl[IIlIl(0x1b7,'ASs0')]+'）');if(!signStatusMessages[i1ilIl[IIlIl(0x2aa,']YJ@')]])IIliIi=!![];}else i1ilI['ICcpA'](IIlIl(0x1c4,'^d3('),'JqVvb')?IiiIii['log'](''+IIlll+liliI+IIlIl(0x28e,'TK[X')+ll1lI['time'](IIlIl(0x268,'WE8X'),l1iii[IIlIl(0x247,']aE7')]())+IIlIl(0x2a5,'dlhL')):console['log'](''+iii1lI+I1iIIl+IIlIl(0x1a0,'TK[X')+$['time'](IIlIl(0x24b,'5pL^'),Date[IIlIl(0x2af,'1Vkv')]())+IIlIl(0x237,'%XQ4')+JSON[IIlIl(0x26a,'[HV(')](i1ilIl));}}break;}}catch(IliIIi){IIlIl(0x29d,'FKYM')===i1ilI[IIlIl(0x2a9,'ASs0')]?console['log']('❌\x20未能正确处理\x20'+i1iiI+'\x20请求响应\x20'+(IliIIi['message']||IliIIi)):i1III=0x3;}}async function i1il1(i1iil){const ili11l=Ii1I1l;if(i1ilI[ili11l(0x29b,'rHe%')]!==i1ilI[ili11l(0x2bd,'[)E*')]){let llI11l='',I1llIl=null,i1iii=null,I1llIi='GET',IIii1I={},llI11i={};switch(i1iil){case ili11l(0x2b1,'$gKj'):llI11i={'appId':i1ilI[ili11l(0x202,'vUrK')],'functionId':ili11l(0x226,'59$j'),'appid':ili11l(0x2c6,'LXV1'),'body':{'token':I1iIIl,'venderId':parseInt(Iiilil)||'','activityId':i1ilI[ili11l(0x2d1,'DK^&')](parseInt,Iil1ll)||'','type':0x38,'actionType':0x7},'version':ili11l(0x26f,'[)E*'),'ua':i1ilI1},IIii1I=await H5st[ili11l(0x283,'dlhL')](llI11i),llI11l=i1ilI[ili11l(0x1ac,'1Vkv')],i1iii=Object['assign']({},IIii1I['paramsData'],{'jsonp':i1ilI['FodKL']});break;}const i1iIi1={'t':lI1III,'loginType':'2'};I1llIl&&Object[ili11l(0x278,'vUrK')](I1llIl,i1iIi1);i1iii&&(ili11l(0x25d,'zOz6')!=='EJbxc'?II1ll1['assign'](IlI1Ii,i11I1I):Object[ili11l(0x241,'vJY$')](i1iii,i1iIi1));const l1l1il={'url':llI11l,'method':I1llIi,'headers':{'Accept':ili11l(0x1d6,'htg^'),'Accept-Encoding':ili11l(0x1db,'DK^&'),'Accept-Language':i1ilI['EoKVw'],'Connection':i1ilI['EYnUY'],'Content-Type':ili11l(0x1b2,'AZIf'),'Host':i1ilI[ili11l(0x1a7,'7p]e')],'Referer':i1ilI['uowCh'],'Sec-Fetch-Dest':ili11l(0x29f,'rHe%'),'Sec-Fetch-Mode':i1ilI[ili11l(0x257,'@2l&')],'Sec-Fetch-Site':'same-origin','User-Agent':i1ilI1,'Cookie':Iiilii},'params':i1iii,'data':I1llIl,'timeout':0x7530};i1ilI['gUoTH'](I1llIi,i1ilI['sinft'])&&(delete l1l1il[ili11l(0x1c2,'@H5$')],delete l1l1il['headers']['Content-Type']);const I11i1I=0x3;let iliIi1=0x0,l1l1ii=null,Il1i1I=![];while(iliIi1<I11i1I){const iIIilI=await common[ili11l(0x276,'S7QE')](l1l1il);if(!iIIilI['success']){if(i1ilI[ili11l(0x208,'vJY$')](i1ilI['DzWOW'],i1ilI[ili11l(0x295,'htg^')])){l1l1ii=''+iii1lI+I1iIIl+'\x20➜\x20请求失败（'+iIIilI[ili11l(0x1e7,'@H5$')]+ili11l(0x1a4,'^d3('),iliIi1++;continue;}else{if(II1liI[ili11l(0x1b8,'^Y)#')](':')&&IlI1i1['split'](':')[ili11l(0x27f,'FKYM')]===0x3){const Ii1iil=iillli['split'](':');if(!Ii1iil[0x0]||!Ii1iil[0x1]||!Ii1iil[0x2])return;I1l1Ii=Ii1iil[0x0];if(I1i11i[ili11l(0x215,'89GB')]!==0x20||!/^[A-Z0-9]*$/[ili11l(0x294,'rHe%')](I1i11l))return;llIlii=Ii1iil[0x1],llIlil=Ii1iil[0x2],Ii1iil[0x2][ili11l(0x1d4,']YJ@')]('123')&&i1ilI['jREhe'](Ii1iil[0x2][ili11l(0x1bc,'vJY$')],0x8)&&!Ii1iil[0x1][ili11l(0x1f8,'7p]e')](i1ilI[ili11l(0x26e,'59$j')])&&(IlI1ii=Ii1iil[0x2],lIIiii=Ii1iil[0x1]),IiiIll['set'](IIlii,{'index':null,'venderId':IlI1il,'shopName':'','activityId':IilliI,'startTime':'','endTime':'','isValid':!![],'rules':[],'minLevel':null,'maxLevel':null});}}}if(!iIIilI['data']){l1l1ii=''+iii1lI+I1iIIl+ili11l(0x27c,'1E&Y'),iliIi1++;continue;}i1ilI['tBRPO'](IllIiI,i1iil,iIIilI['data']),Il1i1I=![];break;}iliIi1>=I11i1I&&(console[ili11l(0x1ec,'$gKj')](l1l1ii),Il1i1I&&('FcHcp'!==ili11l(0x242,'89GB')?$[ili11l(0x201,'7dy^')]=!![]:(I1iIli=lI1Ill['venderId'],lI1Ili=IliilI[ili11l(0x1b4,'5pL^')])));}else l1i111[ili11l(0x23c,']aE7')]('❌\x20脚本运行遇到了错误\x0a'+iliII1);}}async function concMain(II11ii=0x1,Iil1iI,II11il,iIIil1,IlllII){const Iiilll=llIIii,I1il1I={'QOUCt':function(Il1i1i,iIIili,Ii1iiI){return Il1i1i(iIIili,Ii1iiI);},'GPBCg':function(Ilil1I,iliIiI){return Ilil1I>iliIiI;},'evMVw':function(II11iI,Il1i1l){return II11iI(Il1i1l);},'QuBWw':function(Iil1ii,lill1I){return Iil1ii===lill1I;},'zuxiL':function(Ii1ii1,Ilil11){return Ii1ii1===Ilil11;},'GvrHM':Iiilll(0x1ae,'vUrK'),'UQfIb':function(i1ii1,il1ii){return i1ii1!==il1ii;},'dAlRd':'zOtER','iBstm':Iiilll(0x1b0,'lHbA'),'DdTMx':Iiilll(0x224,'$mz)'),'QJySm':Iiilll(0x1d0,'YuNq'),'sACoi':Iiilll(0x20f,'vUrK'),'TCwBq':function(llI111,i1iIiI){return llI111<i1iIiI;},'eCAZB':'xJKzl','RrrEA':function(IlllI1,I1il11){return IlllI1(I1il11);}},II111=Iil1iI[Iiilll(0x1d2,'g7dM')](lI1l11=>lI1l11),lI1l1I=I1il1I['evMVw'](decodeURIComponent,common[Iiilll(0x2d7,'vJY$')](II11il,I1il1I['QJySm'])),lill11=Iiilll(0x1c8,'1Ugu')+iIIil1+'】'+lI1l1I+'：',liI1i1=await common[Iiilll(0x2a6,'tHrt')](II11il);if(!liI1i1&&typeof liI1i1===I1il1I[Iiilll(0x2c5,'Cdc1')]){console['log'](lill11+Iiilll(0x2b4,'7p]e'));return;}const I11i11=notify['create'](iIIil1,lI1l1I),I1llII=common['genUA'](lI1l1I),Iil1il={'cookie':II11il,'index':iIIil1,'title':lill11,'UA':I1llII,'message':I11i11};let I11i1i=0x0;async function l1l1iI(II11l){const Iiilli=Iiilll;await I1il1I[Iiilli(0x23e,'1Ugu')](IlllII,II11l,Iil1il),I11i1i--,I1llI1();}async function I1llI1(){const IIlIi=Iiilll;if(IIlIi(0x245,'j1#p')==='tuscV')while(I11i1i<II11ii&&I1il1I['GPBCg'](II111[IIlIi(0x2c3,'7dy^')],0x0)){const II11i=II111[IIlIi(0x219,'5pL^')]();I11i1i++,await I1il1I['evMVw'](l1l1iI,II11i);}else{IiilI1['log'](IIlIi(0x218,'[HV('));return;}}const I11i1l=Math[Iiilll(0x1dc,'[HV(')](II111[Iiilll(0x2ba,'1Ugu')],II11ii),il1il=[];for(let liI1ii=0x0;I1il1I[Iiilll(0x2d5,'FKYM')](liI1ii,I11i1l);liI1ii++){if('aPhsf'===I1il1I['eCAZB']){const iI1Iil=Iiil1[iiilli['code']]||l1iIIl[Iiilll(0x26d,'vUrK')]+Iiilll(0x2b6,']aE7');[0x1843da61,0x1843da62,0x192]['includes'](iiilll[Iiilll(0x22e,'yk7p')])&&iIli11[Iiilll(0x1d3,'$gKj')](Iiiil,!![]),l11i11[Iiilll(0x1e3,'lHbA')](''+IilIl1+lIII1l+Iiilll(0x1c9,'dlhL')+l1iIIi[Iiilll(0x284,'j1#p')]('HH:mm:ss.S',lilIi[Iiilll(0x209,'j1#p')]())+Iiilll(0x246,'DK^&')+iI1Iil+'）'),(I1il1I[Iiilll(0x260,'1Ugu')](l1l11I['code'],'-1')||I1il1I['zuxiL'](lilIl[Iiilll(0x2df,'Cdc1')],-0x1))&&(Iiiii=!![]);}else{const il1iI=II111['shift']();I11i1i++,il1il[Iiilll(0x251,'AZIf')](I1il1I['RrrEA'](l1l1iI,il1iI));}}await Promise[Iiilll(0x279,'ASs0')](il1il),I1llI1(),await new Promise(i1iIii=>{const ili11i=Iiilll,i1iIil={'eJUsE':I1il1I[ili11i(0x22a,'WE8X')],'gUkTt':function(liI1il,llIlIi){const iiIi1l=ili11i;return I1il1I[iiIi1l(0x2bb,'$mz)')](liI1il,llIlIi);},'Uhrjk':I1il1I[ili11i(0x229,'vJY$')],'NxBPM':I1il1I[ili11i(0x265,'CUH]')],'wDtSO':function(llIlIl,II11I){const li11I=ili11i;return I1il1I[li11I(0x2ae,'ys@v')](llIlIl,II11I);}};if(I1il1I[ili11i(0x2bf,'[HV(')](I1il1I[ili11i(0x1dd,']aE7')],I1il1I[ili11i(0x1a1,'zOz6')]))delete l1llIl[ili11i(0x1c3,'S7QE')],delete ii1I1l[ili11i(0x27b,'yk7p')][i1iIil[ili11i(0x2ac,'^Y)#')]];else{const lIIiIi=setInterval(()=>{const lliiII=ili11i;if(I11i1i===0x0){if(i1iIil['gUkTt'](i1iIil[lliiII(0x1cd,'AZIf')],i1iIil[lliiII(0x261,'TK[X')]))i1iIil['wDtSO'](clearInterval,lIIiIi),i1iIii();else{const iI1Il1=II11Ii[lliiII(0x1c1,'R3G4')](II11Il,lliiII(0x2cd,']YJ@')),i1iIl1=IlI11[lliiII(0x249,'$gKj')](iI1Il1);for(const i1lli1 in i1iIl1){lilIlI[lliiII(0x225,']YJ@')](i1lli1,i1iIl1[i1lli1]);}}}},0x64);}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
