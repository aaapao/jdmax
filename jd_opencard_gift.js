/*
活动名称：开卡入会礼包
活动链接：https://shopmember.m.jd.com/shopcard/?venderId=<商家ID>
环境变量：jd_opencard_venderId // 商家ID，多个用英文逗号分割
        jd_opencard_min_beans // 最低豆子入会阈值（整数），默认1，奖品数量大于或等于此值时才会入会，填0表示不限制
        jd_opencard_task_threads // 控制店铺并发线程数（正整数），默认1，最大3
        jd_opencard_account_threads // 控制账号并发线程数（正整数），默认1，最大3
        jd_opencard_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认1500
        jd_opencard_notify // 是否推送中奖信息（true/false），默认不推送

目前官方设置的入会礼包奖品只有优惠券、京豆、店铺积分、红包

cron:1 1 1 1 *

*/

const $ = new Env('开卡入会礼包')
var iｉl='jsjiami.com.v7';const I11i11=iii1II;(function(i1iIi1,l1l1il,I11i1I,iliIi1,l1l1ii,Il1i1I,Ii1iii){return i1iIi1=i1iIi1>>0x5,Il1i1I='hs',Ii1iii='hs',function(iIIilI,il1l1,Ii1iil,Ilil1i,iili1){const liI1i1=iii1II;Ilil1i='tfi',Il1i1I=Ilil1i+Il1i1I,iili1='up',Ii1iii+=iili1,Il1i1I=Ii1iil(Il1i1I),Ii1iii=Ii1iil(Ii1iii),Ii1iil=0x0;const II11ii=iIIilI();while(!![]&&--iliIi1+il1l1){try{Ilil1i=-parseInt(liI1i1(0x98,'8)1a'))/0x1+-parseInt(liI1i1(0x97,'bloe'))/0x2*(parseInt(liI1i1(0x18b,'aMlT'))/0x3)+parseInt(liI1i1(0x129,'#Ivx'))/0x4+-parseInt(liI1i1(0x151,'3F8Z'))/0x5+-parseInt(liI1i1(0x1ad,'%c0u'))/0x6+parseInt(liI1i1(0x134,'l8TC'))/0x7*(parseInt(liI1i1(0x162,'BIP4'))/0x8)+-parseInt(liI1i1(0x8c,'cSL!'))/0x9*(-parseInt(liI1i1(0xc4,'8)1a'))/0xa);}catch(Iil1iI){Ilil1i=Ii1iil;}finally{iili1=II11ii[Il1i1I]();if(i1iIi1<=iliIi1)Ii1iil?l1l1ii?Ilil1i=iili1:l1l1ii=iili1:Ii1iil=iili1;else{if(Ii1iil==l1l1ii['replace'](/[JbVPdlRKDxOtuWHyqXUS=]/g,'')){if(Ilil1i===il1l1){II11ii['un'+Il1i1I](iili1);break;}II11ii[Ii1iii](iili1);}}}}}(I11i1I,l1l1il,function(II11il,iIIil1,IlllII,I1il1I,II111,lI1l1I,lill11){return iIIil1='\x73\x70\x6c\x69\x74',II11il=arguments[0x0],II11il=II11il[iIIil1](''),IlllII=`\x72\x65\x76\x65\x72\x73\x65`,II11il=II11il[IlllII]('\x76'),I1il1I=`\x6a\x6f\x69\x6e`,(0x16d6b0,II11il[I1il1I](''));});}(0x1840,0x7c1f6,Iii11l,0xc4),Iii11l)&&(iｉl=0xc4);function iii1II(_0x5a0a2d,_0x55ae77){const _0xbdea12=Iii11l();return iii1II=function(_0x35bf47,_0x2b9f06){_0x35bf47=_0x35bf47-0x7a;let _0x3712dd=_0xbdea12[_0x35bf47];if(iii1II['hWBsbl']===undefined){var _0x585e59=function(_0xba2563){const _0x2e1d92='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x168001='',_0x541b3d='';for(let _0x4b5f84=0x0,_0x3b7660,_0x4b60ec,_0x1c7d97=0x0;_0x4b60ec=_0xba2563['charAt'](_0x1c7d97++);~_0x4b60ec&&(_0x3b7660=_0x4b5f84%0x4?_0x3b7660*0x40+_0x4b60ec:_0x4b60ec,_0x4b5f84++%0x4)?_0x168001+=String['fromCharCode'](0xff&_0x3b7660>>(-0x2*_0x4b5f84&0x6)):0x0){_0x4b60ec=_0x2e1d92['indexOf'](_0x4b60ec);}for(let _0x205a1b=0x0,_0x1c2320=_0x168001['length'];_0x205a1b<_0x1c2320;_0x205a1b++){_0x541b3d+='%'+('00'+_0x168001['charCodeAt'](_0x205a1b)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x541b3d);};const _0x2d818a=function(_0x4e1dc,_0x43eaab){let _0x4398d9=[],_0x462f61=0x0,_0x429cee,_0x157cc8='';_0x4e1dc=_0x585e59(_0x4e1dc);let _0x5c78b1;for(_0x5c78b1=0x0;_0x5c78b1<0x100;_0x5c78b1++){_0x4398d9[_0x5c78b1]=_0x5c78b1;}for(_0x5c78b1=0x0;_0x5c78b1<0x100;_0x5c78b1++){_0x462f61=(_0x462f61+_0x4398d9[_0x5c78b1]+_0x43eaab['charCodeAt'](_0x5c78b1%_0x43eaab['length']))%0x100,_0x429cee=_0x4398d9[_0x5c78b1],_0x4398d9[_0x5c78b1]=_0x4398d9[_0x462f61],_0x4398d9[_0x462f61]=_0x429cee;}_0x5c78b1=0x0,_0x462f61=0x0;for(let _0x1c28a2=0x0;_0x1c28a2<_0x4e1dc['length'];_0x1c28a2++){_0x5c78b1=(_0x5c78b1+0x1)%0x100,_0x462f61=(_0x462f61+_0x4398d9[_0x5c78b1])%0x100,_0x429cee=_0x4398d9[_0x5c78b1],_0x4398d9[_0x5c78b1]=_0x4398d9[_0x462f61],_0x4398d9[_0x462f61]=_0x429cee,_0x157cc8+=String['fromCharCode'](_0x4e1dc['charCodeAt'](_0x1c28a2)^_0x4398d9[(_0x4398d9[_0x5c78b1]+_0x4398d9[_0x462f61])%0x100]);}return _0x157cc8;};iii1II['XnruHR']=_0x2d818a,_0x5a0a2d=arguments,iii1II['hWBsbl']=!![];}const _0x4564cf=_0xbdea12[0x0],_0x253c62=_0x35bf47+_0x4564cf,_0x2dc9f8=_0x5a0a2d[_0x253c62];return!_0x2dc9f8?(iii1II['iDBmbn']===undefined&&(iii1II['iDBmbn']=!![]),_0x3712dd=iii1II['XnruHR'](_0x3712dd,_0x2b9f06),_0x5a0a2d[_0x253c62]=_0x3712dd):_0x3712dd=_0x2dc9f8,_0x3712dd;},iii1II(_0x5a0a2d,_0x55ae77);}const jdCookie=require(I11i11(0xb3,'q7!V')),notify=require(I11i11(0x161,'Q434')),common=require(I11i11(0xc2,'oqS&')),{H5st}=require(I11i11(0x109,'GhQ]'));let idList=(process[I11i11(0xfd,'HTij')]['jd_opencard_venderId']||'')[I11i11(0xc0,'#Ivx')](','),minBeans=process[I11i11(0xc9,'TPTf')][I11i11(0xd6,'l#vu')]||'2',taskThreads=process[I11i11(0xc1,'#Ivx')][I11i11(0x13a,'9$%#')]||'1',accountThreads=process[I11i11(0x10f,'cFdZ')][I11i11(0x147,'A9Rq')]||'1';const runInterval=process[I11i11(0x12f,'BIP4')][I11i11(0x8f,'ptw@')]||I11i11(0x13f,'ZKJ1'),isNotify=process[I11i11(0xfb,'l#vu')][I11i11(0x101,'3F8Z')]===I11i11(0xed,'1N9#'),invalidIdsMap=new Map(),maxThreads=0x3,cookiesArr=Object['keys'](jdCookie)['map'](llI1Il=>jdCookie[llI1Il])[I11i11(0xcf,'l67w')](ii1iii=>ii1iii);!cookiesArr[0x0]&&($[I11i11(0x15e,'bloe')]($[I11i11(0x18e,'bloe')],I11i11(0x18d,'oqS&')),process[I11i11(0x7c,'*Vb3')](0x1));!(async()=>{const I1llII=I11i11,i11iil={'HTdsI':function(Ill1i,ii1iil){return Ill1i>ii1iil;},'gMfXR':function(lllI1l,i11iii){return lllI1l(i11iii);},'nAyQD':'⚠\x20自定义运行间隔时长设置错误','fKKcM':function(llI1Ii,lllI1i){return llI1Ii>lllI1i;},'RahOf':I1llII(0x16f,'u&9@'),'GbuXc':'MwfSW','KFoHX':function(li1i1l,II1i1){return li1i1l!==II1i1;},'ZlsGr':I1llII(0x7e,'3F8Z'),'AIvmZ':function(lI1lll,iIiII){return lI1lll===iIiII;},'dhoMP':function(iil1lI,iiiliI){return iil1lI>iiiliI;},'zeGhe':I1llII(0x85,'NdR&'),'lagKn':function(li1i1I,illIii){return li1i1I(illIii);},'vKOmf':function(ii1il1,lI1llI){return ii1il1>=lI1llI;},'lgpVU':'ueRiF','xoTHP':function(illIil,Ill1I){return illIil>Ill1I;},'oAyZx':'JCKiL'};try{notify[I1llII(0x150,'F0iE')]({'title':$['name']});if(i11iil[I1llII(0x179,'bcPw')](idList['length'],0x0))idList=[...new Set(idList['filter'](i11iiI=>i11iiI!==''))];if(idList[I1llII(0xb7,'5PJ@')]<=0x0){if(I1llII(0xab,'lot[')!=='BbkTv'){console[I1llII(0x168,'Q434')](i11iil[I1llII(0xd3,'n%ak')]);return;}else Iliiii=i1illI;}$[I1llII(0x1b0,'BIP4')]=null;if(runInterval)try{if(I1llII(0x119,'jR@5')===i11iil['GbuXc']){const lllI1I=parseInt(runInterval);lllI1I>=0x0&&($[I1llII(0x149,'A9Rq')]=lllI1I);}else{const IlIlii=I1iIiI(li1I1);i11iil[I1llII(0x9e,'BIP4')](IlIlii,0x0)&&IlIlii!==0x1&&(lilIii=IlIlii);}}catch{console['log'](i11iil[I1llII(0x1a8,'5PJ@')]);}try{const i1l1i1=parseInt(taskThreads);i1l1i1>0x0&&i1l1i1!==0x1&&(taskThreads=i1l1i1);}catch{if(i11iil[I1llII(0x115,'F0iE')]('irbQo',i11iil[I1llII(0x1a2,'ptw@')])){const iiillI=lil[I1llII(0x9c,'A9Rq')]();IllI1l++,i11I1i['push'](IillIl(iiillI));}else taskThreads=0x1;}taskThreads=Math['min'](taskThreads,maxThreads);try{if(i11iil['AIvmZ']('InXnu','InXnu')){const l1l111=parseInt(accountThreads);i11iil[I1llII(0xbe,'Q434')](l1l111,0x0)&&l1l111!==0x1&&(accountThreads=l1l111);}else try{const llI1I1=i11iil[I1llII(0x173,'jR@5')](II1Il,lilIlI);llI1I1>=0x0&&(iii1I1['waitTime']=llI1I1);}catch{i1ii[I1llII(0xfa,'uIWl')](i11iil[I1llII(0xef,'#9K]')]);}}catch{i11iil['AIvmZ'](I1llII(0x96,'8)1a'),i11iil[I1llII(0x14a,'fH#t')])?Iil1I1[I1llII(0x192,'fsUb')](I1llII(0x1ae,'9$%#')+Ii1iII):accountThreads=0x1;}accountThreads=Math['min'](accountThreads,maxThreads);try{const lIli1I=i11iil['lagKn'](parseInt,minBeans);i11iil[I1llII(0x1aa,'8wPG')](lIli1I,0x0)&&(i11iil[I1llII(0x12b,'ptw@')](I1llII(0x144,'ptw@'),i11iil[I1llII(0x1a7,'#9K]')])?minBeans=lIli1I:IlI1l=lilIil);}catch{minBeans=0xa;}$[I1llII(0xe1,'bloe')]=[],$['showPrintId']=![];if(i11iil[I1llII(0x130,'PJav')](idList[I1llII(0x17c,'n%ak')],0x1)){if(i11iil[I1llII(0x90,'u&9@')]!=='pjVLQ')$[I1llII(0x13e,'Wjj1')]=!![];else{IiilI1[I1llII(0x89,'l#vu')]('⚠\x20请先定义必要的环境变量后再运行脚本！');return;}}await common[I1llII(0xaa,'8nkm')](accountThreads,cookiesArr,async(I1lIll,I1lIli)=>{const Iil1il=I1llII;await concMain(taskThreads,idList,I1lIll,I1lIli,Main);if($['waitTime'])await $[Iil1il(0x10c,'cFdZ')]($[Iil1il(0x11f,'u&9@')]);}),isNotify&&notify['getMessage']()&&await notify[I1llII(0x19d,'$xrn')]();}catch(II1ii){console[I1llII(0xad,'PJav')]('❌\x20脚本运行遇到了错误\x0a'+II1ii);}})()[I11i11(0xdd,'lot[')](IIIIII=>$[I11i11(0x84,'l#vu')](IIIIII))[I11i11(0xcd,'BIP4')](()=>$['done']());function Iii11l(){const II11iI=(function(){return[...[iｉl,'UKSjOUVsjSiuWabJmi.cqPJomRD.v7xxtlyXbOdH==','W51cna','bmo7WOiCW4q','h8oEWOCKWOa','W6RcQWHKjSkGqZNdPCkLWQCxW6K7','d8k/m8kuW7zirCkgr0FcVLdcU1C','ESkmW63cMmoU','b1vcaCoL','W7aQWP0','W5yeW5GmWRrX','W4OZba','W4y+WOiJtbddJbTFoCozlCokcqjHBSkkorxdM2ldJeWWW5aR','W4VdS1dcMLRcT8k0xCksDmkFWPa','mmotBSkmnW','5lUY6lo/8kQaLa','WQb7tubQBmk5WOSZWOzTW7dcSSk+','WR0HDmoumSkCtsPpEur7g2xcT3NdRfer','W7/cQW9sjCk7','WOr+WPa','Ac18bmkYgCkckwzjWROEfG','WPxdGcZdGW','ymo1WP1ZWRvHW6FcRSoSWQ5SuSkaWRO','W5lcHwJdNmkD','zSoxWRLgrmotBmkmlCkwm8kG','psDp','4PIeWRxORPJLHQdLRQJKUQ/LVOBOPk/NMzhNJBhLO6VLJl7PHytLKzpLH7dOV7NOO6BOHidMN53VVB8','cmkfWOZcV8oI','W6xcM3pdTCk9DZeTj8kjW7aWg8oU','g8oXWQexWOddMCoyrYZdHmkVW5RcNCoYEcSAsG','WQaep8oplG','5yUP5ywI5BQx6zk05l6q5zo15OUV5yM0','mIDemqPCycVdQ3HO','W6NcRWHg','AdbQw2JdLaqJeCoHWQFcVSkgW7a','W4NcIfNdVmk6','WPmcpSoMW5K','bCo8WR0uWQZdM8oq','gqrFW4j1fHOLAGiUaNfI','FmkJW5tcPCoRWPi','AIH3aCkHg8kfwIy','W6tcOaHco8kQwYtdS8kHWRmxW7Ksi0mj','W6vzW6TVyG','WRtcUtVdISkC','W6ldON3cOSoaoCkX','W68WWRNdGHhcTmkxW7xcSmkao8oCoG3cJ8kiWQy','t1OCWPeU','WQvvw1v1','FCoRDCkaWRJcOXpdOCkPtmoqwLDo','W4/dUCoLW6WdWQrb','57MQ5y+J8kQfTq','WRRcMCkRaSkUW6dcKG','WRRcNGuO','W65SW501W4K','W7RdJ8oOt8kXW4NcVNnQWQ4','5Roj5P6q5yAR5l2956EX5y65','44gb5O6y56ss44gm6k6y5yw36i6J5y66W4fXC0ldPSoD','W7m4WPCP','WOBdNtFdIJnEwmkqWRS','dsDdW7LG','DgHAW5OW','WPRdGdK','k289wq','WPVcOXFdIGZdSmkpq8kotCkgWR1fmq','fSoMeSkhA8ob','r8o9WOPOWO4','aCkJWR0tv8kyWO3cNmor','W5fBW6Tpuxu','6AcB5y6p5yAF5l2w56sb5y+l5OIc5yIs776a6iYo5B+F77Yh','WQ3cRtZdM8oM','W7/ML6ZPHzNKV5hKU6ZORB3NVyRNMldPMOdLGiO','gmk/WQCmqmkI','d8o9eSkk','smoQWOD1Dq','lSoKW6vybSoV','6kY/5RkK5AwN6lA3776C5PAv5zo85BIX5PAI5O+Y77+m8kg5Vq','W6ddS8oVj8o7','hmoxCmkNeq','FZXT','WOmHgmoPW4a','h8oZWRaAia','5Roi5P6C5yAs5l2H56wl5y2K','a3JdRCk/ka','W6pcJWv2dq','e8oJWOGiW4BdTLXCW5eKh0BcKwa','WRrzBeLB','kmojnCkBwG','WPbGA095','tCoJACogWQCjnSkOzu3cLxxcSG','4PYpW5ROHz/MNyxOVjJOOiFPG7/LIQtKUBJPLllORQBcKW','W7JdLCkJW6ft','WOJcQW3dNtFdRmkmuG','f2OHzmog','WOZLLz3LR6KLs++9Ra','rSoIW6qSwCk0WOJcLCo2','fSk0WQa6wSk5WPZcVSoeCg/dHmkGWQ4MorZcJIG','eKjUWQDw','t1nHW4FcSW','igL0k8o4W4JcJmkFWOVdQSo9zmkW','os1joqPnzW','57Qt5y6U8lcfTG','CMLbW58OWOr6W4PUaYScW43cHq','C8oPWODaWRm','tSotWOTzWRu','W7O8WO4','FNrgW4W0W4S7WPfnfJ4oW5ddJmkUg38MbSoxW6O','gbvfW5u','WRJcHYtdS8o5bNxdHmkMW70','tmokWRvJtG'],...(function(){return[...['5BUH6zo356Ez5yUv8jcFQo+5Jq','W75+BCkJt8kazYGmxwXf','osLBdr1wEHJdI3b6rSoq','W5BWTkU1','q8ooW43dPmk+iq','smkvDSotyJu','rH1xyfu','fSodkCobzbldQ8k2WQ0','W6/dUg3cNq','5BE+5PM25lYd5zgG','smkvDG','eSk+WRGfv8k1WPJcTSoDC3u','umoAl0H1W4SUgqZdL8oFW61MrG','WQtcPCo9WPepWP4tW63dGCo1W5zr','FCkJW4NcSCo+WP1p','WOhcTCkxdSkb','lmoFxmkpe8omtSkxWOK7W7FdPmkLW5yEWQuZlmkgWP3cP8kwBeddGtBcM3u','W4VdLbBcSKO','WOrRtLrq','WRVcQSk8E8k6WOpdSSkf','772a8j6QQW','fCk1oG','vSoUWQz7WP4','W5edW50+WPa','WQ9GW4iBsCkBAmoKW7q','WODAWP9FW7qXWQ7cUgtdSCkfeG','EgvxW5GvWPr5W5fleHOeW4ZcICkTgHGRdCoFWR0','cmo5WPS','W6u9bXv8','WRNcGX8MWOO','umoskeO','WRFcNGddMIO','W5bFW7u','WR7dOCkQWPpdGHtcQb5XeNJcGrxdTtuXWOhcHW','6lwV5y+W5PEG5Psg','WPHNWO4zxa','W41kW5Pythm','b8o2iK7dHa','W4S5eb5jDHa','a3ddUG','WPKMeG','zMHBW6FcOq','WRNdT0GuCmo9FtRdJ8k+WQ0/','fmoLWPuiW73dOKfd','W4DMW4KCW50','W7tdOCk3W4TCW4m','xCoeW5K','6kY/5Rk+5AER6lws77+d','5lIr6lg48l6aNG','qSoUW5BdTSkk','WQ93ufDCySkO','E0fWW4GU','WQG0nqHmgv3dRSklWRe','W73cUW9p','WQNdOmk2WOddOatcQWHhfeNcIqNdTG','jpc4Myu','W6hcQXjapCkN','WQ7cLCkI','WOv0WOqKrbVdMG','dNZdQCkac8obxSklW50AWPRcRa','W77cPHnxjmkQrtldPCkbWPKwW4m0lM8EW4ZdKW','5l+q5Ocg5yMU8lU1HE+5UG','W7yRWR7dJW','WOX5WPGADq','vmo8WRP4za','ASoYASkkWQm','FmoSCa','F2DDkqztz0pdKhT+tmoJW4VdHNxcI8oVaezzWPpdRG','W7ldT8kWW6OoW54U','WOHzWPSSWQ1NWRdcJ24','A0TBW7/cVgrtWOJcPmo6W5CoWQlcI0hdLMDQWR7cTSk/WP3dGxvSWP5bw8o1WORdPSk3W4y','smoQC8ofWR0i','g8k1mSkCW7zBAa','m8o4dSk3va','uCoDkG','W6Xrcdz+','5yUp5yw65BIk6zct5l2N5zoW5AsB6lExWQNWP6Mb','ygz1W50q','WPNcOWRdIa/dQCky','W4FdRSoKW7aq','WQVdOmkPWPFdQGm','W4xdOWVcJKm','W7KWWOKVuSk7Fmo5W5/dJtP0WPVcPG','W41lW7za','qSkNW5lcJCo5','W6tdUx3cGCoEpCkLW47cKG4KW7iHWOCis8oW','WOJcS8k8','tSkEtSo5ycldV8k8WRrwgCohbSoMW7GbDCoCWQnwvq','W4jCkSoKWQ4','wmoCoW','6iYX5y6i5BMA6zgD5l255zkj54Ms5Oka5B+b5BUQBG','ec98W7n/','hmoUwCkqcG','WQhdPSkI','W7vfW7WLW7y','W61XW5z8','W4VdSSoLW7OqWRC','5BUO6zgY56Ao5yUK8jMCQU+6Gq','W7m8WP8OB8kRF8oIW7RdNaTYWPRcQNzbW4ftcJ0O','h8k0WRenymkZWOhcNSocCeldQmkUWRCRftVcHIncW74','5BQh6zc856wv5yUe8lI9PE+4Pq','W5WVW5KJWQG','nxCRfJC','W7lcH2pdTCk3CsW','eSoTeSkrEmosW6S','6i6d5y2L5BUl6zor5lYa5zoM54U25OgS5B2D5BQBWO0','WPGSbSo2W7u9oW','6lAa5y6R5PAd5PsL','WOKvA8kRW7S'],...(function(){return['5Rc85P2q5yAF5l2w56sb5y+l','pxv1kW','WOtdII3dHtPK','av7dPmk4oq','g8oLWPW','W5bEimo6WQtdUG','eqHcW4zUcW','WQnkyK9V','BCoYWP11WQHG','W4qjWQ0QBW','W47dUGBcHG','W6ZcL3pdPCkZztO','W4fmiCoYWQ7dP0tdMmkUwq','m8ouWOHHWQbgW7K','bCo6WPa','qCkuzW','5yMT5yES5BMs6zcz5l6v5zcP5OUv5yUJ','C25e','b8o/WOGd','WQJdPmk1WPFdTG','5lYP5Ogl5yQg8lUeG++5MG','t8oCWOHDuCoyDSocgmkDj8kAWQ10WOrUhXO','WQtdP8k2WOBdVqu','WP1JWOmZCG','WP3cIdhdGmoC','WPxcGCkl','W7jnW7SLW7hdUKVdSuVdTqPKa1m','WQddRmk2WPddRHBcOa','gGHy','WQHXWRJdKWRcVCkxWQ7cKCk3lmovmZlcUCkZ','5Rw95yIt5AsP54kl54ML776L6k+x56U55zoM5yEe6k2g','W4ddQSkZW6LQ','kCoypfy','W6RdSN3cT8oen8kMW7xcKtK/W50LWRKfCCoQpXS','6lwz5y2/5PAb5PAQ','o8oxiW','W59inSo3WPhdSw3dLSkSxCkPWQ50xSkEW5SbWOxcVmo6oq','WQlcNWiWWO1/W5lcRsRcHYtcRCoAcCk7umoOW6ZdPmkD','c3BdRSkkeSoDrmkgW5OxWPJcOmotxq','WQ3XJlUx','lCkvmG','WOpcOdNdMSom','5l2H5Oc65yML8yovGU+4Tq','W5e9cHL8EbHG','DCoTyq','WOO+p8oekW','z0LxW6OE','6Ago5yYQ5yA/5l2T56E35y6w5AEx6lsAi/giMz4','CCoBfN98','W6BcHI5Xoa','W5hdTmo5W68VWQzjW5BdRuqwt8k9dw8tBmkv','W5pdTaBcNgBcJY7dIW','W4WyWQBdIGy','W4ddM2hcOmoz','n3uP','W6nSjXPB','zwHBW5OZ','4P6gW4VMNzZOGR3MRP3NOkVLP7NNKOr6','W75qW7W2W63cTqRcQNNdSreJabRdGmktoWBdO8kfAeLxENdcJCkDr8oKlwu+dmkM','5BQJ6zgj5l2g5zgZ5lIx5A+M5z2OtFcOQiG','WPRcOqZdGaq','kSk1nmowW67dPK3dN8kmECoxyu4','AFcEQQS','b8oYDCknoq','W6xdTNRcTmoEmCk4W47cQdi3W7eB','W5LxW7zlsMJcO8kDW63dU0W1yrK','WRxWU7MV','WPRcPbi','sCoeW6RdMCkc','p3m9uSoKxmoCf0n8WR0Ld8om','W7uBWQxdGdS','ACoMCCkgWO0','WPxdLmoWW64yWPfu','W4i9fWW','zSozWRnkDq','ymoAhw9/','i3rVimo6W7i','WQpcRCkYFCkC','kCkEgGBcUc7dLSo3WP9zlCogsejkWRNdGWqUW7SYWOJdQZC','m8kilbpcRqxdMCo5WPS','5l2C5zoJ5y2I77+6','CCkLW47cQ8oPWPnEWRmZna','aSk5WRSEySkKWOxcN8oaxgu','WRZcOJNdLa','l1raWObu','WOJcNCkjzmkj','WQhdRmkRWOtdUXK','WPWNaCoGW6y/lw3cO13cHYRcP8okWOZcN8oK','m8oEuCkjjq','k8o4WQOFWPK','5yU75yw/5BUz6zol5l6r5zgX5OQI5yU877YC6i6/5B2y772w','WQdcJYKVWO4GWPpdOtVcLcFcL8oirmkYw8kZW6hdV8kVWPBdQSoGaCkCW4pdSG','rd4eW6ThlrPRW79n','WR3cIH80WQOSWPddPW','ix8jwCoU','g19MWPrP','emoujG','EK5yW7S','WRr0se9o','tCo0AG','WQVcItJdTmo9eG','hmkpW6mgeSknsmolf8kdcSkv','WPJcMt4RWRO','d8oFCCkeia','56wl5y6p5AAT5zkQW7i','kSkjbbVcUIRdGq','W612mdv+'];}())];}())];}());Iii11l=function(){return II11iI;};return Iii11l();};async function Main(lillII,ii1ilI){const I11i1i=I11i11,lI1ll1={'eKjIr':function(illIi1){return illIi1();},'SSZaF':I11i1i(0xa1,'1N9#'),'LpoUM':function(ii1ili,liil1i){return ii1ili===liil1i;},'ekhig':function(lI1lil,i1l1iI){return lI1lil(i1l1iI);},'unRlI':function(liil1l,lI1lii){return liil1l>=lI1lii;},'vfGaW':I11i1i(0x1b4,'Wjj1'),'bRAmb':I11i1i(0xd7,'sb$l'),'vfkks':function(Iiili1,Iil1l1){return Iiili1===Iil1l1;},'gGxqH':I11i1i(0x141,'z(Si'),'pfnjv':function(i1i11I,il1iIl){return i1i11I>il1iIl;},'mABti':function(iii1ii,il1iIi){return iii1ii<il1iIi;},'lbGhV':function(iii1il,II11li){return iii1il(II11li);},'vVPNV':'bxxNm','jJWZq':function(I1l11i,iIIiiI){return I1l11i!==iIIiiI;},'urtdW':I11i1i(0xbf,'3F8Z'),'SwhJO':I11i1i(0x153,'ptw@'),'CadxT':I11i1i(0x165,'8wPG'),'HzYjh':function(liiI1i,ililIi){return liiI1i!==ililIi;},'WBfnw':'加入店铺会员成功','ZJOmS':I11i1i(0x8e,'aMlT'),'JFkme':I11i1i(0xf5,'bloe'),'ewxvT':I11i1i(0xb0,'PJav'),'TdJTr':function(lilIIl,ililIl){return lilIIl===ililIl;},'avdfq':I11i1i(0x126,'lot['),'NRBOo':'27004','RrHkD':I11i1i(0xbb,'5PJ@'),'MLhDu':I11i1i(0xc6,'%c0u'),'JOeIo':I11i1i(0x105,'z(Si'),'UxwKQ':'jd_shop_member','vhmlT':I11i1i(0x8a,'Wjj1'),'YYvSi':I11i1i(0x180,'ZKJ1'),'kHRVq':I11i1i(0xeb,'sb$l'),'ZzZWu':I11i1i(0xd5,'l8TC'),'corAt':I11i1i(0x166,'jR@5'),'ZrDpH':I11i1i(0x7b,'HTij'),'bhhfw':I11i1i(0x16a,'fsUb'),'jlwVk':I11i1i(0xc5,'VHcY'),'xHUsW':I11i1i(0x16d,'3F8Z'),'NXjCs':function(liiI1l,i1l1II,i1ill){return liiI1l(i1l1II,i1ill);},'cIuLH':'KGITA','XgnGG':function(I1l11l,lilIIi){return I1l11l(lilIIi);},'kmoYq':I11i1i(0x14b,'*9Ay')},{title:iIiI1,UA:liil1I,cookie:i11ii1,message:IlIliI}=ii1ilI;if(invalidIdsMap[I11i1i(0x7a,'bloe')](lillII))return;let l1iII1='',iiill1='',lIli1i=undefined,IIIII1=![],I1lIlI=![],ii1ill=![],II1iI='',llI1II=[];await lillIi(I11i1i(0x10d,'ZKJ1'));if(invalidIdsMap['get'](lillII))return;if(typeof lIli1i===I11i1i(0xc7,'%c0u')){if(lIli1i)console[I11i1i(0xf0,'8nkm')](iIiI1+I11i1i(0x88,'NdR&')),IIIII1&&('tsEtB'!==I11i1i(0x137,'TPTf')?await lillIi(lI1ll1[I11i1i(0x1a4,'bcPw')]):(iI1li1(lllii1),lI1ll1[I11i1i(0x19a,'F0iE')](liIli)));else{if('Wyiot'!=='VxcXJ'){if(invalidIdsMap[I11i1i(0x108,'*Vb3')](lillII))return;if(I1lIlI){if(lI1ll1['cIuLH']!=='KGITA'){ii1I11['log'](liIi1+I11i1i(0xea,'lJ7S')),lI11II[I11i1i(0xb8,'aMlT')](lI1ll1['SSZaF']),l1llI1[I11i1i(0x110,'sb$l')]['push'](llIIll);return;}else await lI1ll1[I11i1i(0x17f,'gU9s')](lillIi,lI1ll1[I11i1i(0x9b,'lJ7S')]);}else I11i1i(0x19e,'3F8Z')===lI1ll1[I11i1i(0x156,'q7!V')]?ii1ill?console[I11i1i(0x16e,'oqS&')](iIiI1+'礼包奖品['+II1iI+I11i1i(0x19b,'l8TC')):console[I11i1i(0xa6,'#9K]')](iIiI1+I11i1i(0xec,'bloe')):IiII['assign'](llIIli,lIII1I);}else lI1ll1[I11i1i(0xc8,'$xrn')](llliii,0x0)&&(lI1ll1[I11i1i(0x128,'BIP4')](i11I11,l1llIl),ii1I1l());}}async function lIli1l(II11l1,Iil1lI){const l1l1iI=I11i1i,IiiliI={'lSptt':'XMDvH'};try{switch(II11l1){case lI1ll1[l1l1iI(0xcc,'HTij')]:if(lI1ll1[l1l1iI(0x1b1,'fH#t')](Iil1lI['success'],!![])){if(lI1ll1['bRAmb']===l1l1iI(0x158,'8nkm')){let iii1iI=Iil1lI[l1l1iI(0x167,'5PJ@')];Array[l1l1iI(0x155,'9$%#')](iii1iI)&&(iii1iI=iii1iI[0x0]);lIli1i=lI1ll1['vfkks'](iii1iI?.['userInfo']?.['openCardStatus'],0x1);if(iii1iI?.[l1l1iI(0x182,'GhQ]')]){l1iII1=iii1iI?.[l1l1iI(0xd4,'ZKJ1')]?.[0x0]?.['interestsInfo']?.['activityId'],iiill1=iii1iI?.[l1l1iI(0x17e,'5PJ@')]?.[0x0]?.[l1l1iI(0x1b7,'1N9#')]?.[l1l1iI(0xba,'#9K]')];lIli1i&&(IIIII1=!![]);for(const iilli of iii1iI?.[l1l1iI(0x143,'bcPw')]){if(lI1ll1[l1l1iI(0x184,'8wPG')]!==l1l1iI(0x1ab,'$xrn')){const {prizeType:IlllIl}=iilli;switch(IlllIl){case 0x1:case 0x17:llI1II['push'](l1l1iI(0x100,'PJav'));break;case 0x4:llI1II['push'](iilli['discountString']+'京豆🐶'),I1lIlI=!![];lI1ll1['pfnjv'](minBeans,0x0)&&iilli[l1l1iI(0x171,'Xj9R')]<minBeans&&(ii1ill=!![],I1lIlI=![],II1iI=iilli[l1l1iI(0x131,'fH#t')]+'京豆');break;case 0x6:llI1II[l1l1iI(0x14d,'VHcY')](iilli[l1l1iI(0x1ba,'HTij')]+l1l1iI(0xe0,'$xrn'));break;case 0xe:llI1II[l1l1iI(0x193,'fH#t')](iilli[l1l1iI(0x194,'BIP4')]+'红包🧧'),I1lIlI=!![];if(minBeans>0x0&&lI1ll1[l1l1iI(0xb2,'HTij')](lI1ll1['lbGhV'](parseInt,iilli[l1l1iI(0x185,'#Ivx')]*0x64),minBeans)){if(lI1ll1['vVPNV']===l1l1iI(0x1bb,'%Zl4')){const lI1IIi=IiilII(IliI1I);lI1ll1['unRlI'](lI1IIi,0x0)&&(i1li[l1l1iI(0x117,'lJ7S')]=lI1IIi);}else ii1ill=!![],I1lIlI=![],II1iI=iilli[l1l1iI(0xb5,'l67w')]+'红包';}break;default:llI1II['push'](''+iilli[l1l1iI(0x177,'NdR&')]+iilli[l1l1iI(0x197,'Wjj1')]);}}else IilIll['log'](lI11Ii),Iiill&&(lI11I1['outFlag']=!![]);}}const {venderCardName:llIll,venderCardLogo:il1iII}=iii1iI?.[l1l1iI(0x172,'ymqq')];if(iii1iI?.[l1l1iI(0xa0,'l67w')]&&!llIll&&!il1iII){console[l1l1iI(0x160,'lJ7S')](iIiI1+l1l1iI(0x127,'TPTf')),invalidIdsMap[l1l1iI(0x1a3,'NdR&')](lillII,!![]);return;}!$[l1l1iI(0x12c,'ZKJ1')+lillII]&&(lI1ll1['jJWZq'](lI1ll1[l1l1iI(0x103,'Q434')],lI1ll1[l1l1iI(0x16c,'Xj9R')])?($[l1l1iI(0x81,'oqS&')+lillII]=!![],console[l1l1iI(0xdc,'l67w')](l1l1iI(0x1b2,'q7!V')+lillII),console[l1l1iI(0x94,'%c0u')](l1l1iI(0x13c,'ptw@')+(iii1iI?.[l1l1iI(0x11e,'l8TC')]?.[l1l1iI(0x15b,'%c0u')]||'未知')+'\x0a')):IllIIl[l1l1iI(0xa6,'#9K]')](IiiIi1+'加入店铺会员成功'));}else I1iIll['log'](I1lliI+l1l1iI(0x1a6,'uIWl'));}else Iil1lI[l1l1iI(0xb1,'8wPG')]?console[l1l1iI(0x122,'fH#t')](''+iIiI1+Iil1lI['message']):console['log'](iIiI1+l1l1iI(0xd9,'GhQ]')+JSON['stringify'](Iil1lI)+l1l1iI(0x113,'5PJ@'));break;case lI1ll1[l1l1iI(0x136,'3F8Z')]:if(Iil1lI[l1l1iI(0xe6,'Xj9R')]===!![]){if(lI1ll1[l1l1iI(0x178,'Xj9R')](l1l1iI(0x159,'ymqq'),'wGICM'))l1lIlI=!![];else{if(Iil1lI[l1l1iI(0xb9,'Q434')]===lI1ll1['WBfnw']){if(Iil1lI[l1l1iI(0x83,'PJav')]&&Iil1lI[l1l1iI(0xee,'fsUb')]?.['giftInfo']){llI1II=[];for(const il1iI1 of Iil1lI['result']?.['giftInfo']?.['giftList']){const {prizeType:IlllIi}=il1iI1;switch(IlllIi){case 0x1:case 0x17:llI1II[l1l1iI(0xbd,'GhQ]')](l1l1iI(0xbc,'F0iE')),IlIliI[l1l1iI(0x19c,'Wjj1')](l1l1iI(0x116,'%c0u'));break;case 0x4:llI1II[l1l1iI(0xd2,'gU9s')](il1iI1['discountString']+l1l1iI(0xaf,'gU9s')),IlIliI[l1l1iI(0xdf,'l8TC')](il1iI1[l1l1iI(0x17b,'*Vb3')]+l1l1iI(0x164,'cFdZ'));break;case 0x6:llI1II[l1l1iI(0xb4,'5PJ@')](il1iI1[l1l1iI(0x16b,'%Zl4')]+l1l1iI(0x7f,'*9Ay')),IlIliI[l1l1iI(0x195,'$xrn')](il1iI1[l1l1iI(0x112,'#9K]')]+l1l1iI(0xe3,'n%ak'));break;case 0xe:llI1II[l1l1iI(0xfe,'8nkm')](il1iI1[l1l1iI(0xd1,'bloe')]+l1l1iI(0x1b9,'PJav')),IlIliI[l1l1iI(0x15f,'8)1a')](il1iI1[l1l1iI(0x1a9,'8nkm')]+l1l1iI(0x187,'F0iE'));break;default:llI1II['push'](''+il1iI1[l1l1iI(0x106,'lot[')]+il1iI1[l1l1iI(0x13b,'9$%#')]),IlIliI[l1l1iI(0x102,'l67w')](''+il1iI1[l1l1iI(0x12d,'gU9s')]+il1iI1[l1l1iI(0x18f,'fsUb')]);}}llI1II[l1l1iI(0x198,'gU9s')]>0x0?lI1ll1[l1l1iI(0x15c,'n%ak')](lI1ll1['ZJOmS'],lI1ll1['ZJOmS'])?(lIIiil=!![],l1lIii=![],I11iI1=l1lIil[l1l1iI(0x8b,'TPTf')]+'红包'):console['log'](iIiI1+l1l1iI(0x146,'fH#t')+llI1II['join']('、')):console['log'](iIiI1+l1l1iI(0x174,'1N9#'));}else l1l1iI(0x104,'F0iE')!==lI1ll1[l1l1iI(0x120,'GhQ]')]?console[l1l1iI(0xa6,'#9K]')](iIiI1+l1l1iI(0xfc,'l67w')):iiilli[l1l1iI(0x122,'fH#t')](l1l1iI(0x125,'A9Rq')+l1iIIl+'\x20请求响应\x20'+(iiilll[l1l1iI(0x186,'l8TC')]||lI11Il));}else Iil1lI[l1l1iI(0x17a,'ymqq')]===l1l1iI(0x10a,'ptw@')?l1l1iI(0x132,'GhQ]')!==lI1ll1[l1l1iI(0x123,'q7!V')]?IIII11?l1i111[l1l1iI(0xdc,'l67w')](iliII1+l1l1iI(0x154,'8nkm')+II11I1+']数量低于设置的阈值'):Iii11I['log'](Iil1II+l1l1iI(0x18c,'ymqq')):console[l1l1iI(0x118,'#Ivx')](''+iIiI1+Iil1lI[l1l1iI(0xe9,'bcPw')]+l1l1iI(0x82,'fsUb')):console['log'](''+iIiI1+Iil1lI[l1l1iI(0x107,'l67w')]+l1l1iI(0x12a,'1N9#'));}}else{if(Iil1lI[l1l1iI(0xe7,'$xrn')])console[l1l1iI(0xdc,'l67w')](''+iIiI1+Iil1lI[l1l1iI(0x8d,'n%ak')]+l1l1iI(0x12e,'cSL!'));else{if(lI1ll1[l1l1iI(0xca,'q7!V')]('xwxNi','xwxNi')){I1i11l[l1l1iI(0xa7,'bcPw')](llIlii+l1l1iI(0x127,'TPTf')),llIlil['set'](IIlil,!![]);return;}else console[l1l1iI(0x157,'sb$l')](iIiI1+l1l1iI(0xcb,'#9K]'));}}break;case'collectGift':if(lI1ll1['TdJTr'](Iil1lI[l1l1iI(0xe6,'Xj9R')],!![]))llI1II['forEach'](lI1IIl=>{const I1llI1=l1l1iI;I1llI1(0x133,'#Ivx')!==IiiliI[I1llI1(0xa8,'VHcY')]?IlIliI[I1llI1(0xf4,'%Zl4')](lI1IIl):iliIII=iIIl1i;}),console['log'](iIiI1+l1l1iI(0x199,'bloe')+llI1II[l1l1iI(0xf6,'u&9@')]('、'));else Iil1lI[l1l1iI(0xf7,'Xj9R')]?console['log'](''+iIiI1+Iil1lI[l1l1iI(0xa5,'lJ7S')]+l1l1iI(0xb6,'%Zl4')):console[l1l1iI(0xfa,'uIWl')](iIiI1+l1l1iI(0x11b,'aMlT'));break;}}catch(iii1lI){console['log']('❌\x20未能正确处理\x20'+II11l1+'\x20请求响应\x20'+(iii1lI['message']||iii1lI));}}async function lillIi(i1ilI1){const I11i1l=I11i1i;let Iiilii=lI1ll1[I11i1l(0xd0,'u&9@')],Iil1li=null,Iiilil=null,Iil1ll=I11i1l(0xde,'gU9s'),iillI={},lI1III={};switch(i1ilI1){case lI1ll1[I11i1l(0x1a5,'uIWl')]:lI1III={'appId':lI1ll1[I11i1l(0x15d,'1N9#')],'appid':lI1ll1[I11i1l(0x152,'A9Rq')],'functionId':lI1ll1['vfGaW'],'clientVersion':I11i1l(0xe5,'NdR&'),'client':'H5','body':{'venderId':lillII,'payUpShop':!![],'queryVersion':lI1ll1[I11i1l(0x121,'ZKJ1')],'appid':I11i1l(0x1a1,'z(Si'),'needSecurity':!![],'bizId':lI1ll1[I11i1l(0x1ac,'8wPG')],'channel':0x196},'version':I11i1l(0x14f,'%c0u'),'t':!![],'ua':liil1I},iillI=await H5st[I11i1l(0xc3,'cSL!')](lI1III),Iil1li=iillI[I11i1l(0x7d,'F0iE')];break;case lI1ll1[I11i1l(0x196,'%Zl4')]:lI1III={'appId':I11i1l(0x183,'*Vb3'),'appid':lI1ll1[I11i1l(0x95,'%Zl4')],'functionId':lI1ll1[I11i1l(0x145,'ymqq')],'clientVersion':I11i1l(0x170,'PJav'),'client':'H5','body':{'venderId':lillII,'bindByVerifyCodeFlag':0x1,'registerExtend':{},'writeChildFlag':0x0,'channel':0x196,'appid':lI1ll1['NRBOo'],'needSecurity':!![],'bizId':lI1ll1['RrHkD']},'version':I11i1l(0x14c,'l#vu'),'t':!![],'ua':liil1I};l1iII1&&(lI1III[I11i1l(0x87,'ZKJ1')][I11i1l(0x13d,'n%ak')]=l1iII1);iillI=await H5st['getH5st'](lI1III),Iil1li=iillI[I11i1l(0xf8,'sb$l')];break;case I11i1l(0x175,'oqS&'):Iil1ll=lI1ll1['JOeIo'],Iiilil={'appid':lI1ll1[I11i1l(0x10b,'cSL!')],'functionId':lI1ll1[I11i1l(0x163,'ptw@')],'body':JSON['stringify']({'venderId':lillII,'activityId':l1iII1,'activityType':iiill1}),'clientVersion':lI1ll1[I11i1l(0x140,'*9Ay')],'client':'H5','uuid':'88888','jsonp':I11i1l(0x138,'1N9#')+Date[I11i1l(0x114,'9$%#')]()+I11i1l(0x19f,'Wjj1')};break;}const IIliIi={'area':'','screen':I11i1l(0x17d,'fH#t'),'uuid':lI1ll1[I11i1l(0x11d,'5PJ@')]};Iil1li&&Object[I11i1l(0xf1,'sb$l')](Iil1li,IIliIi);Iiilil&&Object[I11i1l(0xac,'cSL!')](Iiilil,IIliIi);const IllIiI={'url':Iiilii,'method':Iil1ll,'headers':{'Accept':lI1ll1['ZzZWu'],'Accept-Encoding':'gzip,\x20deflate,\x20br','Accept-Language':lI1ll1['corAt'],'Origin':I11i1l(0x111,'A9Rq'),'Referer':lI1ll1['ZrDpH'],'Sec-Fetch-Dest':I11i1l(0xff,'l67w'),'Sec-Fetch-Mode':lI1ll1[I11i1l(0x191,'HTij')],'Content-Type':lI1ll1['jlwVk'],'User-Agent':liil1I,'Cookie':i11ii1},'params':Iiilil,'data':Iil1li,'timeout':0x7530};lI1ll1[I11i1l(0x14e,'8wPG')](Iil1ll,lI1ll1[I11i1l(0x1bc,'%Zl4')])&&(delete IllIiI[I11i1l(0x135,'lJ7S')],delete IllIiI[I11i1l(0x1b8,'oqS&')][lI1ll1[I11i1l(0x18a,'lot[')]]);const i1il1=0x1;let I1l111=0x0,IIii1l=null,I1iIII=![];while(I1l111<i1il1){const liiI11=await common[I11i1l(0x188,'aMlT')](IllIiI);if(!liiI11['success']){IIii1l=i1ilI1+'\x20'+iIiI1+I11i1l(0xae,'aMlT')+liiI11[I11i1l(0xce,'l8TC')]+I11i1l(0x93,'1N9#'),I1l111++;continue;}if(!liiI11[I11i1l(0x176,'5PJ@')]){IIii1l=i1ilI1+'\x20'+iIiI1+I11i1l(0x1a0,'F0iE'),I1l111++;continue;}await lI1ll1['NXjCs'](lIli1l,i1ilI1,liiI11[I11i1l(0x9d,'TPTf')]),I1iIII=![];break;}lI1ll1['unRlI'](I1l111,i1il1)&&(console['log'](IIii1l),I1iIII&&($[I11i1l(0x181,'ZKJ1')]=!![]));}}async function concMain(ililI1=0x1,IIii1i,i1ili,Iiill1,I1iII1){const il1il=I11i11,lilII1={'YOwlJ':function(II11i1,iliIil,iliIii){return II11i1(iliIil,iliIii);},'XYLCp':function(lill1i,il1li){return lill1i<il1li;},'aXAkR':function(iIIill,iilii){return iIIill>iilii;},'pvyNy':function(Ill11i,iilil){return Ill11i(iilil);},'qimjS':il1il(0x1b6,'VHcY'),'oAyGT':function(Ill11l,il1ll,i1ilIi){return Ill11l(il1ll,i1ilIi);},'mBPRe':'jFHEC','ZUZpi':function(lill1l,l1l1i1){return lill1l<l1l1i1;},'pJoXz':function(i1iiI){return i1iiI();}};if($[il1il(0xe2,'Wjj1')][il1il(0x92,'z(Si')](Iiill1))return;const iill1=IIii1i[il1il(0x9f,'gU9s')](i1ilIl=>i1ilIl),iii1l1=decodeURIComponent(common[il1il(0x15a,'5PJ@')](i1ili,il1il(0xa3,'gU9s'))),IIliIl='【账号'+Iiill1+'】'+iii1l1+'：'+($['showPrintId']?venderId+'\x20➜\x20':''),II11ll=notify['create'](Iiill1,iii1l1),liiI1I=await common['getLoginStatus'](i1ili);if(!liiI1I&&typeof liiI1I==='boolean'){if(lilII1[il1il(0xda,'*Vb3')]!==il1il(0x11a,'HTij')){console[il1il(0x94,'%c0u')](IIliIl+il1il(0x10e,'$xrn')),II11ll['fix']('账号无效'),$[il1il(0x99,'HTij')][il1il(0x189,'A9Rq')](Iiill1);return;}else IlI1i1=!![],l1lIl1=![],IiiIlI=Iilli1['discountString']+'京豆';}const ililII=common['genUA'](iii1l1),lI1II1={'cookie':i1ili,'index':Iiill1,'title':IIliIl,'UA':ililII,'message':II11ll};let i1ilII=0x0;async function iIIii1(Il1i11){const Il1i1i=il1il;if(Il1i1i(0x1af,'cSL!')==='mGgCh')await lilII1[Il1i1i(0xa4,'cFdZ')](I1iII1,Il1i11,lI1II1),i1ilII--,IllIi1();else{const Iil1i1={'Fympm':function(iliIl1,Ii1il1){return iliIl1===Ii1il1;}},IIii11=IiIl(()=>{const iIIili=Il1i1i;Iil1i1[iIIili(0x91,'8wPG')](l1il1l,0x0)&&(liIii(IIii11),II1ll1());},0x64);}}async function IllIi1(){const Ii1iiI=il1il;while(lilII1['XYLCp'](i1ilII,ililI1)&&lilII1[Ii1iiI(0xf3,'8wPG')](iill1[Ii1iiI(0x142,'l67w')],0x0)){const iii1ll=iill1[Ii1iiI(0x124,'HTij')]();i1ilII++,await lilII1[Ii1iiI(0xa2,'Q434')](iIIii1,iii1ll);}}const lilIII=Math['min'](iill1[il1il(0xf2,'*Vb3')],ililI1),Ii1ilI=[];for(let IIliI1=0x0;lilII1[il1il(0xdb,'ptw@')](IIliI1,lilIII);IIliI1++){const il1lI=iill1['shift']();i1ilII++,Ii1ilI[il1il(0xb4,'5PJ@')](iIIii1(il1lI));}await Promise[il1il(0x9a,'uIWl')](Ii1ilI),lilII1[il1il(0x190,'*Vb3')](IllIi1),await new Promise(IliIIl=>{const Ilil1I=il1il,I1il1l={'cErJn':function(IIliII,iiliI){return IIliII!==iiliI;},'dOXtk':lilII1[Ilil1I(0x139,'z(Si')]},lI1l1l=lilII1['oAyGT'](setInterval,()=>{const iliIiI=Ilil1I;I1il1l[iliIiI(0xe4,'8)1a')](I1il1l[iliIiI(0x1b5,'*9Ay')],iliIiI(0x11c,'TPTf'))?Iillil[iliIiI(0xd8,'TPTf')](l1lIli+iliIiI(0xe8,'TPTf')+lIIiiI['stringify'](II1lil)+'\x20🚫'):i1ilII===0x0&&(clearInterval(lI1l1l),IliIIl());},0x64);});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
