/*
活动名称：开卡入会礼包
活动链接：https://shopmember.m.jd.com/shopcard/?venderId=<商家ID>
环境变量：jd_opencard_venderId // 商家ID，多个用英文逗号分割
        jd_opencard_min_beans // 最低豆子入会阈值（整数），默认1，奖品数量大于或等于此值时才会入会，填0表示不限制
        jd_opencard_task_threads // 控制店铺并发线程数（正整数），默认1，最大3
        jd_opencard_account_threads // 控制账号并发线程数（正整数），默认1，最大3
        jd_opencard_account_interval // 自定义运行间隔时长（整数，单位毫秒），默认1500
        jd_opencard_notify // 是否推送中奖信息（true/false），默认不推送

目前官方设置的入会礼包奖品只有优惠券、京豆、店铺积分、红包

cron:1 1 1 1 *

*/

const $ = new Env('开卡入会礼包')
var iｉl='jsjiami.com.v7';const I11i1i=iii1II;(function(iliIi1,l1l1ii,Il1i1I,Ii1iii,iIIilI,il1l1,Ii1iil){return iliIi1=iliIi1>>0x4,il1l1='hs',Ii1iil='hs',function(Ilil1i,iili1,II11ii,Iil1iI,II11il){const Iil1il=iii1II;Iil1iI='tfi',il1l1=Iil1iI+il1l1,II11il='up',Ii1iil+=II11il,il1l1=II11ii(il1l1),Ii1iil=II11ii(Ii1iil),II11ii=0x0;const iIIil1=Ilil1i();while(!![]&&--Ii1iii+iili1){try{Iil1iI=-parseInt(Iil1il(0x16b,'Uh$z'))/0x1*(-parseInt(Iil1il(0x1e5,'ZhjB'))/0x2)+-parseInt(Iil1il(0x190,'h&Q4'))/0x3+parseInt(Iil1il(0x162,'wEkY'))/0x4+-parseInt(Iil1il(0x1f4,'gAyr'))/0x5+parseInt(Iil1il(0x12e,'Ymda'))/0x6+-parseInt(Iil1il(0x245,'Tih$'))/0x7+parseInt(Iil1il(0x23a,'vhQi'))/0x8;}catch(IlllII){Iil1iI=II11ii;}finally{II11il=iIIil1[il1l1]();if(iliIi1<=Ii1iii)II11ii?iIIilI?Iil1iI=II11il:iIIilI=II11il:II11ii=II11il;else{if(II11ii==iIIilI['replace'](/[RwMJhyruSXUfKApQEF=]/g,'')){if(Iil1iI===iili1){iIIil1['un'+il1l1](II11il);break;}iIIil1[Ii1iil](II11il);}}}}}(Il1i1I,l1l1ii,function(I1il1I,II111,lI1l1I,lill11,liI1i1,I11i11,I1llII){return II111='\x73\x70\x6c\x69\x74',I1il1I=arguments[0x0],I1il1I=I1il1I[II111](''),lI1l1I=`\x72\x65\x76\x65\x72\x73\x65`,I1il1I=I1il1I[lI1l1I]('\x76'),lill11=`\x6a\x6f\x69\x6e`,(0x16f5fb,I1il1I[lill11](''));});}(0xbe0,0x5bbf8,Iii11l,0xc0),Iii11l)&&(iｉl=I11i1i(0x16f,'kK[p'));const jdCookie=require(I11i1i(0x156,'*I8e')),notify=require(I11i1i(0x160,'ZhjB')),common=require(I11i1i(0x11c,'wEkY')),{H5st}=require('./utils/Rebels_H');let idList=(process[I11i1i(0x1f9,'a5vI')][I11i1i(0x228,'4@F5')]||'')['split'](','),minBeans=process[I11i1i(0x1cc,'*I8e')][I11i1i(0x1cd,'Q9^g')]||'2',taskThreads=process['env'][I11i1i(0x1e1,'knvv')]||'1',accountThreads=process['env'][I11i1i(0x212,'Tih$')]||'1';function iii1II(_0x38c2d1,_0xb9fe51){const _0x18342b=Iii11l();return iii1II=function(_0xd53435,_0x209057){_0xd53435=_0xd53435-0x10f;let _0x58588b=_0x18342b[_0xd53435];if(iii1II['FknuZr']===undefined){var _0x16873a=function(_0x59a073){const _0x15f342='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x25808f='',_0x4ff014='';for(let _0x25b3b6=0x0,_0x1b9869,_0x474311,_0x588b27=0x0;_0x474311=_0x59a073['charAt'](_0x588b27++);~_0x474311&&(_0x1b9869=_0x25b3b6%0x4?_0x1b9869*0x40+_0x474311:_0x474311,_0x25b3b6++%0x4)?_0x25808f+=String['fromCharCode'](0xff&_0x1b9869>>(-0x2*_0x25b3b6&0x6)):0x0){_0x474311=_0x15f342['indexOf'](_0x474311);}for(let _0x3c4e90=0x0,_0x31d68a=_0x25808f['length'];_0x3c4e90<_0x31d68a;_0x3c4e90++){_0x4ff014+='%'+('00'+_0x25808f['charCodeAt'](_0x3c4e90)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x4ff014);};const _0x459c30=function(_0x11592,_0x235cc8){let _0x31f649=[],_0x15e4c0=0x0,_0x4d7681,_0x3f3019='';_0x11592=_0x16873a(_0x11592);let _0x502a7d;for(_0x502a7d=0x0;_0x502a7d<0x100;_0x502a7d++){_0x31f649[_0x502a7d]=_0x502a7d;}for(_0x502a7d=0x0;_0x502a7d<0x100;_0x502a7d++){_0x15e4c0=(_0x15e4c0+_0x31f649[_0x502a7d]+_0x235cc8['charCodeAt'](_0x502a7d%_0x235cc8['length']))%0x100,_0x4d7681=_0x31f649[_0x502a7d],_0x31f649[_0x502a7d]=_0x31f649[_0x15e4c0],_0x31f649[_0x15e4c0]=_0x4d7681;}_0x502a7d=0x0,_0x15e4c0=0x0;for(let _0x351324=0x0;_0x351324<_0x11592['length'];_0x351324++){_0x502a7d=(_0x502a7d+0x1)%0x100,_0x15e4c0=(_0x15e4c0+_0x31f649[_0x502a7d])%0x100,_0x4d7681=_0x31f649[_0x502a7d],_0x31f649[_0x502a7d]=_0x31f649[_0x15e4c0],_0x31f649[_0x15e4c0]=_0x4d7681,_0x3f3019+=String['fromCharCode'](_0x11592['charCodeAt'](_0x351324)^_0x31f649[(_0x31f649[_0x502a7d]+_0x31f649[_0x15e4c0])%0x100]);}return _0x3f3019;};iii1II['RzQwAL']=_0x459c30,_0x38c2d1=arguments,iii1II['FknuZr']=!![];}const _0x4038fa=_0x18342b[0x0],_0x51c4e2=_0xd53435+_0x4038fa,_0x3fbff6=_0x38c2d1[_0x51c4e2];return!_0x3fbff6?(iii1II['XlGKnJ']===undefined&&(iii1II['XlGKnJ']=!![]),_0x58588b=iii1II['RzQwAL'](_0x58588b,_0x209057),_0x38c2d1[_0x51c4e2]=_0x58588b):_0x58588b=_0x3fbff6,_0x58588b;},iii1II(_0x38c2d1,_0xb9fe51);}const runInterval=process[I11i1i(0x1a1,'ngx^')][I11i1i(0x136,'rkqZ')]||'1500',isNotify=process[I11i1i(0x237,'6eQc')][I11i1i(0x20a,'Uh$z')]===I11i1i(0x1d6,'@oYR'),invalidIdsMap=new Map(),maxThreads=0x3,cookiesArr=Object[I11i1i(0x240,'O(%W')](jdCookie)['map'](lllI1l=>jdCookie[lllI1l])[I11i1i(0x19e,'qD7I')](i11iii=>i11iii);!cookiesArr[0x0]&&($[I11i1i(0x112,'nO^0')]($[I11i1i(0x209,'Uh$z')],'【提示】请先获取Cookie'),process[I11i1i(0x1b6,'$6rL')](0x1));function Iii11l(){const Iil1ii=(function(){return[...[iｉl,'RhrSjuQsjiSXaSwmEiAU.JAMcwyoKfmrS.QMvp7F==','WOj0WOTXW6hdNCkUWQvDWQ8EESozexhcQrO','iNzlWRLq','W5JcQ8k6pLGhFq','DHRcV1ZcNq','WRyHWPauW50','baud','r150WR1InSkdWOL9W6bbWPb7ra','e8oVk8ovpW','hCkXDCk1WO4gW5q','WRe2AgFdUvFcKSoNWPm','s1z0WO5/kSkdWOLNW7PvWPzk','W5juW6bNmCohuq','gSolW5xcSCoX','mmolW5pcOmod','kKus','W5vjW71KjG','CWVcUhZcTmkjvNemWRpdLCoZW7xcMSkxlwbh','aCkCkXddUq','4PYToEIgS+ADSUI/VUIJHoMaKEwjSos5P+MwRoISUSky','B05DWRHc','srtcPMtcSa','5l215Oo45yIk8kk3GU+5Ua','cu1laKSHEI1eEmoaW509Ba','5yQp5ysW5BMT6zkQ5l2c5zke5OMU5yMx','r8kmW4NcO8oSj8kBW5uPf8kNsmkEkfLHmCkLW4zWeGjv','bauxW603DG','WQtcICojW4m8','WPyuWQOfWOq','l0awvSon','CSk+tYzNqmk7tuVdNvJdPSkkW4C','W63dM0GYW6BdOdRcIulcOwzCW6TDr8kSimoDimkwWQBcTmoScrPBvfRcG0tdR2NcMSom','W4G1ua','W7ddJGhcH8oX','k1Ks','CCoFESkl','W5bGbNCtW4bf','W6hcSgpdMJ7dPXqM','jmkmn8oAWQRcUmkzW7m6','WOy7qb9p','77688yY5OG','nf4AASoPW5NcKWBdT8oZACoGusqyW5HnlMW','W7tdQqq','WOOSrGnpWPv0WRFdJXubka','nmk5jW','W5JcP8kN','W7BdTuFcPSkbfXS','4PY2W7tMNkVOGidMR5JNOjVLPQtNKkii','FgykkYO','5yMp5yAM5BIi6zgn5l2w5zo95OQ/5yIA','W5DtW6y','b0bNdLqXEJP2FSowW6SYAbOGW4pdV8ovCSkJW7BcPmk+cu8wfa','DMyxdqO2W4y','WQmuW7yLzhbV','mNv6WRr0','dhZdMI1pW68Z','qmoOWRO','ifbseN4','WQqllbhdUCo0qW','awpcMqmV','WQRcTLddNmkPy8oYxgddIchcTW','5BMe6zo356sl5yQN8k6UOU+6JG','W7q3tmkkiG','bsaUW7OO','W5ZcLatdImkTW78NDMH3','W73dV0BcKmkbeXy','WQuboa','WRqgWOiSW4K','aaRcKdfFFHtdP8kRW67cIKzvua','B3e8dYq','W4/XJ6I0','W794W4eW','WRqhW5qFvW','WPGRWQW2WRC','W7vNcga7','WOOqWR0gWOS','hL7cVa','WOZcSmoQW7u2','F2OxhqqKW43dM2GHB8kPoCk5','WRNcHImXWRv0WPldMSkO','5yUN5yw15BQA6zc75lYB5zcw5OQg5yIv','ngfHg0e','5Bwh5PUH5l+t5zcv','nsWogIG+W4ZdHfiW','gvL5jvW','W4tcOSkGdLe','zCkUsai','zaRcPg/cLSkzvwC6WRxdPmo7W6NcMq','Ds8gWO4','W4xcU8k6jq','5yUq5yss5BI86zgo5l+n5zk75AwT6lstW6lWMQMe','W6Lbk1K7','WQ8/WQ8fWPW','WRBcQrBcN8oWn8osafddVYBcN8o9W7qhlrhdTmoLqmo4ntJdSCkYWRzj','b0TrdW','w8ktWO/dOmk1C8k7WOKzimkGya','bhzbe2ed','WP53WRtdTIe','WQJcLZ4IWQztWOFdJSkzW5dcT0u','W5NcQ8kNkK0i','i8ogW7JdPg3cMSk6bq','ymoBzCkoxSkmWOTJWPpcRmkpdae','W4TuowiW','WRSEW64+','WQldTMFcJ8kxpdO','6i+W5y+g5BQA6zc75lYB5zcw54IG5Okl5BYz5BIWW6K','W6/dI2mXW73cTwxdUu7cTgiqW6mb','x0HQdvmCxq','WQ/dTs9FW5JdO8kPW5JcPSoFWOdcPmo8WPK','cN1g'],...(function(){return[...['WQJcHZKIWRDu','vrCEWQvo','WQRcMYyNWRvzWOFdSmkKW4/cSW','W6lORRxMSzJLPl/OTRlVVlJMLjVLKyZLUB7MLihMJRxVVQFWP4U6','5BME6zco5l2q5zct5lUD5A2I5z+BWPFXJiIc','W7XLW50OACoAbCotcmoprSkcoqdcPZ0gW7/cPa','6lEV5yYd5PAQ5Psd','p8kUkWBdRq','WQaalaFdQSoN','bXBdIZ7cH8omW49Y','fWVcJcvGErpdVCkmW5pcNa','nCkpmWFdKeC','jYddHaBcPa','5yUs5ywu5BMm6zkA5l2G5zkS5OUU5yI5','zq7cP3JcGa','W4FcQ8k6ofuu','WRC1WOPGpa','axXmwh/dHNBdUSk1W7vOWQWJ','W4jRW71fhG','DSonv8kqW7i','ArdcLN7cI8knqG','W6VdSHhcGSo3pmoisxS','WPZcQ8oWW4aCW5FdHSoRs3FdQW','WRuyW7qZBNz1WQxcRtxdGH9jyW','CeuudYC','WPBdQcnYW54','W6BcShJdJWFdVt0IzYq','W6yZumk6jHxdU8orWPRcObBcVq','WR8dW4aMDW','cWlcHJzk','cSoXW4JcNCkfW5xdGG','DIG1W7a4FmkNW49ywCkUoIG','W7ddGrlcGCoB','W68hgSo7W4zkkq','W65+ahuE','WPrkWQxdHG4','WRu4WOW+WRe','fryZW4S4','i8okW6O','CmkUEGL+','W7ZdRXdcImo2lSopw1hdRJBcK8o/W6a','bvdcSHqUWP3cK8od','WOrIWO4','WQ7cVXK5WRu','W5z7bLqnW4rrWQddLc4easi','WRCyW6SKzhe','mIBdUI3cMW','5yMP5ysl5BUi6zky5l6c5zol5OI25yUk77+X6i++5B2D776d','iSkenG','WRJORBhMSkhLP5ROTRZVVzm','CCkYsaLNuSk8v0VdNuVdU8krW5m','5Rw/5yIh5AA054o754II77+46kYR56MN5zk05ywZ6k6K','W7FdV0hcSmkigWmCWR7cNmoqW75BWPPorxqHCW','Emo/Dq','iSk6DCkXW78','bxddMJ1bW704nmkYW4hcP8o7v8oK','W7LsexSr','W5VLLlFLRlezrE+8Mq','rfjZWO1LlmkDWRjEW7fDWRP0us9Xaq5w','W6zJW4e9DSol','WOZcRmoZW5SPW4BdM8ocvLJdUW','aWldGsNcTSowW5e','WO4LxarrWPm','W6Snha','hbJdJa','qFczIii','W5L3W4OtFq','ECk0xa','dq0EW70O','WRz1WO3dLq','W5XzW7xdPmk4WO/cP23dQCkFWQJdJNFcMq','57UZ5y+M8kI1Ma','CFghQ7y','WQbuWP7dMaq','xIuyld/cGq','WRiwWPeqWPyHq8opleTF','v8ozAmk6W7q','WOZdOmo7yWK','W4BcG8k/oue','W5TdW6jeiG','fbhcIIHvrrVdVSkD','hvflcq','WRb0WOVdLYK','nfn9iL0','W6m/DCkOdq','WQjOWPFdMYK','vsa4bYq','uVctIBa','WQ/dQsXy','h3xcJqm/','k8kfjW','FM0s','F8k/zav4qSk8qhNdM13dJCksW51bWO0YW6/dLfD2','6AkP5y6d5yAF5l2k56wK5y+z5Awp6lETCFcAQQK','5RcK5P6M5ywz5l2y56AP5y+F','auTF','jCkLl8oMea','WOpcRmo4','W53WP6Mt','EgWkht8WW5ddHa','mSo9iSo4dG','W6lcO3/dIW','E8k+xG5AqSk/tg7dJhRdVCkqW59gWRCzW6tdKvX9','lmoncmo4gq','ar8oW5SO','5lYA5zc75y6277Yw','qt8CcIJcGdu','W4FcN13dOSkvWROPzWXBWRFdIYxcVtFcNmo8W71F','sLL0WRT/nW','WPrVcmo8EK/dJmk4WOFcVZFcUq','FSowwCkUW4e'],...(function(){return['W6FdU1ZcL8k0hr42','W5PFW5bKjmoduqvoBmkWWRdcUrfTnCkAW7dcNmoLWQ9+W6RcGG','W6FdHLiMW4lcS2hdJNxcTgewW6mb','i1KBFW','WRbgWPnGWR8','WQNcTvxdMCkGB8oIA0VdVbxcMW','mMFcOmopDSow','5lY35Ok15yUc8kUwIE+7KW','xmoOWQ9kEq','W6/dLXpcRSo4','WRGwWR0+W6O','mmoAW6/cUSox','BM81hr0','WPKqWOORWOi','4PU+iUIePowSSUs5I+I9RUIIQoMwGEMzIEAxMUMwG+ISGUE8MEMwJUITTa','WQWFWO4','W7hcJttdG8kb','5lMr6lcL8ygrSG','BaZcSa','iCkwlSox','hwhdIgvQW6PoWQCdvvrEAa','ECorAq','W53cUSk9puPAn8ozBMRcI8olWR/cVSo3nSoPW6XJWP8','W7TCW5DFaa','grNdN8orWQxcHI9cWRffWPOZWO/cSs3cLLS','WQZcMJW','W5fpW67dICkNWR8','WOKvWR0Lza','W7hdQKxcJ8kjfXiNWQFcLSoqWPjcW4vDE21QEJBcHSoZW4dcO8oftr/dQ8oDW4lcJCkuW78','W5rsW7XOo8oturj8ASkMWOBcOXC','cxJdMG5CW6e4nmkOW5VcS8o9zG','W51cW6zIbW','W4BcPSkMpxqfDCkuE3NcR8opWR7dTmoupmkHW6a','eWlcIIzKyHFdTG','W5zzW7ldLmk2WOFcQq','zwf2WRf4','A3yxfG','WQqmB37dTq','k2DzlLu','d8kdqmkuW7W','i8okW6RdG0ZcM8kSjCokWPSFW5yvW60ZcuNcULS','W77dU1JcHG','W7RdVMRcJmkqer0WWQ/cI8oAW6juWODEzxW+','bHldHCoqWRlcKr9xWRbZWQe+WOFcMa','W7VcTbhdRSkQ','t1jPWRL5kW','WReFWOWgWQSGBSoalgm','W552bLGjW4HwWQ3dRGm','z/cBMQy','5lMd6lkf8lIIGq','b3XTgwmsWOiUEbZcS8oapCoQu3dcQSk2hCoJEbHmaCo8BWO','WOLHWOu','WOzeWPb7WQa','5yMX5ysu5BIq6zkQ5lYB5zgB5OIl5yMo77+Y6i+25BYN772S','cmkXCSkiW5Cb','W5hdNf7cUCkj','vmo/zCkZW5i','sFc3QjC','bxLbjMeEWOi5uadcSCoWaW','4PILWO/OR4VLHiRLRi/KUPpLV5dOPkFNMQFNJB7LOOZLJQRPHyNLKB3LHQdOVjJOOylOHQtMNApVV7O','WOjRWPzmWQJcJSk5WQfCWQy','qSoIWRHDrh9+W7VdK8kEW54cC8k4WPFcOCoZWOmjW5mY','W7ldTqNcGSo4nSoiawhdTsNdLmoNWRa','6lw35yYu5PA95PE3','6lEJ5y2X5PAL5Pw+','6lwl5y+t5PEy5PsP','imooW6RdSq','WQ0rWPK','mxDNWPHT','yv1uWQTN','W6vXchqk','aaldKsi','dGFcVd1aBHtdSmkzW6JcNhbnuLpdS8kfqNZdOq','mmobgCorgmonW6DXjGddRbhcKfW','W43cGGpdIq','5Rk05P+s5ywE5l2W56s05yYI','WQ8iuu3dPW','s8oUWRTnwNnGW6a','hLbkceOZFt9U','WOWvWRmCW6m','bComW5S','pCkmoG','ucuBea','dmkGvSkvW6O','kLmgACoLW5VcMW','WRGFW7m1C2zOWQxcJrpdHrPcsmk1W5FcIq','keNcTZes','W4aYsa','W5ddRZBcUmo9','W4FdHw83W78','hCk0W6OpiYGGWQBdSSkoW6SCwSkA','tCo0WQ5qCxq','W59FW7elDG','W7NdTehcHSkseqaNWR3cQ8olW5fFWQrdF24','W5LvW7XUjSos','lLGwDSoXW5JcMXC','FSoBD8kz','WRmyW6K0vMPVWRNcQctdNHjcDG','qCoIWQ5kD312','W7TzB1lcRa','WQCju0BdSq','xI4brYfcW5WbyspcRCo4na','WPy0W5m','WQ8NAx3dTLFcNG','WRyyW6eKsg19WR4','WR1OWOhdHrryW6WKqSk5pbtdMmkCbGddUgxdT1GM','qK0mct8','W6tdNe8RW7lcTa','WRiEW7uJ','5l6F5Okc5yMd8lILSU+4TW'];}())];}())];}());Iii11l=function(){return Iil1ii;};return Iii11l();};!(async()=>{const l1l1iI=I11i1i,llI1Ii={'sYzyB':function(lllI1i,li1i1l,II1i1){return lllI1i(li1i1l,II1i1);},'BjSuj':function(lI1lll,iIiII){return lI1lll(iIiII);},'FGcJn':function(iil1lI,iiiliI){return iil1lI>=iiiliI;},'fNupb':'gLUcz','BgfPt':function(li1i1I,illIii,ii1il1,lI1llI,illIil,Ill1I){return li1i1I(illIii,ii1il1,lI1llI,illIil,Ill1I);},'QkrDa':function(i11iiI,lIli11){return i11iiI!==lIli11;},'LyZfO':function(lllI1I,lillI1){return lllI1I>lillI1;},'YwECy':function(IlIlii,i1l1i1){return IlIlii<=i1l1i1;},'KJVtp':'⚠\x20请先定义必要的环境变量后再运行脚本！','vPNwF':function(liil11,iiillI){return liil11===iiillI;},'FCaOq':'uMfgC','VTYhD':l1l1iI(0x1ee,'CBsw'),'AFkZi':l1l1iI(0x196,'F!H('),'gKSre':'Xzscy','evSOV':function(l1l111,l1iIII){return l1l111>=l1iIII;},'gTaru':function(llI1I1,IlIlil){return llI1I1>IlIlil;}};try{if(llI1Ii['QkrDa']('kXUln',l1l1iI(0x224,'h&Q4'))){notify['config']({'title':$['name']});if(llI1Ii[l1l1iI(0x117,'dESZ')](idList[l1l1iI(0x166,'8]rL')],0x0))idList=[...new Set(idList[l1l1iI(0x11d,'F!H(')](lIli1I=>lIli1I!==''))];if(llI1Ii[l1l1iI(0x1c4,'rkqZ')](idList[l1l1iI(0x20d,'dESZ')],0x0)){console[l1l1iI(0x1f5,'O(%W')](llI1Ii[l1l1iI(0x11e,'Mcfs')]);return;}$[l1l1iI(0x17a,'MErA')]=null;if(runInterval){if(l1l1iI(0x1ca,'c]u5')===l1l1iI(0x251,'hm(q'))I11iIi['log'](''+I1ilII+I11iIl[l1l1iI(0x234,'nO^0')]+l1l1iI(0x149,'Mcfs'));else try{const lllI11=llI1Ii[l1l1iI(0x239,'X&y0')](parseInt,runInterval);lllI11>=0x0&&(llI1Ii['vPNwF'](llI1Ii[l1l1iI(0x206,'rkqZ')],llI1Ii[l1l1iI(0x20c,'XlvS')])?$[l1l1iI(0x201,'4@F5')]=lllI11:iliIII=iIIl1i);}catch{console[l1l1iI(0x1b1,'$RH3')](llI1Ii[l1l1iI(0x15e,'Ymda')]);}}try{const I1lIli=parseInt(taskThreads);I1lIli>0x0&&llI1Ii[l1l1iI(0x193,'Ymda')](I1lIli,0x1)&&(taskThreads=I1lIli);}catch{if(llI1Ii[l1l1iI(0x217,'Uh$z')]!==l1l1iI(0x146,'zfkO'))taskThreads=0x1;else{const IIIIII=llI1Ii[l1l1iI(0x1ba,'$6rL')](IiIl,()=>{l1il1l===0x0&&(liIii(IIIIII),II1ll1());},0x64);}}taskThreads=Math['min'](taskThreads,maxThreads);try{const lillII=parseInt(accountThreads);lillII>0x0&&lillII!==0x1&&(accountThreads=lillII);}catch{accountThreads=0x1;}accountThreads=Math[l1l1iI(0x123,'6eQc')](accountThreads,maxThreads);try{if(llI1Ii[l1l1iI(0x141,'6eQc')](l1l1iI(0x23c,'f5QM'),llI1Ii[l1l1iI(0x19c,'a5vI')])){const ii1ilI=llI1Ii['BjSuj'](parseInt,minBeans);llI1Ii[l1l1iI(0x14b,'qD7I')](ii1ilI,0x0)&&(minBeans=ii1ilI);}else{const iIiI1=llI1Ii[l1l1iI(0x225,'dESZ')](iliIIl,Ii1iIl);llI1Ii[l1l1iI(0x1a9,'Ymda')](iIiI1,0x0)&&(ill11I=iIiI1);}}catch{minBeans=0xa;}$[l1l1iI(0x249,'$6rL')]=[],$['showPrintId']=![],llI1Ii['gTaru'](idList[l1l1iI(0x1e6,'CBsw')],0x1)&&($[l1l1iI(0x17b,'4@F5')]=!![]),await common[l1l1iI(0x1d4,'*I8e')](accountThreads,cookiesArr,async(liil1I,i11ii1)=>{const I1llI1=l1l1iI;if(llI1Ii[I1llI1(0x205,'WiuX')]===I1llI1(0x142,'F!H(')){await llI1Ii[I1llI1(0x1bd,'O(%W')](concMain,taskThreads,idList,liil1I,i11ii1,Main);if($[I1llI1(0x19a,'c]u5')])await $['wait']($[I1llI1(0x128,'@oYR')]);}else ll1i1[I1llI1(0x230,'wEkY')](IIli1i+I1llI1(0x215,'qD7I')+I1iIi1[I1llI1(0x16a,'qD7I')]('、'));}),isNotify&&notify[l1l1iI(0x21c,'cL7Q')]()&&await notify[l1l1iI(0x159,'Q9^g')]();}else ii1li['log'](''+IIll1+ll1il[l1l1iI(0x144,'Uh$z')]+'\x20🚫');}catch(iiill1){console['log'](l1l1iI(0x116,'Y#@s')+iiill1);}})()['catch'](lIli1i=>$[I11i1i(0x1bb,'uEju')](lIli1i))[I11i1i(0x18f,'8&O$')](()=>$[I11i1i(0x1e3,'nO^0')]());async function Main(IIIII1,I1lIlI){const I11i1l=I11i1i,ii1ill={'HiUSd':I11i1l(0x221,'rkqZ'),'FvkbE':I11i1l(0x21b,'X&y0'),'qvKXM':function(il1iIl,iii1ii){return il1iIl!==iii1ii;},'yfJqS':I11i1l(0x1d5,'W#8k'),'FVqou':'ojasA','FcKfN':function(il1iIi,iii1il){return il1iIi===iii1il;},'nrGvv':I11i1l(0x1ed,'JnQV'),'ulQcv':function(II11li,I1l11i){return II11li!==I1l11i;},'qliCh':'kBuNt','mJKCp':function(iIIiiI,liiI1i){return iIIiiI(liiI1i);},'kxmOv':I11i1l(0x241,'qD7I'),'euAcv':function(ililIi,lilIIl){return ililIi===lilIIl;},'vtWhQ':'NhcZP','xDktQ':function(ililIl,liiI1l){return ililIl===liiI1l;},'tAKSO':I11i1l(0x252,'zfkO'),'YNhwT':I11i1l(0x124,'ZhjB'),'GGAgH':function(i1l1II,i1ill){return i1l1II===i1ill;},'LzDbZ':'cJrzm','BCEgH':I11i1l(0x195,'JnQV'),'MzPWg':I11i1l(0x15f,'JnQV'),'WWfLw':I11i1l(0x183,'knvv'),'GUfjx':I11i1l(0x122,'X&y0'),'wQpEa':'POST','hvcLI':I11i1l(0x1af,'Ymda'),'OlUhK':'27004','eKIHf':'shopmember_m_jd_com','csuBz':'4.7','gjGni':I11i1l(0x1fb,'knvv'),'csYzr':'GET','sRBcU':I11i1l(0x16d,'X&y0'),'kFpqL':I11i1l(0x181,'f5QM'),'MtjsZ':I11i1l(0x1a6,'dIsf'),'uewuu':I11i1l(0x1dc,'XlvS'),'hNeNy':I11i1l(0x1f6,'8]rL'),'HXzyZ':I11i1l(0x18c,'6eQc'),'YURQq':function(I1l11l,lilIIi){return I1l11l<lilIIi;},'JrzQD':function(i1l1Il,llIli){return i1l1Il>=llIli;},'VzxKy':function(i1i11l,i1i11i){return i1i11l(i1i11i);},'ZdzEu':I11i1l(0x208,'yRdt'),'myiiS':I11i1l(0x10f,'knvv'),'UHqar':I11i1l(0x18a,'kK[p'),'hGqjB':function(II11l1,Iil1lI){return II11l1(Iil1lI);},'ZaeXO':function(IiiliI,iii1iI){return IiiliI!==iii1iI;},'vvrWF':I11i1l(0x24f,'h&Q4')},{title:II1iI,UA:llI1II,cookie:lIli1l,message:lillIi}=I1lIlI;if(invalidIdsMap['get'](IIIII1))return;let illIi1='',ii1ili='',liil1i=undefined,lI1lil=![],i1l1iI=![],liil1l=![],lI1lii='',Iiili1=[];await ii1ill[I11i1l(0x1b3,'f5QM')](i1i11I,ii1ill[I11i1l(0x226,'Ymda')]);if(invalidIdsMap[I11i1l(0x197,'yRdt')](IIIII1))return;if(typeof liil1i===ii1ill[I11i1l(0x1ff,'knvv')]){if(ii1ill[I11i1l(0x194,'$6rL')]('zaOaE',I11i1l(0x1f7,'knvv'))){const il1iII=lil['shift']();IllI1l++,i11I1i[I11i1l(0x15b,'tks!')](IillIl(il1iII));}else{if(liil1i)console[I11i1l(0x1f2,'hm(q')](II1iI+I11i1l(0x155,'8]rL')),lI1lil&&(ii1ill[I11i1l(0x1e4,'cL7Q')]==='SnfDg'?await ii1ill[I11i1l(0x191,'ZhjB')](i1i11I,I11i1l(0x173,'a5vI')):lliilI['log'](lili1+I11i1l(0x153,'h&Q4')));else{if(invalidIdsMap[I11i1l(0x170,'Tih$')](IIIII1))return;i1l1iI?await i1i11I(I11i1l(0x1e2,'X&y0')):liil1l?ii1ill['ZaeXO'](ii1ill['vvrWF'],I11i1l(0x1bf,'8]rL'))?console['log'](II1iI+'礼包奖品['+lI1lii+']数量低于设置的阈值'):l1lIlI=!![]:console[I11i1l(0x1d0,'rkqZ')](II1iI+I11i1l(0x1cf,'X&y0'));}}}async function Iil1l1(II11lI,lI1IIi){const il1il=I11i1l;try{if(ii1ill[il1il(0x22f,'zfkO')]('tzEzg',ii1ill['yfJqS']))switch(II11lI){case il1il(0x1ab,'dESZ'):if(lI1IIi['success']===!![]){if(ii1ill['qvKXM'](ii1ill[il1il(0x203,'dESZ')],il1il(0x1e8,'vhQi'))){let I1l11I=lI1IIi['result'];Array[il1il(0x185,'hm(q')](I1l11I)&&(I1l11I=I1l11I[0x0]);liil1i=ii1ill['FcKfN'](I1l11I?.['userInfo']?.['openCardStatus'],0x1);if(I1l11I?.['interestsRuleList']){if(il1il(0x111,'wEkY')==='vDkze')ill111=0x1;else{illIi1=I1l11I?.[il1il(0x23d,'Uh$z')]?.[0x0]?.[il1il(0x19d,'Ymda')]?.[il1il(0x20f,'Ymda')],ii1ili=I1l11I?.[il1il(0x235,'qD7I')]?.[0x0]?.['interestsInfo']?.[il1il(0x165,'a5vI')];liil1i&&(ii1ill[il1il(0x18d,'qD7I')]!==il1il(0x1a7,'$ed2')?i1l1lI[il1il(0x1e0,'Uh$z')]=i1iliI:lI1lil=!![]);for(const IlllIi of I1l11I?.[il1il(0x1f8,'$RH3')]){const {prizeType:iIIiil}=IlllIi;switch(iIIiil){case 0x1:case 0x17:Iiili1[il1il(0x1f3,'QGP@')](il1il(0x119,'Tih$'));break;case 0x4:Iiili1[il1il(0x1f3,'QGP@')](IlllIi[il1il(0x1a3,'Q9^g')]+'京豆🐶'),i1l1iI=!![];minBeans>0x0&&IlllIi['discountString']<minBeans&&(ii1ill[il1il(0x1ec,'*I8e')](ii1ill[il1il(0x158,'8]rL')],il1il(0x1c6,'$6rL'))?(liil1l=!![],i1l1iI=![],lI1lii=IlllIi['discountString']+'京豆'):IiII[il1il(0x171,'a5vI')](llIIli,lIII1I));break;case 0x6:Iiili1['push'](IlllIi['discountString']+il1il(0x140,'$6rL'));break;case 0xe:Iiili1[il1il(0x15c,'8]rL')](IlllIi[il1il(0x1fd,'knvv')]+'红包🧧'),i1l1iI=!![];minBeans>0x0&&ii1ill[il1il(0x22c,'WiuX')](parseInt,IlllIi[il1il(0x188,'qD7I')]*0x64)<minBeans&&(liil1l=!![],i1l1iI=![],lI1lii=IlllIi['discountString']+'红包');break;default:Iiili1[il1il(0x22a,'XlvS')](''+IlllIi[il1il(0x147,'4@F5')]+IlllIi[il1il(0x152,'a5vI')]);}}}}const {venderCardName:Ilil1l,venderCardLogo:iIIiii}=I1l11I?.['shopMemberCardInfo'];if(I1l11I?.[il1il(0x200,'8]rL')]&&!Ilil1l&&!iIIiii){console[il1il(0x223,'JnQV')](II1iI+il1il(0x175,'a5vI')),invalidIdsMap['set'](IIIII1,!![]);return;}!$[il1il(0x258,'dESZ')+IIIII1]&&($[il1il(0x1fe,'Y#@s')+IIIII1]=!![],console[il1il(0x230,'wEkY')]('\x0a商家ID：'+IIIII1),console[il1il(0x13b,'vhQi')]('会员卡：'+(I1l11I?.['shopMemberCardInfo']?.[il1il(0x20b,'$RH3')]||'未知')+'\x0a'));}else lIIiil=!![],l1lIii=![],I11iI1=l1lIil[il1il(0x15a,'hm(q')]+'红包';}else lI1IIi[il1il(0x13d,'9FzU')]?il1il(0x1b5,'F!H(')===il1il(0x18e,'4@F5')?console[il1il(0x1b1,'$RH3')](''+II1iI+lI1IIi['message']):Iil1I1[il1il(0x1f5,'O(%W')]('❌\x20脚本运行遇到了错误\x0a'+Ii1iII):console[il1il(0x1d0,'rkqZ')](II1iI+il1il(0x16c,'h&Q4')+JSON[il1il(0x186,'ZhjB')](lI1IIi)+il1il(0x1c8,'c]u5'));break;case ii1ill[il1il(0x1c0,'knvv')]:if(lI1IIi[il1il(0x1ae,'MErA')]===!![]){if(ii1ill[il1il(0x198,'Q9^g')](lI1IIi[il1il(0x247,'WiuX')],il1il(0x17e,'c]u5'))){if(lI1IIi[il1il(0x17c,'ngx^')]&&lI1IIi[il1il(0x216,'$ed2')]?.[il1il(0x248,'qD7I')]){Iiili1=[];for(const lI1IIl of lI1IIi[il1il(0x180,'8]rL')]?.[il1il(0x167,'yRdt')]?.[il1il(0x22d,'vhQi')]){const {prizeType:i1ilI}=lI1IIl;switch(i1ilI){case 0x1:case 0x17:Iiili1['push'](il1il(0x1e7,'gAyr')),lillIi[il1il(0x1dd,'dESZ')](il1il(0x24d,'j4tY'));break;case 0x4:Iiili1[il1il(0x14a,'f5QM')](lI1IIl['discountString']+il1il(0x211,'Mcfs')),lillIi[il1il(0x23e,'knvv')](lI1IIl['discountString']+il1il(0x1f1,'zfkO'));break;case 0x6:Iiili1['push'](lI1IIl[il1il(0x1a8,'Y#@s')]+'店铺积分🎟️'),lillIi[il1il(0x1ac,'f5QM')](lI1IIl[il1il(0x199,'ZhjB')]+'店铺积分🎟️');break;case 0xe:Iiili1[il1il(0x1c2,'rkqZ')](lI1IIl[il1il(0x11a,'rkqZ')]+'红包🧧'),lillIi[il1il(0x179,'9FzU')](lI1IIl[il1il(0x254,'dESZ')]+il1il(0x1b8,'QGP@'));break;default:Iiili1['push'](''+lI1IIl[il1il(0x1fd,'knvv')]+lI1IIl['prizeName']),lillIi['insert'](''+lI1IIl[il1il(0x229,'W#8k')]+lI1IIl[il1il(0x1c1,'4@F5')]);}}if(Iiili1['length']>0x0)ii1ill['vtWhQ']===ii1ill[il1il(0x233,'$ed2')]?console[il1il(0x1b0,'j4tY')](II1iI+il1il(0x1a0,'9FzU')+Iiili1[il1il(0x161,'rkqZ')]('、')):(IlI1i1=!![],l1lIl1=![],IiiIlI=Iilli1[il1il(0x151,'*I8e')]+'京豆');else{if(ii1ill[il1il(0x178,'ngx^')](ii1ill[il1il(0x169,'Ymda')],ii1ill[il1il(0x157,'Tih$')]))console['log'](II1iI+il1il(0x11b,'gAyr'));else{ii1I11[il1il(0x145,'9FzU')](liIi1+il1il(0x21f,'QGP@')),lI11II[il1il(0x12f,'dIsf')](ii1ill[il1il(0x238,'ZhjB')]),l1llI1[il1il(0x21d,'vhQi')][il1il(0x204,'*I8e')](llIIll);return;}}}else ii1ill[il1il(0x24a,'*I8e')]!=='umQXh'?console[il1il(0x1f5,'O(%W')](II1iI+il1il(0x134,'Mcfs')):Iillil[il1il(0x1d0,'rkqZ')](l1lIli+'获取店铺会员状态异常\x20'+lIIiiI[il1il(0x22e,'rkqZ')](II1lil)+il1il(0x219,'wEkY'));}else{if(ii1ill[il1il(0x255,'W#8k')](lI1IIi[il1il(0x242,'vhQi')],il1il(0x1a4,'yRdt'))){if(ii1ill['euAcv'](il1il(0x214,'cL7Q'),ii1ill[il1il(0x1f0,'XlvS')]))console[il1il(0x125,'nO^0')](''+II1iI+lI1IIi[il1il(0x250,'8]rL')]+il1il(0x210,'h&Q4'));else{IiilI1[il1il(0x1b4,'Q9^g')](ii1ill[il1il(0x115,'ngx^')]);return;}}else console['log'](''+II1iI+lI1IIi[il1il(0x137,'*I8e')]+il1il(0x1b2,'Y#@s'));}}else lI1IIi['message']?console[il1il(0x213,'cL7Q')](''+II1iI+lI1IIi[il1il(0x144,'Uh$z')]+il1il(0x1d3,'zfkO')):ii1ill['BCEgH']!==il1il(0x1d1,'QGP@')?IlI1l=lilIil:console[il1il(0x1f5,'O(%W')](II1iI+il1il(0x15d,'$RH3'));break;case il1il(0x1ad,'Mcfs'):if(ii1ill['GGAgH'](lI1IIi['success'],!![]))'nAQbZ'!==ii1ill[il1il(0x164,'$6rL')]?i1l1li=0x1:(Iiili1[il1il(0x131,'Uh$z')](iillI=>{const Il1i1i=il1il;lillIi[Il1i1i(0x163,'Tih$')](iillI);}),console[il1il(0x1d2,'Mcfs')](II1iI+'领取入会礼包成功，获得：'+Iiili1[il1il(0x1c9,'kK[p')]('、')));else lI1IIi['message']?console[il1il(0x1f5,'O(%W')](''+II1iI+lI1IIi['message']+il1il(0x1b9,'QGP@')):console[il1il(0x231,'QGP@')](II1iI+il1il(0x1ce,'gAyr'));break;}else lIIiii[il1il(0x21a,'Tih$')+iI1lli]=!![],ll1iI[il1il(0x135,'(lTr')](il1il(0x1aa,'qD7I')+iI1lll),l1lIll[il1il(0x14f,'c]u5')](il1il(0x1da,'hm(q')+(I1l1II?.[il1il(0x114,'hm(q')]?.['venderCardName']||'未知')+'\x0a');}catch(IIliIi){console['log'](il1il(0x132,'$ed2')+II11lI+'\x20请求响应\x20'+(IIliIi[il1il(0x13a,'Y#@s')]||IIliIi));}}async function i1i11I(IllIiI){const iIIili=I11i1l;if(ii1ill[iIIili(0x1c5,'6eQc')](iIIili(0x236,'c]u5'),ii1ill[iIIili(0x17d,'MErA')]))IIII1I[iIIili(0x187,'Mcfs')]=!![];else{let I1l111=ii1ill['GUfjx'],IIii1l=null,I1iIII=null,liiI11=ii1ill[iIIili(0x1e9,'ZhjB')],ililI1={},IIii1i={};switch(IllIiI){case'getShopOpenCardInfo':IIii1i={'appId':'27004','appid':iIIili(0x176,'f5QM'),'functionId':iIIili(0x1a5,'Uh$z'),'clientVersion':iIIili(0x1be,'8]rL'),'client':'H5','body':{'venderId':IIIII1,'payUpShop':!![],'queryVersion':ii1ill[iIIili(0x120,'nO^0')],'appid':ii1ill['OlUhK'],'needSecurity':!![],'bizId':ii1ill[iIIili(0x244,'WiuX')],'channel':0x196},'version':ii1ill[iIIili(0x1d9,'F!H(')],'t':!![],'ua':llI1II},ililI1=await H5st['getH5st'](IIii1i),IIii1l=ililI1[iIIili(0x18b,'@oYR')];break;case'bindWithVender':IIii1i={'appId':'27004','appid':iIIili(0x12c,'nO^0'),'functionId':'bindWithVender','clientVersion':ii1ill[iIIili(0x1c7,'uEju')],'client':'H5','body':{'venderId':IIIII1,'bindByVerifyCodeFlag':0x1,'registerExtend':{},'writeChildFlag':0x0,'channel':0x196,'appid':iIIili(0x243,'9FzU'),'needSecurity':!![],'bizId':iIIili(0x12c,'nO^0')},'version':ii1ill[iIIili(0x150,'Mcfs')],'t':!![],'ua':llI1II};illIi1&&(IIii1i[iIIili(0x232,'uEju')][iIIili(0x143,'XlvS')]=illIi1);ililI1=await H5st[iIIili(0x256,'$ed2')](IIii1i),IIii1l=ililI1[iIIili(0x20e,'JnQV')];break;case'collectGift':liiI11=ii1ill[iIIili(0x184,'O(%W')],I1iIII={'appid':ii1ill[iIIili(0x13e,'c]u5')],'functionId':'collectGift','body':JSON[iIIili(0x257,'WiuX')]({'venderId':IIIII1,'activityId':illIi1,'activityType':ii1ili}),'clientVersion':iIIili(0x12a,'Ymda'),'client':'H5','uuid':ii1ill[iIIili(0x189,'*I8e')],'jsonp':iIIili(0x1fa,'(lTr')+Date['now']()+'_51149'};break;}const i1ili={'area':'','screen':iIIili(0x129,'O(%W'),'uuid':'88888'};IIii1l&&Object[iIIili(0x23b,'vhQi')](IIii1l,i1ili);I1iIII&&Object[iIIili(0x24b,'X&y0')](I1iIII,i1ili);const Iiill1={'url':I1l111,'method':liiI11,'headers':{'Accept':ii1ill[iIIili(0x13c,'rkqZ')],'Accept-Encoding':iIIili(0x24e,'cL7Q'),'Accept-Language':ii1ill[iIIili(0x139,'h&Q4')],'Origin':ii1ill['hNeNy'],'Referer':'https://pages.jd.com/','Sec-Fetch-Dest':iIIili(0x17f,'hm(q'),'Sec-Fetch-Mode':iIIili(0x24c,'qD7I'),'Content-Type':iIIili(0x1fc,'Uh$z'),'User-Agent':llI1II,'Cookie':lIli1l},'params':I1iIII,'data':IIii1l,'timeout':0x7530};liiI11===iIIili(0x246,'qD7I')&&(delete Iiill1['data'],delete Iiill1[iIIili(0x192,'j4tY')][ii1ill['HXzyZ']]);const I1iII1=0x1;let lilII1=0x0,iill1=null,iii1l1=![];while(ii1ill[iIIili(0x14c,'JnQV')](lilII1,I1iII1)){const IIliIl=await common[iIIili(0x138,'qD7I')](Iiill1);if(!IIliIl[iIIili(0x1db,'uEju')]){iill1=''+II1iI+IllIiI+iIIili(0x1a2,'ZhjB')+IIliIl[iIIili(0x113,'knvv')]+iIIili(0x12b,'8]rL'),lilII1++;continue;}if(!IIliIl[iIIili(0x222,'yRdt')]){iill1=''+II1iI+IllIiI+iIIili(0x174,'WiuX'),lilII1++;continue;}await Iil1l1(IllIiI,IIliIl[iIIili(0x126,'O(%W')]),iii1l1=![];break;}ii1ill[iIIili(0x14d,'Ymda')](lilII1,I1iII1)&&(console[iIIili(0x223,'JnQV')](iill1),iii1l1&&($[iIIili(0x127,'Ymda')]=!![]));}}}async function concMain(II11ll=0x1,liiI1I,ililII,lI1II1,i1ilII){const Ii1iiI=I11i1i,iIIii1={'YySmR':function(Ill11l){return Ill11l();},'uWAiG':function(il1ll,i1ilIi){return il1ll===i1ilIi;},'EuEzD':Ii1iiI(0x14e,'JnQV'),'khWDA':function(lill1l,l1l1i1){return lill1l>l1l1i1;},'trXqO':function(i1iiI,i1ilIl){return i1iiI(i1ilIl);},'IwqhI':function(llI11I,Il1i11){return llI11I===Il1i11;},'LgxOW':'ineod','iPdlN':function(iii1li,Iil1i1){return iii1li(Iil1i1);},'AAkYR':'gfEIK','PMkCD':function(IIii11,iliIl1,Ii1il1){return IIii11(iliIl1,Ii1il1);},'wIKZW':function(iii1ll,IIliI1){return iii1ll(IIliI1);},'WjTbB':Ii1iiI(0x177,'a5vI'),'xebJn':function(il1lI,IliIIl){return il1lI(IliIIl);}};if($[Ii1iiI(0x1d7,'Q9^g')][Ii1iiI(0x23f,'nO^0')](lI1II1))return;const IllIi1=liiI1I[Ii1iiI(0x1ef,'JnQV')](I1il1l=>I1il1l),lilIII=iIIii1['wIKZW'](decodeURIComponent,common[Ii1iiI(0x1b7,'(lTr')](ililII,'pt_pin')),Ii1ilI='【账号'+lI1II1+'】'+lilIII+'：'+($[Ii1iiI(0x1bc,'JnQV')]?venderId+'\x20➜\x20':''),II11i1=notify['create'](lI1II1,lilIII),iliIil=await common[Ii1iiI(0x121,'Q9^g')](ililII);if(!iliIil&&typeof iliIil==='boolean'){console['log'](Ii1ilI+Ii1iiI(0x220,'kK[p')),II11i1[Ii1iiI(0x253,'F!H(')](iIIii1[Ii1iiI(0x11f,'JnQV')]),$['needRemoveCookieIndex'][Ii1iiI(0x227,'MErA')](lI1II1);return;}const iliIii=common[Ii1iiI(0x133,'*I8e')](lilIII),lill1i={'cookie':ililII,'index':lI1II1,'title':Ii1ilI,'UA':iliIii,'message':II11i1};let il1li=0x0;async function iIIill(lI1l1l){const Ilil1I=Ii1iiI;await i1ilII(lI1l1l,lill1i),il1li--,iIIii1[Ilil1I(0x1eb,'wEkY')](iilii);}async function iilii(){const iliIiI=Ii1iiI;if(iIIii1[iliIiI(0x207,'$ed2')](iIIii1[iliIiI(0x1ea,'zfkO')],iliIiI(0x1c3,'$6rL')))I1iIll[iliIiI(0x12d,'ZhjB')](I1lliI+iliIiI(0x22b,'Q9^g'));else while(il1li<II11ll&&iIIii1[iliIiI(0x1df,'O(%W')](IllIi1['length'],0x0)){const iiliI=IllIi1['shift']();il1li++,await iIIii1[iliIiI(0x148,'*I8e')](iIIill,iiliI);}}const Ill11i=Math[Ii1iiI(0x130,'8]rL')](IllIi1['length'],II11ll),iilil=[];for(let Ill11I=0x0;Ill11I<Ill11i;Ill11I++){const I1il1i=IllIi1[Ii1iiI(0x110,'wEkY')]();il1li++,iilil['push'](iIIii1[Ii1iiI(0x1d8,'W#8k')](iIIill,I1il1i));}await Promise[Ii1iiI(0x19b,'cL7Q')](iilil),iilii(),await new Promise(IliIIi=>{const II11iI=Ii1iiI;if('gfEIK'!==iIIii1[II11iI(0x218,'O(%W')])I1lll1=0xa;else{const i1iil=iIIii1[II11iI(0x172,'tks!')](setInterval,()=>{const Il1i1l=II11iI;iIIii1[Il1i1l(0x118,'hm(q')](iIIii1['LgxOW'],Il1i1l(0x19f,'MErA'))?ll1li[Il1i1l(0x1cb,'ngx^')](''+Illl1I+lliiiI[Il1i1l(0x202,'(lTr')]+'\x20🚫'):il1li===0x0&&(iIIii1['iPdlN'](clearInterval,i1iil),iIIii1[Il1i1l(0x154,'Tih$')](IliIIi));},0x64);}});}var version_ = 'jsjiami.com.v7';
// prettier-ignore
function Env(t,e){"undefined"!=typeof process&&JSON.stringify(process.env).indexOf("GITHUB")>-1&&process.exit(0);class s{constructor(t){this.env=t}send(t,e="GET"){t="string"==typeof t?{url:t}:t;let s=this.get;return"POST"===e&&(s=this.post),new Promise((e,i)=>{s.call(this,t,(t,s,r)=>{t?i(t):e(s)})})}get(t){return this.send.call(this.env,t)}post(t){return this.send.call(this.env,t,"POST")}}return new class{constructor(t,e){this.name=t,this.http=new s(this),this.data=null,this.dataFile="box.dat",this.logs=[],this.isMute=!1,this.isNeedRewrite=!1,this.logSeparator="\n",this.startTime=(new Date).getTime(),Object.assign(this,e),this.log("",`🔔${this.name}, 开始!`)}isNode(){return"undefined"!=typeof module&&!!module.exports}isQuanX(){return"undefined"!=typeof $task}isSurge(){return"undefined"!=typeof $httpClient&&"undefined"==typeof $loon}isLoon(){return"undefined"!=typeof $loon}toObj(t,e=null){try{return JSON.parse(t)}catch{return e}}toStr(t,e=null){try{return JSON.stringify(t)}catch{return e}}getjson(t,e){let s=e;const i=this.getdata(t);if(i)try{s=JSON.parse(this.getdata(t))}catch{}return s}setjson(t,e){try{return this.setdata(JSON.stringify(t),e)}catch{return!1}}getScript(t){return new Promise(e=>{this.get({url:t},(t,s,i)=>e(i))})}runScript(t,e){return new Promise(s=>{let i=this.getdata("@chavy_boxjs_userCfgs.httpapi");i=i?i.replace(/\n/g,"").trim():i;let r=this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout");r=r?1*r:20,r=e&&e.timeout?e.timeout:r;const[o,h]=i.split("@"),n={url:`http://${h}/v1/scripting/evaluate`,body:{script_text:t,mock_type:"cron",timeout:r},headers:{"X-Key":o,Accept:"*/*"}};this.post(n,(t,e,i)=>s(i))}).catch(t=>this.logErr(t))}loaddata(){if(!this.isNode())return{};{this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e);if(!s&&!i)return{};{const i=s?t:e;try{return JSON.parse(this.fs.readFileSync(i))}catch(t){return{}}}}}writedata(){if(this.isNode()){this.fs=this.fs?this.fs:require("fs"),this.path=this.path?this.path:require("path");const t=this.path.resolve(this.dataFile),e=this.path.resolve(process.cwd(),this.dataFile),s=this.fs.existsSync(t),i=!s&&this.fs.existsSync(e),r=JSON.stringify(this.data);s?this.fs.writeFileSync(t,r):i?this.fs.writeFileSync(e,r):this.fs.writeFileSync(t,r)}}lodash_get(t,e,s){const i=e.replace(/\[(\d+)\]/g,".$1").split(".");let r=t;for(const t of i)if(r=Object(r)[t],void 0===r)return s;return r}lodash_set(t,e,s){return Object(t)!==t?t:(Array.isArray(e)||(e=e.toString().match(/[^.[\]]+/g)||[]),e.slice(0,-1).reduce((t,s,i)=>Object(t[s])===t[s]?t[s]:t[s]=Math.abs(e[i+1])>>0==+e[i+1]?[]:{},t)[e[e.length-1]]=s,t)}getdata(t){let e=this.getval(t);if(/^@/.test(t)){const[,s,i]=/^@(.*?)\.(.*?)$/.exec(t),r=s?this.getval(s):"";if(r)try{const t=JSON.parse(r);e=t?this.lodash_get(t,i,""):e}catch(t){e=""}}return e}setdata(t,e){let s=!1;if(/^@/.test(e)){const[,i,r]=/^@(.*?)\.(.*?)$/.exec(e),o=this.getval(i),h=i?"null"===o?null:o||"{}":"{}";try{const e=JSON.parse(h);this.lodash_set(e,r,t),s=this.setval(JSON.stringify(e),i)}catch(e){const o={};this.lodash_set(o,r,t),s=this.setval(JSON.stringify(o),i)}}else s=this.setval(t,e);return s}getval(t){return this.isSurge()||this.isLoon()?$persistentStore.read(t):this.isQuanX()?$prefs.valueForKey(t):this.isNode()?(this.data=this.loaddata(),this.data[t]):this.data&&this.data[t]||null}setval(t,e){return this.isSurge()||this.isLoon()?$persistentStore.write(t,e):this.isQuanX()?$prefs.setValueForKey(t,e):this.isNode()?(this.data=this.loaddata(),this.data[e]=t,this.writedata(),!0):this.data&&this.data[e]||null}initGotEnv(t){this.got=this.got?this.got:require("got"),this.cktough=this.cktough?this.cktough:require("tough-cookie"),this.ckjar=this.ckjar?this.ckjar:new this.cktough.CookieJar,t&&(t.headers=t.headers?t.headers:{},void 0===t.headers.Cookie&&void 0===t.cookieJar&&(t.cookieJar=this.ckjar))}get(t,e=(()=>{})){t.headers&&(delete t.headers["Content-Type"],delete t.headers["Content-Length"]),this.isSurge()||this.isLoon()?(this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.get(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)})):this.isQuanX()?(this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t))):this.isNode()&&(this.initGotEnv(t),this.got(t).on("redirect",(t,e)=>{try{if(t.headers["set-cookie"]){const s=t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString();s&&this.ckjar.setCookieSync(s,null),e.cookieJar=this.ckjar}}catch(t){this.logErr(t)}}).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)}))}post(t,e=(()=>{})){if(t.body&&t.headers&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/x-www-form-urlencoded"),t.headers&&delete t.headers["Content-Length"],this.isSurge()||this.isLoon())this.isSurge()&&this.isNeedRewrite&&(t.headers=t.headers||{},Object.assign(t.headers,{"X-Surge-Skip-Scripting":!1})),$httpClient.post(t,(t,s,i)=>{!t&&s&&(s.body=i,s.statusCode=s.status),e(t,s,i)});else if(this.isQuanX())t.method="POST",this.isNeedRewrite&&(t.opts=t.opts||{},Object.assign(t.opts,{hints:!1})),$task.fetch(t).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>e(t));else if(this.isNode()){this.initGotEnv(t);const{url:s,...i}=t;this.got.post(s,i).then(t=>{const{statusCode:s,statusCode:i,headers:r,body:o}=t;e(null,{status:s,statusCode:i,headers:r,body:o},o)},t=>{const{message:s,response:i}=t;e(s,i,i&&i.body)})}}time(t,e=null){const s=e?new Date(e):new Date;let i={"M+":s.getMonth()+1,"d+":s.getDate(),"H+":s.getHours(),"m+":s.getMinutes(),"s+":s.getSeconds(),"q+":Math.floor((s.getMonth()+3)/3),S:s.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(s.getFullYear()+"").substr(4-RegExp.$1.length)));for(let e in i)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?i[e]:("00"+i[e]).substr((""+i[e]).length)));return t}msg(e=t,s="",i="",r){const o=t=>{if(!t)return t;if("string"==typeof t)return this.isLoon()?t:this.isQuanX()?{"open-url":t}:this.isSurge()?{url:t}:void 0;if("object"==typeof t){if(this.isLoon()){let e=t.openUrl||t.url||t["open-url"],s=t.mediaUrl||t["media-url"];return{openUrl:e,mediaUrl:s}}if(this.isQuanX()){let e=t["open-url"]||t.url||t.openUrl,s=t["media-url"]||t.mediaUrl;return{"open-url":e,"media-url":s}}if(this.isSurge()){let e=t.url||t.openUrl||t["open-url"];return{url:e}}}};if(this.isMute||(this.isSurge()||this.isLoon()?$notification.post(e,s,i,o(r)):this.isQuanX()&&$notify(e,s,i,o(r))),!this.isMuteLog){let t=["","==============📣系统通知📣=============="];t.push(e),s&&t.push(s),i&&t.push(i),console.log(t.join("\n")),this.logs=this.logs.concat(t)}}log(...t){t.length>0&&(this.logs=[...this.logs,...t]),console.log(t.join(this.logSeparator))}logErr(t,e){const s=!this.isSurge()&&!this.isQuanX()&&!this.isLoon();s?this.log("",`❗️${this.name}, 错误!`,t.stack):this.log("",`❗️${this.name}, 错误!`,t)}wait(t){return new Promise(e=>setTimeout(e,t))}done(t={}){const e=(new Date).getTime(),s=(e-this.startTime)/1e3;this.log("",`🔔${this.name}, 结束! 🕛 ${s} 秒`),this.log(),(this.isSurge()||this.isQuanX()||this.isLoon())&&$done(t)}}(t,e)}
